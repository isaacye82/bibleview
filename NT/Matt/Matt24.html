<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matthew 24: The End of the Age | 马太福音第二十四章</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Noto+Sans+SC:wght@300;400;500;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap');

        :root {
            /* Midnight Blue - The Unknown Hour, Watchfulness */
            --theme-primary: #1e3a8a; 
            /* Alert Orange - Birth Pains, Warning */
            --theme-accent: #ea580c;
            /* Dawn Gold - Coming of Son of Man */
            --theme-gold: #f59e0b;
            /* Background */
            --theme-bg: #f8fafc;
        }

        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: var(--theme-bg);
            color: #0f172a;
        }

        .en-text {
            font-family: 'Playfair Display', serif;
        }

        h1, h2, h3, .serif {
            font-family: 'Noto Serif SC', serif;
        }

        /* Navigation Styling */
        .nav-btn {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .active-tab {
            color: var(--theme-primary);
            font-weight: 700;
        }
        .active-tab::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--theme-primary);
            border-radius: 2px;
        }

        /* Card Styling */
        .verse-card {
            background-color: white;
            border-left: 4px solid transparent;
            transition: all 0.3s ease;
            border: 1px solid #bfdbfe; /* Blue 200 */
        }
        .verse-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px -5px rgba(30, 58, 138, 0.15);
            border-left-color: var(--theme-primary);
        }

        .academic-box {
            background-color: #f1f5f9; /* Slate 100 */
            border-left: 3px solid #64748b; /* Slate 500 */
            color: #334155;
        }
        
        .devotional-box {
            background-color: #fff7ed; /* Orange 50 */
            border-left: 3px solid #ea580c; /* Orange 600 */
            color: #7c2d12;
        }

        /* Fig Tree Sprout Animation */
        .fig-scene {
            position: relative;
            height: 220px;
            background: linear-gradient(to bottom, #dbeafe 0%, #eff6ff 100%);
            border-radius: 12px;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            border: 2px solid #60a5fa;
        }

        .branch {
            width: 8px;
            height: 120px;
            background-color: #5d4037;
            position: relative;
            border-radius: 4px;
        }
        
        .branch::before { /* Side branch */
            content: '';
            position: absolute;
            top: 40px;
            left: 0;
            width: 40px;
            height: 6px;
            background-color: #5d4037;
            transform: rotate(-45deg);
            transform-origin: left center;
        }

        .leaf {
            position: absolute;
            width: 0;
            height: 0;
            background-color: #65a30d;
            border-radius: 50% 0 50% 0;
            transform: scale(0);
            transition: all 1.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
        }

        /* Leaf positions */
        .l1 { top: -10px; left: -10px; transform-origin: bottom right; }
        .l2 { top: 10px; left: 25px; transform-origin: bottom left; } /* On side branch */
        .l3 { top: 20px; left: -20px; transform-origin: top right; }

        /* Summer State */
        .summer-mode .leaf {
            width: 40px;
            height: 40px;
            transform: scale(1) rotate(-10deg);
        }
        .summer-mode .l2 { transform: scale(1) rotate(45deg); }
        .summer-mode .l3 { transform: scale(1) rotate(-45deg); }

        .sun-glow {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background-color: #f59e0b;
            border-radius: 50%;
            opacity: 0.2;
            transition: all 2s ease;
            transform: scale(0.5);
        }
        
        .summer-mode .sun-glow {
            opacity: 1;
            transform: scale(1.5);
            box-shadow: 0 0 30px #fcd34d;
        }

        /* Pulse Animation for Birth Pains */
        .pulse-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }
        .pulse-bar {
            width: 10px;
            background-color: #ea580c;
            border-radius: 5px;
            animation: grow-shrink 2s infinite ease-in-out;
        }
        .p1 { height: 20px; animation-delay: 0s; }
        .p2 { height: 30px; animation-delay: 0.2s; }
        .p3 { height: 50px; animation-delay: 0.4s; }
        .p4 { height: 30px; animation-delay: 0.6s; }
        .p5 { height: 20px; animation-delay: 0.8s; }

        @keyframes grow-shrink {
            0%, 100% { transform: scaleY(1); opacity: 0.5; }
            50% { transform: scaleY(1.5); opacity: 1; }
        }

        /* Scrollbar */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Navigation -->
    <nav class="bg-white/95 backdrop-blur-md shadow-md sticky top-0 z-50 border-b border-blue-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-24 sm:h-20 items-center">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-blue-900 serif flex flex-col leading-tight">
                        <span><i class="fas fa-hourglass-half mr-2 text-blue-600"></i> 马太福音 24章</span>
                        <span class="text-xs text-blue-700 en-text font-normal ml-8">Matthew Chapter 24</span>
                    </span>
                </div>
                <div class="flex space-x-4 sm:space-x-8 items-center overflow-x-auto no-scrollbar">
                    <button onclick="navigate('dashboard')" id="nav-dashboard" class="nav-btn active-tab px-2 py-2 text-sm text-center shrink-0">
                        末期征兆 <br><span class="text-[10px] uppercase opacity-70 en-text">End Times Signs</span>
                    </button>
                    <button onclick="navigate('study')" id="nav-study" class="nav-btn px-2 py-2 text-sm text-slate-500 hover:text-blue-700 text-center shrink-0">
                        逐节研读 <br><span class="text-[10px] uppercase opacity-70 en-text">Study</span>
                    </button>
                    <button onclick="navigate('methodology')" id="nav-methodology" class="nav-btn px-2 py-2 text-sm text-slate-500 hover:text-blue-700 text-center shrink-0">
                        方法论总结 <br><span class="text-[10px] uppercase opacity-70 en-text">Methodology</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="app-content" class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">
        <!-- Injected via JS -->
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-400 mt-auto">
        <div class="max-w-7xl mx-auto py-8 px-4 text-center">
            <p class="text-lg font-serif italic text-blue-200 mb-1">"所以，你们要警醒，因为不知道你们的主是哪一天来到。"</p>
            <p class="text-sm italic text-slate-500 mb-2 en-text">"Therefore, stay awake, for you do not know on what day your Lord is coming."</p>
            <p class="text-xs opacity-70">马太福音第二十四章中英对照研经报告 | Prophecy & Watchfulness</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- Data Store ---
        const chapterData = {
            intro: {
                title: "橄榄山讲论：末世的征兆与警醒",
                title_en: "The Olivet Discourse: Signs of the End & Watchfulness",
                summary_zh: "马太福音第24章是耶稣五大讲章中的最后一篇（末世论讲章）。耶稣站在橄榄山上，俯瞰圣殿，回答了门徒关于'什么时候有这些事'（圣殿被毁）和'降临与世界的末了'的提问。本章将公元70年耶路撒冷的毁灭与世界终局的审判交织在一起（预言的双重应验）。核心信息不是满足我们对未来的好奇心，而是呼召我们在动荡中保持'忍耐'和'警醒'。",
                summary_en: "Matthew 24 contains the last of Jesus' five major discourses (Eschatological Discourse). From the Mount of Olives, overlooking the Temple, Jesus answers disciples' questions about 'when these things will be' (Temple destruction) and 'the coming and end of the age'. The chapter interweaves the AD 70 destruction of Jerusalem with the final judgment (Prophetic Perspective). The core message is not to satisfy curiosity about the future, but to call for 'endurance' and 'watchfulness' amidst turmoil.",
                concepts: [
                    { title: "产难", title_en: "Birth Pains", greek: "Ōdin", color: "text-orange-600", desc_zh: "指分娩前的阵痛。灾难不是死亡的信号，而是新世界诞生的前奏。", desc_en: "Labor pains. Disasters are not signs of death, but the prelude to a new birth." },
                    { title: "那日子", title_en: "That Day", greek: "Hēmera Ekeinē", color: "text-blue-700", desc_zh: "旧约中'耶和华的日子'，指神介入历史进行最终审判和拯救的时刻。", desc_en: "The 'Day of the Lord' in OT. God's intervention for final judgment and salvation." },
                    { title: "警醒", title_en: "Stay Awake", greek: "Grēgoreō", color: "text-slate-700", desc_zh: "字面意为'保持清醒'。在属灵的昏睡中保持高度的机敏。", desc_en: "Lit. 'To be awake'. Maintaining spiritual alertness amidst general slumber." }
                ]
            },
            sections: [
                {
                    id: "temple",
                    title: "壹 · 圣殿被毁与灾难的起头 (24:1-14)",
                    title_en: "Destruction of the Temple & Beginning of Sorrows",
                    desc: "不要惊慌 | Do Not Be Alarmed",
                    verses: [
                        {
                            ref: "24:2, 6, 8",
                            text_zh: "...将来在这里没有一块石头留在石头上...你们也要听见打仗和打仗的风声，总不要惊慌...这都是灾难（产难）的起头。",
                            text_en: "...There will not be left here one stone upon another... And you will hear of wars and rumors of wars. See that you are not alarmed... All these are but the beginning of the birth pains.",
                            academic: {
                                title: "产难的隐喻 (Metaphor of Birth Pains)",
                                content_zh: "耶稣预言了希律所建宏伟圣殿的彻底毁灭（应验于公元70年提多将军攻陷耶路撒冷）。但他警告门徒，战争、饥荒、地震只是'产难的起头'（Arche Odinon）。在犹太启示文学中，这指弥赛亚时代来临前的剧烈阵痛。忍耐到底的必然得救，且天国福音必须先传遍天下，这表明宣教是末世的时间表。",
                                content_en: "Jesus predicts the total destruction of Herod's magnificent Temple (fulfilled AD 70 by Titus). But He warns that wars/famines are only 'beginning of birth pains'. In Jewish apocalyptic literature, this refers to the travail preceding the Messianic Age. Endurance is key. The Gospel preached to all nations sets the timeline for the End."
                            },
                            devotional: {
                                title: "在动荡中不惊慌 (Calm in Chaos)",
                                content_zh: "当我们看新闻，看到战争、瘟疫、地震时，本能反应是恐惧。但耶稣命令我们'总不要惊慌'。为什么？因为这些阵痛意味着'新生命'（新天新地）即将诞生。基督徒的世界观不是走向毁灭，而是走向重生。你的平安不应建立在世界局势的稳定上，而应建立在对那位掌管历史之主的信靠上。",
                                content_en: "Watching news of war and plague brings fear. But Jesus commands: 'Do not be alarmed.' Why? Because birth pains mean New Life is coming. The Christian worldview isn't heading to annihilation, but rebirth. Your peace shouldn't depend on global stability, but on the Lord of History."
                            }
                        }
                    ]
                },
                {
                    id: "abomination",
                    title: "贰 · 行毁坏可憎的与大灾难 (24:15-28)",
                    title_en: "Abomination of Desolation & Great Tribulation",
                    desc: "逃跑的紧迫性 | Urgency to Flee",
                    verses: [
                        {
                            ref: "24:15-16",
                            text_zh: "你们看见先知但以理所说的'那行毁坏可憎的'站在圣地...那时，在犹太的，应当逃到山上...",
                            text_en: "So when you see the abomination of desolation spoken of by the prophet Daniel, standing in the holy place... then let those who are in Judea flee to the mountains...",
                            academic: {
                                title: "双重指涉 (Dual Reference)",
                                content_zh: "'行毁坏可憎的'引自但以理书。历史上曾指安提阿哥·伊皮法尼斯在圣殿献猪（前167年）。在耶稣的语境中，近期指公元70年罗马军队带着偶像旗帜进入圣殿（路加福音21:20解释为军队围困）；远期指向末世敌基督的亵渎。耶稣强调逃跑的急迫性（不要回家取衣），表明审判临到时的迅雷不及掩耳。若不减少那日子，凡有血气的无一得救，显示了灾难的酷烈。",
                                content_en: "'Abomination of Desolation' (Daniel) historically referred to Antiochus Epiphanes (167 BC). In Jesus' context, the near reference is Roman armies in the Temple (AD 70, cf. Luke 21:20); the far reference is the Antichrist. The urgency to flee (don't go back for cloak) highlights the suddenness of judgment. 'Unless days shortened' indicates the severity of the Tribulation."
                            },
                            devotional: {
                                title: "别回头 (Don't Look Back)",
                                content_zh: "当审判临到时，耶稣警告我们要像罗得离开所多玛一样，'不要下来拿家里的东西'。这测试了我们的依恋——在危急时刻，你最在乎的是你的生命（灵魂），还是你的财产？末世的特征之一就是对物质的极度贪恋。我们需要操练一种'随时可以放下一切'的轻盈生命。",
                                content_en: "When judgment comes, Jesus warns us to be like Lot leaving Sodom: 'Don't go back for possessions.' This tests our attachment—in crisis, do you value your soul or your stuff? The end times are marked by materialism. We need to practice a 'light' life, ready to drop everything instantly."
                            }
                        }
                    ]
                },
                {
                    id: "coming",
                    title: "叁 · 人子的降临：公开的荣耀 (24:29-31)",
                    title_en: "Coming of the Son of Man: Public Glory",
                    desc: "不再是隐藏的 | No Longer Hidden",
                    verses: [
                        {
                            ref: "24:30-31",
                            text_zh: "那时，人子的兆头要显在天上...他们要看见人子，有能力，有大荣耀，驾着天上的云降临...号筒的大声...",
                            text_en: "Then will appear in heaven the sign of the Son of Man... and they will see the Son of Man coming on the clouds of heaven with power and great glory... with a loud trumpet call...",
                            academic: {
                                title: "驾云降临 (Coming on Clouds)",
                                content_zh: "这直接引用但以理书7:13。'驾云'是神的特权（诗104:3）。与第一次卑微的降临（马槽）不同，第二次降临是宇宙性的、公开的（像闪电从东到西）。所有对于'基督在这里或那里'（密室、旷野）的传言都是假的，因为祂的再临将是全地瞩目的。'号筒'与'招聚选民'呼应了旧约的禧年和聚集流散者的应许。",
                                content_en: "Cites Dan 7:13. 'Riding clouds' is a Divine prerogative (Ps 104:3). Unlike the humble First Coming (manger), the Second Coming is cosmic and public (lightning east to west). Secret return theories ('he is in the inner room') are false; every eye will see Him. 'Trumpet' and 'gathering' echo OT Jubilee and gathering of exiles."
                            },
                            devotional: {
                                title: "你是期待还是恐惧？(Anticipation or Fear?)",
                                content_zh: "对于未信者，人子的降临是审判的恐怖（地上的万族都要哀哭）；但对于选民，那是得赎的荣耀（挺身昂首）。你对主再来的态度，是检验你灵性状态的试纸。你是否像那个等待新郎的新妇一样，虽然经历黑夜，却充满盼望地等待黎明的曙光？",
                                content_en: "For unbelievers, the Coming is terror (tribes mourn); for the elect, it's redemption. Your attitude toward His return tests your spiritual state. Are you like the Bride waiting for the Bridegroom—enduring the night with hope for the dawn?"
                            }
                        }
                    ]
                },
                {
                    id: "fig-tree",
                    title: "肆 · 无花果树的比喻：分辨时候 (24:32-35)",
                    title_en: "Parable of the Fig Tree: Discerning the Times",
                    desc: "这世代还没有过去 | This Generation Will Not Pass",
                    verses: [
                        {
                            ref: "24:32-34",
                            text_zh: "你们可以从无花果树学个比方：当树枝发嫩长叶的时候，你们就知道夏天近了...这世代还没有过去，这些事都要成就。",
                            text_en: "From the fig tree learn its lesson: as soon as its branch becomes tender and puts out its leaves, you know that summer is near... this generation will not pass away until all these things take place.",
                            academic: {
                                title: "已经与尚未的张力 (Already & Not Yet)",
                                content_zh: "无花果树发芽是夏天的自然征兆。'这世代'（Genea）有三种主要解释：1. 当时听耶稣讲道的人（指公元70年的应验）；2. 犹太民族（Race）；3. 末世看见这些兆头的那一代人。最稳妥的解释是'双重应验'：对于当时的听众，'这些事'主要指圣殿被毁（旧约时代的结束）；对于末世信徒，指大灾难的终局。耶稣的话（Logoi）比天地更长存。",
                                content_en: "Fig tree budding signals summer naturally. 'This generation' has 3 views: 1. Contemporaries (AD 70 fulfillment); 2. The Jewish race; 3. The generation seeing the End Signs. Best view is 'Dual Fulfillment': For them, 'these things' meant Temple destruction; for the end times, the Great Tribulation. Jesus' Words outlast heaven and earth."
                            },
                            devotional: {
                                title: "属灵的气象员 (Spiritual Meteorologist)",
                                content_zh: "我们会看天气预报决定穿什么衣服，却往往对属灵的季节视而不见。耶稣呼召我们成为时代的观察者。当你看到道德崩溃、爱心冷淡、灾难频发时，不要只把它当作社会新闻，要视其为'树枝发嫩'。夏天（审判与收割）近了，你预备好迎见你的神了吗？",
                                content_en: "We check weather apps to dress, but ignore spiritual seasons. Jesus calls us to be observers of the times. When you see moral collapse, cold love, and disasters, don't just read them as news; see them as 'branches becoming tender'. Summer (Judgment/Harvest) is near. Are you ready to meet your God?"
                            }
                        }
                    ]
                },
                {
                    id: "watch",
                    title: "伍 · 那日子的未知与警醒 (24:36-51)",
                    title_en: "The Unknown Day & Watchfulness",
                    desc: "像挪亚的日子 | Like the Days of Noah",
                    verses: [
                        {
                            ref: "24:36, 40-42",
                            text_zh: "但那日子，那时辰，没有人知道...子也不知道，惟独父知道...那时，两个人在田里，取去一个，撇下一个...所以，你们要警醒...",
                            text_en: "But concerning that day and hour no one knows... nor the Son, but the Father only... Then two men will be in the field; one will be taken and one left... Therefore, stay awake...",
                            academic: {
                                title: "取去与撇下 (Taken & Left)",
                                content_zh: "关于'那日子'的不可知性，甚至子在人性的限制中也不知道，这排除了任何预测日期的企图。'取去一个，撇下一个'常被解释为'被提'，但结合上下文（挪亚的日子，洪水来把他们全都冲去/取去），'取去'更可能指被审判取走（如洪水冲走恶人），'撇下'的是得救的余民。无论哪种解释，核心都是：分离将发生在日常生活中（种地、推磨），突如其来。",
                                content_en: "The unknown timing (even to the Son in incarnation) forbids date-setting. 'Taken vs Left' is often debated (Rapture vs Judgment). Context (Noah's flood 'took' them away) suggests 'taken' refers to judgment, while 'left' refers to the remnant saved. Regardless, the point is the sudden separation occurring during mundane activities (farming, grinding)."
                            },
                            devotional: {
                                title: "忠心有见识的仆人 (Faithful and Wise Servant)",
                                content_zh: "警醒不是搬个板凳坐在门口望天，而是'按时分粮'（尽忠职守）。既然不知道主人何时回来，最好的准备就是在他回来时，发现你正在做他派你做的事。无论你在公司、家庭还是教会，把每一天都当作主可能回来的日子去生活、去爱、去工作。",
                                content_en: "Watchfulness isn't staring at the sky, but 'giving food at the proper time' (faithful duty). Since you don't know when He comes, the best prep is to be found doing His will when He arrives. Whether at work, home, or church, live, love, and work each day as if it were the Day."
                            }
                        }
                    ]
                }
            ]
        };

        // --- State ---
        let appState = {
            view: 'dashboard',
            studyFilter: 'all',
            treeStage: 'winter' // winter, budding, summer
        };

        // --- Init ---
        document.addEventListener('DOMContentLoaded', () => {
            renderDashboard();
        });

        // --- Navigation ---
        function navigate(view) {
            appState.view = view;
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active-tab');
                btn.classList.add('text-slate-500');
            });
            document.getElementById(`nav-${view}`).classList.add('active-tab');
            document.getElementById(`nav-${view}`).classList.remove('text-slate-500');

            if (view === 'dashboard') renderDashboard();
            if (view === 'study') renderStudy();
            if (view === 'methodology') renderMethodology();
            window.scrollTo(0,0);
        }

        // --- Interactive Functions ---
        function advanceTree() {
            const container = document.getElementById('tree-vis');
            const btn = document.getElementById('tree-btn');
            const status = document.getElementById('tree-status');
            
            if (appState.treeStage === 'winter') {
                appState.treeStage = 'budding';
                container.classList.add('budding-mode');
                status.innerText = "树枝发嫩... (Branch becomes tender...)";
                btn.innerText = "继续观察 (Observe More)";
            } else if (appState.treeStage === 'budding') {
                appState.treeStage = 'summer';
                container.classList.add('summer-mode');
                status.innerHTML = "<span class='text-orange-600 font-bold'>长出叶子了！夏天近了！(Summer is Near!)</span>";
                btn.innerText = "重置 (Reset)";
                btn.classList.replace('bg-blue-600', 'bg-slate-600');
            } else {
                appState.treeStage = 'winter';
                container.classList.remove('budding-mode', 'summer-mode');
                status.innerText = "冬天：沉寂中 (Winter: Dormant)";
                btn.innerText = "观察征兆 (Watch Signs)";
                btn.classList.replace('bg-slate-600', 'bg-blue-600');
            }
        }

        // --- Renders ---
        function renderDashboard() {
            const container = document.getElementById('app-content');
            container.innerHTML = `
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 mb-8 animate-fade-in">
                    <!-- Intro -->
                    <div class="lg:col-span-8 bg-white p-8 rounded-xl shadow-lg border-t-4 border-blue-800">
                        <div class="flex items-center mb-4">
                            <span class="bg-blue-100 text-blue-800 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide mr-3">Prophecy</span>
                            <h2 class="text-3xl font-bold serif text-blue-900">${chapterData.intro.title}</h2>
                        </div>
                        <h3 class="text-lg text-slate-400 font-serif italic mb-4 en-text">${chapterData.intro.title_en}</h3>
                        <p class="text-slate-600 leading-relaxed mb-4 text-lg border-l-4 border-blue-200 pl-4">${chapterData.intro.summary_zh}</p>
                        <p class="text-slate-500 leading-relaxed text-sm italic en-text border-l-4 border-slate-200 pl-4">${chapterData.intro.summary_en}</p>
                        
                        <!-- Concept Cards -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-8">
                            ${chapterData.intro.concepts.map(c => `
                                <div class="bg-slate-50 p-4 rounded-lg border border-slate-200 flex flex-col items-center text-center transition hover:bg-blue-50 group">
                                    <h4 class="font-bold ${c.color} text-lg mb-1 group-hover:scale-105 transition">${c.title}</h4>
                                    <p class="text-xs text-slate-400 font-serif mb-1 en-text">${c.title_en}</p>
                                    <p class="text-xs text-slate-500 font-mono mb-2">${c.greek}</p>
                                    <p class="text-xs text-slate-600 mb-1">${c.desc_zh}</p>
                                    <p class="text-[10px] text-slate-400 italic en-text">${c.desc_en}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <!-- Visual Sidebar: Fig Tree Monitor -->
                    <div class="lg:col-span-4 bg-white p-6 rounded-xl shadow-lg flex flex-col border border-blue-200">
                         <h3 class="text-xl font-bold mb-1 text-center text-blue-900">无花果树观测站</h3>
                         <p class="text-xs text-slate-400 mb-4 text-center en-text uppercase tracking-widest">Fig Tree Monitor</p>
                         
                         <div id="tree-vis" class="fig-scene mb-4">
                            <div class="sun-glow"></div>
                            <div class="branch">
                                <div class="leaf l1"></div>
                                <div class="leaf l2"></div>
                                <div class="leaf l3"></div>
                            </div>
                         </div>
                         
                         <p id="tree-status" class="text-center text-sm text-slate-500 mb-4 h-6">冬天：沉寂中 (Winter: Dormant)</p>

                         <button id="tree-btn" onclick="advanceTree()" class="w-full py-2 bg-blue-600 hover:bg-blue-700 text-white rounded font-bold transition shadow-md">
                             <i class="fas fa-binoculars mr-2"></i> 观察征兆 (Watch Signs)
                         </button>
                    </div>
                </div>

                <!-- Feature: Birth Pains & Warning -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                    <!-- Birth Pains -->
                    <div class="bg-white p-6 rounded-xl shadow-lg border border-orange-100">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-bold text-slate-700"><i class="fas fa-heartbeat text-orange-600 mr-2"></i> 产难的起头</h3>
                            <span class="text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded">Matt 24:8</span>
                        </div>
                        <div class="text-center">
                            <div class="pulse-container h-20">
                                <div class="pulse-bar p1"></div>
                                <div class="pulse-bar p2"></div>
                                <div class="pulse-bar p3"></div>
                                <div class="pulse-bar p4"></div>
                                <div class="pulse-bar p5"></div>
                            </div>
                            <p class="text-xs text-slate-500 mt-2">打仗、饥荒、地震 (Wars, Famines, Earthquakes)</p>
                            <p class="text-[10px] text-slate-400 italic">频率与强度增加 (Frequency & Intensity Increase)</p>
                        </div>
                    </div>

                    <!-- Be Ready -->
                    <div class="bg-slate-900 p-6 rounded-xl shadow-lg border border-slate-700 text-white flex flex-col justify-center text-center">
                        <div class="text-4xl text-blue-400 mb-4"><i class="fas fa-bolt"></i></div>
                        <h3 class="text-xl font-bold text-slate-200 mb-2">人子降临</h3>
                        <p class="text-sm text-slate-400 italic mb-4 en-text">"As the lightning comes from the east..."</p>
                        <div class="bg-blue-900/50 p-3 rounded border border-blue-800">
                            <p class="text-xs text-blue-200">
                                不是隐藏在旷野，而是普世可见。<br>
                                (Not hidden in desert, but universally visible.)
                            </p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderStudy() {
            const container = document.getElementById('app-content');
            
            // Filter Controls
            const filterHTML = `
                <div class="sticky top-20 z-40 bg-[#f8fafc]/95 backdrop-blur py-4 mb-6 border-b border-blue-200">
                    <div class="flex justify-between items-center max-w-5xl mx-auto">
                        <h2 class="text-2xl font-bold text-blue-900 serif">逐节研读室 <span class="text-base font-normal text-slate-400 en-text ml-2">Verse by Verse Study</span></h2>
                        <div class="flex bg-white rounded-lg shadow-sm p-1 border border-blue-200">
                            <button onclick="updateFilter('all')" class="px-4 py-1.5 rounded text-sm transition ${appState.studyFilter === 'all' ? 'bg-blue-800 text-white font-bold' : 'text-slate-500 hover:bg-slate-100'}">全部 All</button>
                            <button onclick="updateFilter('academic')" class="px-4 py-1.5 rounded text-sm transition ${appState.studyFilter === 'academic' ? 'bg-slate-600 text-white font-bold' : 'text-slate-500 hover:bg-slate-100'}">经文含义 Exegesis</button>
                            <button onclick="updateFilter('devotional')" class="px-4 py-1.5 rounded text-sm transition ${appState.studyFilter === 'devotional' ? 'bg-orange-600 text-white font-bold' : 'text-slate-500 hover:bg-slate-100'}">灵修应用 Devotional</button>
                        </div>
                    </div>
                </div>
            `;

            let sectionsHTML = '';
            chapterData.sections.forEach(section => {
                sectionsHTML += `
                    <div class="max-w-5xl mx-auto mb-16">
                        <div class="flex items-center mb-6 pl-2 border-l-4 border-blue-800">
                            <div class="pl-4">
                                <h3 class="text-2xl font-bold text-slate-800">${section.title}</h3>
                                <p class="text-sm text-blue-800 font-serif italic mt-1 en-text">${section.title_en} | ${section.desc}</p>
                            </div>
                        </div>
                        
                        <div class="space-y-6">
                            ${section.verses.map(verse => createVerseCard(verse)).join('')}
                        </div>
                    </div>
                `;
            });

            container.innerHTML = filterHTML + sectionsHTML;
        }

        function createVerseCard(verse) {
            // Safety checks
            const academicTitle = verse.academic ? verse.academic.title : "Title Missing";
            const academicContentZh = verse.academic ? verse.academic.content_zh : "Content missing";
            const academicContentEn = verse.academic ? verse.academic.content_en : "Content missing";
            
            const devotionalTitle = verse.devotional ? verse.devotional.title : "Title Missing";
            const devotionalContentZh = verse.devotional ? verse.devotional.content_zh : "Content missing";
            const devotionalContentEn = verse.devotional ? verse.devotional.content_en : "Content missing";

            return `
                <div class="verse-card rounded-lg shadow-sm overflow-hidden mb-6 group">
                    <!-- Verse Text -->
                    <div class="bg-gradient-to-r from-blue-50 to-white p-5 border-b border-blue-100">
                        <span class="inline-block px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-bold rounded mb-2 font-mono border border-blue-200">${verse.ref}</span>
                        <p class="text-slate-800 font-serif text-lg leading-relaxed group-hover:text-blue-900 transition-colors mb-2">"${verse.text_zh}"</p>
                        <p class="text-slate-500 font-serif text-sm italic en-text border-l-2 border-blue-200 pl-3">"${verse.text_en}"</p>
                    </div>

                    <!-- Dual Tracks -->
                    <div class="grid grid-cols-1 md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-blue-100">
                        <!-- Academic -->
                        <div class="p-6 academic-box ${appState.studyFilter === 'devotional' ? 'hidden' : ''}">
                            <div class="flex items-center mb-3 text-slate-500">
                                <i class="fas fa-university mr-2"></i>
                                <h4 class="text-xs font-bold uppercase tracking-widest">经文含义 Exegesis</h4>
                            </div>
                            <h5 class="font-bold text-slate-700 mb-2">${academicTitle}</h5>
                            <p class="text-sm text-slate-600 leading-relaxed text-justify mb-2">${academicContentZh}</p>
                            <p class="text-xs text-slate-400 font-serif italic en-text border-t border-slate-300 pt-2 mt-2">${academicContentEn}</p>
                        </div>

                        <!-- Devotional -->
                        <div class="p-6 devotional-box ${appState.studyFilter === 'academic' ? 'hidden' : ''}">
                            <div class="flex items-center mb-3 text-orange-700">
                                <i class="fas fa-heart mr-2"></i>
                                <h4 class="text-xs font-bold uppercase tracking-widest">灵修应用 Devotional</h4>
                            </div>
                            <h5 class="font-bold text-orange-800 mb-2">${devotionalTitle}</h5>
                            <p class="text-sm text-orange-900/80 leading-relaxed text-justify mb-2">${devotionalContentZh}</p>
                            <p class="text-xs text-orange-700/70 font-serif italic en-text border-t border-orange-200 pt-2 mt-2">${devotionalContentEn}</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderMethodology() {
            const container = document.getElementById('app-content');
            container.innerHTML = `
                <div class="max-w-4xl mx-auto">
                    <div class="text-center mb-10">
                        <h2 class="text-3xl font-bold mb-2 serif text-slate-800">解经方法论总结</h2>
                        <p class="text-slate-500 en-text">Summary of Exegetical Methodology</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Exegesis Card -->
                        <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-slate-600 hover:shadow-xl transition hover:-translate-y-1">
                            <div class="text-slate-500 text-4xl mb-4"><i class="fas fa-book-reader"></i></div>
                            <h3 class="text-xl font-bold text-slate-700 mb-2">权威/经文性解经 (Exegesis)</h3>
                            <p class="text-xs text-slate-400 mb-6 uppercase tracking-wider">Prophetic & Apocalyptic</p>
                            
                            <ul class="space-y-4 text-sm text-slate-600">
                                <li class="flex flex-col items-start">
                                    <div class="flex items-center font-bold text-blue-800 mb-1"><i class="fas fa-check-circle mr-2"></i> 原则 Principles</div>
                                    <div class="mb-1">双重应验原则（近指AD70，远指末世）。启示文学解读（但以理书引用）。自然隐喻分析（无花果树、产难）。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Dual Fulfillment (AD 70 vs End Times). Apocalyptic interpretation (Daniel refs). Nature metaphors (Birth pains).</div>
                                </li>
                                <li class="flex flex-col items-start border-t border-slate-200 pt-3">
                                    <div class="flex items-center font-bold text-blue-800 mb-1"><i class="fas fa-check-circle mr-2"></i> 如何运用 How to Apply</div>
                                    <div class="mb-1">不要陷入预测日期的陷阱（没人知道那日子）。将"兆头"视为警醒的闹钟，而非恐惧的理由。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Avoid date-setting traps. Treat 'Signs' as wake-up calls, not causes for panic.</div>
                                </li>
                            </ul>
                        </div>

                        <!-- Devotional Card -->
                        <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-orange-500 hover:shadow-xl transition hover:-translate-y-1">
                            <div class="text-orange-500 text-4xl mb-4"><i class="fas fa-pray"></i></div>
                            <h3 class="text-xl font-bold text-orange-800 mb-2">灵修/应用性解经 (Devotional)</h3>
                            <p class="text-xs text-orange-600/70 mb-6 uppercase tracking-wider">Hope & Readiness</p>
                            
                            <ul class="space-y-4 text-sm text-slate-600">
                                <li class="flex flex-col items-start">
                                    <div class="flex items-center font-bold text-orange-600 mb-1"><i class="fas fa-check-circle mr-2"></i> 原则 Principles</div>
                                    <div class="mb-1">在动荡中持守平安（信靠主权）。操练随时交账的准备（忠心有见识）。从世界局势中读出属灵意义。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Holding peace in chaos. Practicing readiness to give account. Reading spiritual meaning in world events.</div>
                                </li>
                                <li class="flex flex-col items-start border-t border-orange-100 pt-3">
                                    <div class="flex items-center font-bold text-orange-600 mb-1"><i class="fas fa-check-circle mr-2"></i> 如何运用 How to Apply</div>
                                    <div class="mb-1">把每一天当作那日子来活。在日常工作中保持对主的期待。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Live each day as if it were The Day. Maintain expectation of the Lord in daily work.</div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            `;
        }

        function updateFilter(filter) {
            appState.studyFilter = filter;
            renderStudy();
        }
    </script>
</body>
</html>