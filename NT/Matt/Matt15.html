<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matthew 15: Traditions & Crumbs | 马太福音第十五章</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Noto+Sans+SC:wght@300;400;500;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap');

        :root {
            /* Inner Heart Red - The Source of Defilement/Truth */
            --theme-primary: #9f1239; 
            /* Crumb Gold - Faith, Grace for Gentiles */
            --theme-accent: #d97706;
            /* Ceramic Grey - Tradition, Rituals, Stone Jars */
            --theme-stone: #57534e;
            /* Background */
            --theme-bg: #fff1f2;
        }

        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: var(--theme-bg);
            color: #4a044e;
        }

        .en-text {
            font-family: 'Playfair Display', serif;
        }

        h1, h2, h3, .serif {
            font-family: 'Noto Serif SC', serif;
        }

        /* Navigation Styling */
        .nav-btn {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .active-tab {
            color: var(--theme-primary);
            font-weight: 700;
        }
        .active-tab::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--theme-primary);
            border-radius: 2px;
        }

        /* Card Styling */
        .verse-card {
            background-color: white;
            border-left: 4px solid transparent;
            transition: all 0.3s ease;
            border: 1px solid #fecdd3; /* Rose 200 */
        }
        .verse-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px -5px rgba(159, 18, 57, 0.15);
            border-left-color: var(--theme-primary);
        }

        .academic-box {
            background-color: #f8fafc; /* Slate 50 */
            border-left: 3px solid #64748b; /* Slate 500 */
            color: #334155;
        }
        
        .devotional-box {
            background-color: #fffbeb; /* Amber 50 */
            border-left: 3px solid #d97706; /* Amber 600 */
            color: #78350f;
        }

        /* Defilement Filter Animation */
        .filter-diagram {
            position: relative;
            height: 240px;
            background-color: #fafaf9;
            border-radius: 12px;
            border: 2px solid #e7e5e4;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .mouth-opening {
            width: 60px;
            height: 20px;
            background-color: #44403c;
            border-radius: 10px;
            position: absolute;
            top: 40px;
            z-index: 10;
        }

        .heart-chamber {
            width: 80px;
            height: 80px;
            background-color: #9f1239;
            border-radius: 50%;
            position: absolute;
            bottom: 40px;
            box-shadow: 0 0 15px rgba(159, 18, 57, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            z-index: 5;
        }

        .food-particle {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #16a34a; /* Green for food */
            border-radius: 50%;
            top: 0;
            opacity: 0;
        }

        .sin-particle {
            position: absolute;
            font-size: 12px;
            color: #450a0a; /* Dark red for sin */
            font-weight: bold;
            opacity: 0;
        }

        /* Animation States */
        .animate-eat .food-particle {
            animation: eat-process 2s forwards;
        }

        .animate-speak .sin-particle {
            animation: speak-process 2s forwards;
        }

        @keyframes eat-process {
            0% { top: 10px; opacity: 1; transform: translateX(0); }
            40% { top: 60px; opacity: 1; transform: translateX(0); } /* Enters mouth */
            80% { top: 150px; opacity: 0.5; transform: translateX(40px); } /* Goes to stomach/draft */
            100% { top: 200px; opacity: 0; transform: translateX(60px); } /* Exits */
        }

        @keyframes speak-process {
            0% { bottom: 60px; opacity: 0; transform: scale(0); } /* Starts in heart */
            20% { bottom: 60px; opacity: 1; transform: scale(1); }
            60% { bottom: 180px; opacity: 1; transform: translateX(0); } /* Up to mouth */
            100% { bottom: 220px; opacity: 0; transform: translateX(-30px) scale(1.5); } /* Out of mouth */
        }

        /* Crumb Button */
        .crumb-btn:active {
            transform: scale(0.95);
        }

        /* Scrollbar */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Navigation -->
    <nav class="bg-white/95 backdrop-blur-md shadow-md sticky top-0 z-50 border-b border-rose-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-24 sm:h-20 items-center">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-rose-900 serif flex flex-col leading-tight">
                        <span><i class="fas fa-heart-broken mr-2 text-rose-600"></i> 马太福音 15章</span>
                        <span class="text-xs text-rose-700 en-text font-normal ml-8">Matthew Chapter 15</span>
                    </span>
                </div>
                <div class="flex space-x-4 sm:space-x-8 items-center overflow-x-auto no-scrollbar">
                    <button onclick="navigate('dashboard')" id="nav-dashboard" class="nav-btn active-tab px-2 py-2 text-sm text-center shrink-0">
                        传统与内心 <br><span class="text-[10px] uppercase opacity-70 en-text">Tradition & Heart</span>
                    </button>
                    <button onclick="navigate('study')" id="nav-study" class="nav-btn px-2 py-2 text-sm text-slate-500 hover:text-rose-700 text-center shrink-0">
                        逐节研读 <br><span class="text-[10px] uppercase opacity-70 en-text">Study</span>
                    </button>
                    <button onclick="navigate('methodology')" id="nav-methodology" class="nav-btn px-2 py-2 text-sm text-slate-500 hover:text-rose-700 text-center shrink-0">
                        方法论总结 <br><span class="text-[10px] uppercase opacity-70 en-text">Methodology</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="app-content" class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">
        <!-- Injected via JS -->
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-400 mt-auto">
        <div class="max-w-7xl mx-auto py-8 px-4 text-center">
            <p class="text-lg font-serif italic text-rose-200 mb-1">"妇人，你的信心是大的！"</p>
            <p class="text-sm italic text-slate-500 mb-2 en-text">"O woman, great is your faith!"</p>
            <p class="text-xs opacity-70">马太福音第十五章中英对照研经报告 | Purity & Grace</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- Data Store ---
        const chapterData = {
            intro: {
                title: "传统的冲突与外邦的信心",
                title_en: "Conflict of Tradition & Faith of the Gentiles",
                summary_zh: "马太福音第15章标志着耶稣事工重心的转移。在这里，耶稣与来自耶路撒冷的宗教领袖发生了关于'洁净'的激烈冲突，彻底颠覆了犹太教关于污秽的定义——污秽源于内心，而非手。随后，耶稣退到外邦人的境内（推罗、西顿），在那里，一位迦南妇人以惊人的信心抓住了主的'碎渣'。本章以给四千人吃饱结束，预示着救恩的筵席向万民敞开。",
                summary_en: "Matthew 15 marks a shift in Jesus' ministry. Here, He clashes fiercely with Jerusalem religious leaders over 'purity', radically redefining defilement as originating from the heart, not the hands. Jesus then withdraws to Gentile territory (Tyre & Sidon), where a Canaanite woman grasps the 'crumbs' of the Master with astounding faith. The chapter concludes with the feeding of the 4000, signaling the banquet of salvation opening to the nations.",
                concepts: [
                    { title: "遗传", title_en: "Tradition", greek: "Paradosis", color: "text-stone-600", desc_zh: "指口传律法。当它废了神的诫命时，就成了崇拜的障碍。", desc_en: "Oral Law. When it nullifies God's command, it becomes a barrier to worship." },
                    { title: "心", title_en: "Heart", greek: "Kardia", color: "text-rose-700", desc_zh: "人的道德中心。所有的恶念、凶杀、奸淫都由此发出。", desc_en: "Moral center of man. All evil thoughts, murder, adultery proceed from here." },
                    { title: "狗", title_en: "Dogs", greek: "Kunaria", color: "text-amber-600", desc_zh: "原意为'小狗'或'宠物狗'。虽是贬义，但被妇人用作信心的支点。", desc_en: "Diminutive 'little dogs' or 'house dogs'. A slur turned into a pivot of faith." }
                ]
            },
            sections: [
                {
                    id: "tradition",
                    title: "壹 · 传统的陷阱：嘴唇与心 (15:1-9)",
                    title_en: "The Trap of Tradition: Lips vs Heart",
                    desc: "宗教外壳下的虚伪 | Hypocrisy under Religious Shell",
                    verses: [
                        {
                            ref: "15:3-6",
                            text_zh: "...你们为什么因着你们的遗传犯神的诫命呢？...就是你借着遗传，废了神的诫命。",
                            text_en: "...And why do you break the commandment of God for the sake of your tradition?... So for the sake of your tradition you have made void the word of God.",
                            academic: {
                                title: "各耳板 (Corban) 的诡辩",
                                content_zh: "法利赛人指责门徒饭前不洗手（这是口传律法，非摩西律法）。耶稣反击他们用'各耳板'（意为'供献'）作为借口，宣称财产已许愿给神，因此不能供养父母。这不仅违背了十诫中的'孝敬父母'，更暴露了他们用宗教虔诚的外衣来掩盖自私和贪婪。这是典型的'废了神的诫命'。",
                                content_en: "Pharisees criticized unwashed hands (Oral Law, not Moses'). Jesus countered with their misuse of 'Corban' (Offering). They claimed assets were vowed to God to avoid supporting parents, violating the 5th Commandment. This exposed using religious piety to mask selfishness—literally 'nullifying God's word'."
                            },
                            devotional: {
                                title: "你的宗教是否让你变得冷漠？(Does Your Religion Make You Cold?)",
                                content_zh: "我们很容易用'事奉神'（忙于教会活动、奉献金钱）作为借口，来逃避对家人的责任或对他人的爱。神不接受这种'各耳板'。如果你的信仰让你对身边人的需要变得冷漠，或者让你觉得比别人优越，那你可能正陷入'嘴唇尊敬我，心却远离我'的危险中。",
                                content_en: "We easily use 'serving God' (church busyness, giving) as an excuse to neglect family or love. God rejects this 'Corban'. If your faith makes you cold to others' needs or superior, you are in danger of 'honoring with lips while the heart is far away'."
                            }
                        }
                    ]
                },
                {
                    id: "heart",
                    title: "贰 · 污秽的源头：入口 vs 出口 (15:10-20)",
                    title_en: "Source of Defilement: Input vs Output",
                    desc: "真正的道德洁净 | True Moral Purity",
                    verses: [
                        {
                            ref: "15:11, 18-19",
                            text_zh: "入口的不能污秽人，出口的乃能污秽人...因为从心里发出来的，有恶念、凶杀、奸淫...",
                            text_en: "it is not what goes into the mouth that defiles a person, but what comes out of the mouth; this defiles a person... For out of the heart come evil thoughts, murder, adultery...",
                            academic: {
                                title: "洁净礼仪的革命 (Revolution of Purity Laws)",
                                content_zh: "耶稣在此宣告了一个激进的原则：道德污秽源于'心'（内在），而非'食物'（外在）。这实际上废除了利未记中关于食物洁净的礼仪区分（参马可福音7:19）。犹太教认为如果不洗手吃饭，不洁净会随食物进入身体；耶稣指出，真正肮脏的是从心里吐出来的恶言恶行。心是罪恶的工厂。",
                                content_en: "Jesus declares a radical principle: moral defilement comes from the 'heart' (internal), not 'food' (external). This implicitly abrogates Levitical food laws (cf. Mark 7:19). Judaism feared ritual impurity entering via food; Jesus points out the real filth is the malice spewed from the heart. The heart is the factory of sin."
                            },
                            devotional: {
                                title: "心电图检查 (Spiritual EKG)",
                                content_zh: "我们常担心吃得干不干净（有机的、健康的），却很少担心说得干不干净。当我们发脾气、说闲话、抱怨时，这不仅仅是'说话不经大脑'，而是暴露了我们内心的真实光景。言语是心灵的溢出。如果你想改变你的言语，必须先求神洁净你的心源。",
                                content_en: "We worry about clean eating (organic, healthy) but rarely about clean speaking. Anger, gossip, and complaining aren't just 'slips of the tongue'; they reveal our heart's condition. Words are the overflow of the heart. To change your speech, you must ask God to cleanse the source."
                            }
                        }
                    ]
                },
                {
                    id: "canaanite",
                    title: "叁 · 碎渣中的信心：迦南妇人 (15:21-28)",
                    title_en: "Faith in the Crumbs: The Canaanite Woman",
                    desc: "跨越障碍的祈求 | Prayer Overcoming Barriers",
                    verses: [
                        {
                            ref: "15:26-27",
                            text_zh: "不好拿儿女的饼丢给狗吃。妇人说：'主啊，不错；但是狗也吃它主人桌子上掉下来的碎渣儿。'",
                            text_en: "It is not right to take the children's bread and throw it to the dogs. She said, 'Yes, Lord, yet even the dogs eat the crumbs that fall from their masters' table.'",
                            academic: {
                                title: "狗 (Kunaria) 的隐喻与试炼",
                                content_zh: "耶稣的话听起来刺耳，实则是在测试并引导她的信心。'儿女'指以色列，'狗'指外邦人。耶稣重申了救恩'先是犹太人'的次序。妇人没有因被冒犯而离开，反而敏锐地抓住了比喻中的漏洞：家狗（Kunaria）是家庭的一部分，虽然不能上桌，却有权吃碎渣。她不需要剥夺以色列的份，她只需要溢出的恩典。这种谦卑和机智赢得了耶稣的极力称赞。",
                                content_en: "Jesus' words sound harsh but test her faith. 'Children' = Israel; 'Dogs' = Gentiles. He affirms the 'Jew first' order. She isn't offended but finds the loophole: house dogs (Kunaria) are part of the household. They don't take the children's portion but claim the crumbs. She doesn't need to rob Israel; she just needs the overflow. Her humility and wit win Jesus' highest praise."
                            },
                            devotional: {
                                title: "只要一点点恩典 (Just a Crumb of Grace)",
                                content_zh: "当神似乎在拒绝你、沉默不语时，你会怎么做？这妇人教导我们：永远不要因为觉得'不配'而停止祈求。她承认自己不配（是的，我是狗），但她紧紧抓住神的良善（主人不会让狗饿死）。很多时候，神无限恩典中的一点点'碎渣'，就足以解决我们生命中最大的难题。",
                                content_en: "When God seems silent or refusing, what do you do? This woman teaches us: Never stop asking because of unworthiness. She admitted unworthiness ('Yes, I am a dog') but clung to His goodness ('Masters feed dogs'). Often, just a 'crumb' of God's infinite grace is enough for our biggest problems."
                            }
                        }
                    ]
                },
                {
                    id: "feeding",
                    title: "肆 · 旷野的丰盛：给四千人吃饱 (15:29-39)",
                    title_en: "Abundance in the Wilderness: Feeding the 4000",
                    desc: "外邦人的筵席 | The Gentile Banquet",
                    verses: [
                        {
                            ref: "15:32-37",
                            text_zh: "我怜悯这众人...拿着这七个饼和几条鱼...擘开...众人都吃，并且吃饱了。",
                            text_en: "I have compassion on the crowd... took the seven loaves and the fish... broke them... And they all ate and were satisfied.",
                            academic: {
                                title: "与五千人神迹的对比 (Contrast with Feeding 5000)",
                                content_zh: "这并非重复记载，而是发生在不同地点（低加波利/外邦一侧）。数字具有象征意义：5000人剩下12篮（象征以色列12支派）；4000人剩下7筐（象征外邦/普世或者是'完全'）。这表明耶稣不仅是以色列的牧者，也是列国的供应者。'怜悯'（Splanchnizomai）再次成为神迹的动力。",
                                content_en: "Not a duplicate, but distinct location (Decapolis/Gentile side). Numbers are symbolic: 5000 left 12 baskets (Israel); 4000 left 7 baskets (Gentiles/Universal/Completion). Jesus is Provider for nations, not just Israel. 'Compassion' is again the engine of the miracle."
                            },
                            devotional: {
                                title: "顾念你身体的神 (The God Who Cares for the Body)",
                                content_zh: "我们常以为神只关心我们的灵魂得救，不关心我们的肚子饿不饿。但耶稣说：'我不愿意叫他们饿着回去。'你的房贷、你的健康、你日常的需用，主都在乎。祂是全人的供应者。信靠祂，祂必顾念你的缺乏。",
                                content_en: "We often think God only cares about our souls, not our hunger. But Jesus said, 'I am unwilling to send them away hungry.' Your bills, your health, your daily needs—He cares. He is the Provider for the whole person. Trust Him; He will attend to your lack."
                            }
                        }
                    ]
                }
            ]
        };

        // --- State ---
        let appState = {
            view: 'dashboard',
            studyFilter: 'all',
            crumbs: 0
        };

        // --- Init ---
        document.addEventListener('DOMContentLoaded', () => {
            renderDashboard();
        });

        // --- Navigation ---
        function navigate(view) {
            appState.view = view;
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active-tab');
                btn.classList.add('text-slate-500');
            });
            document.getElementById(`nav-${view}`).classList.add('active-tab');
            document.getElementById(`nav-${view}`).classList.remove('text-slate-500');

            if (view === 'dashboard') renderDashboard();
            if (view === 'study') renderStudy();
            if (view === 'methodology') renderMethodology();
            window.scrollTo(0,0);
        }

        // --- Interactive Functions ---
        function runFilter(type) {
            const container = document.getElementById('filter-vis');
            // Reset
            container.innerHTML = `
                <div class="mouth-opening"></div>
                <div class="heart-chamber"><i class="fas fa-heart"></i></div>
            `;
            
            if (type === 'in') {
                const food = document.createElement('div');
                food.className = 'food-particle';
                container.appendChild(food);
                container.classList.add('animate-eat');
                document.getElementById('filter-text').innerHTML = "<span class='text-green-600'>入口的：进入肚子，落到茅厕 (Food enters stomach, exits) - <span class='font-bold'>不污秽人</span></span>";
            } else {
                const sin = document.createElement('div');
                sin.className = 'sin-particle';
                sin.innerText = "恶念 (Evil)";
                container.appendChild(sin);
                container.classList.add('animate-speak');
                document.getElementById('filter-text').innerHTML = "<span class='text-rose-700'>出口的：发自内心，污秽全身 (Words from heart defile) - <span class='font-bold'>这才是污秽</span></span>";
            }
            
            setTimeout(() => {
                container.classList.remove('animate-eat', 'animate-speak');
            }, 2500);
        }

        function collectCrumb() {
            appState.crumbs++;
            const crumbContainer = document.getElementById('crumb-container');
            const crumb = document.createElement('i');
            crumb.className = 'fas fa-cookie text-amber-500 absolute text-xs animate-bounce';
            crumb.style.left = Math.random() * 80 + 10 + '%';
            crumb.style.top = Math.random() * 80 + 10 + '%';
            crumbContainer.appendChild(crumb);
            
            document.getElementById('crumb-count').innerText = appState.crumbs;
            
            if(appState.crumbs === 1) {
                document.getElementById('crumb-msg').innerText = "主啊，不错！(Yes, Lord!)";
            } else if (appState.crumbs >= 5) {
                document.getElementById('crumb-msg').innerText = "你的信心是大的！(Great is your faith!)";
                document.getElementById('crumb-msg').className = "text-center text-xs font-bold text-rose-600 mt-2";
            }
        }

        // --- Renders ---
        function renderDashboard() {
            const container = document.getElementById('app-content');
            container.innerHTML = `
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 mb-8 animate-fade-in">
                    <!-- Intro -->
                    <div class="lg:col-span-8 bg-white p-8 rounded-xl shadow-lg border-t-4 border-rose-600">
                        <div class="flex items-center mb-4">
                            <span class="bg-rose-100 text-rose-800 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide mr-3">Overview</span>
                            <h2 class="text-3xl font-bold serif text-rose-900">${chapterData.intro.title}</h2>
                        </div>
                        <h3 class="text-lg text-slate-400 font-serif italic mb-4 en-text">${chapterData.intro.title_en}</h3>
                        <p class="text-slate-600 leading-relaxed mb-4 text-lg border-l-4 border-rose-200 pl-4">${chapterData.intro.summary_zh}</p>
                        <p class="text-slate-500 leading-relaxed text-sm italic en-text border-l-4 border-slate-200 pl-4">${chapterData.intro.summary_en}</p>
                        
                        <!-- Concept Cards -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-8">
                            ${chapterData.intro.concepts.map(c => `
                                <div class="bg-slate-50 p-4 rounded-lg border border-slate-200 flex flex-col items-center text-center transition hover:bg-rose-50 group">
                                    <h4 class="font-bold ${c.color} text-lg mb-1 group-hover:scale-105 transition">${c.title}</h4>
                                    <p class="text-xs text-slate-400 font-serif mb-1 en-text">${c.title_en}</p>
                                    <p class="text-xs text-slate-500 font-mono mb-2">${c.greek}</p>
                                    <p class="text-xs text-slate-600 mb-1">${c.desc_zh}</p>
                                    <p class="text-[10px] text-slate-400 italic en-text">${c.desc_en}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <!-- Visual Sidebar: Defilement Filter -->
                    <div class="lg:col-span-4 bg-white p-6 rounded-xl shadow-lg flex flex-col border border-stone-200">
                         <h3 class="text-xl font-bold mb-1 text-center text-stone-700">污秽过滤器</h3>
                         <p class="text-xs text-slate-400 mb-4 text-center en-text uppercase tracking-widest">The Source of Defilement</p>
                         
                         <div id="filter-vis" class="filter-diagram mb-4">
                            <div class="mouth-opening"></div>
                            <div class="heart-chamber"><i class="fas fa-heart"></i></div>
                         </div>
                         
                         <p id="filter-text" class="text-center text-xs h-8 mb-2 text-slate-500">点击按钮测试 (Click to Test)</p>

                         <div class="grid grid-cols-2 gap-2">
                            <button onclick="runFilter('in')" class="py-2 bg-green-600 hover:bg-green-700 rounded text-white text-xs font-bold transition">
                                <i class="fas fa-utensils mr-1"></i> 入口 (Input)
                            </button>
                            <button onclick="runFilter('out')" class="py-2 bg-rose-700 hover:bg-rose-800 rounded text-white text-xs font-bold transition">
                                <i class="fas fa-comment-dots mr-1"></i> 出口 (Output)
                            </button>
                         </div>
                    </div>
                </div>

                <!-- Feature: The Crumbs Collector -->
                <div class="bg-white p-6 rounded-xl shadow-lg mb-8 border border-amber-100">
                    <div class="flex flex-col md:flex-row justify-between items-center mb-6">
                        <h3 class="text-lg font-bold text-slate-700">
                            <i class="fas fa-cookie-bite text-amber-600 mr-2"></i> 碎渣中的恩典
                            <span class="text-sm font-normal text-slate-400 ml-2 en-text">Grace in the Crumbs</span>
                        </h3>
                        <span class="text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded">Matt 15:27</span>
                    </div>
                    
                    <div class="flex flex-col items-center">
                        <div id="crumb-container" class="relative w-full h-32 bg-amber-50 rounded-lg border-2 border-dashed border-amber-200 mb-4 flex items-center justify-center overflow-hidden">
                            <span class="text-amber-200 font-bold text-4xl opacity-50">TABLE</span>
                        </div>
                        
                        <div class="flex items-center gap-4">
                            <button onclick="collectCrumb()" class="crumb-btn px-6 py-3 bg-amber-500 hover:bg-amber-600 text-white font-bold rounded-full shadow-lg transition flex items-center">
                                <i class="fas fa-hand-holding mr-2"></i> 捡取碎渣 (Collect Crumb)
                            </button>
                            <div class="text-center">
                                <div class="text-2xl font-bold text-amber-700" id="crumb-count">0</div>
                                <div class="text-xs text-slate-400">碎渣 (Crumbs)</div>
                            </div>
                        </div>
                        <p id="crumb-msg" class="text-center text-xs text-slate-500 mt-2">哪怕一点点恩典也足够 (Even a crumb is enough)</p>
                    </div>
                </div>
            `;
        }

        function renderStudy() {
            const container = document.getElementById('app-content');
            
            // Filter Controls
            const filterHTML = `
                <div class="sticky top-20 z-40 bg-[#fff1f2]/95 backdrop-blur py-4 mb-6 border-b border-rose-200">
                    <div class="flex justify-between items-center max-w-5xl mx-auto">
                        <h2 class="text-2xl font-bold text-rose-900 serif">逐节研读室 <span class="text-base font-normal text-slate-400 en-text ml-2">Verse by Verse Study</span></h2>
                        <div class="flex bg-white rounded-lg shadow-sm p-1 border border-rose-200">
                            <button onclick="updateFilter('all')" class="px-4 py-1.5 rounded text-sm transition ${appState.studyFilter === 'all' ? 'bg-rose-700 text-white font-bold' : 'text-slate-500 hover:bg-slate-100'}">全部 All</button>
                            <button onclick="updateFilter('academic')" class="px-4 py-1.5 rounded text-sm transition ${appState.studyFilter === 'academic' ? 'bg-slate-600 text-white font-bold' : 'text-slate-500 hover:bg-slate-100'}">经文含义 Exegesis</button>
                            <button onclick="updateFilter('devotional')" class="px-4 py-1.5 rounded text-sm transition ${appState.studyFilter === 'devotional' ? 'bg-amber-600 text-white font-bold' : 'text-slate-500 hover:bg-slate-100'}">灵修应用 Devotional</button>
                        </div>
                    </div>
                </div>
            `;

            let sectionsHTML = '';
            chapterData.sections.forEach(section => {
                sectionsHTML += `
                    <div class="max-w-5xl mx-auto mb-16">
                        <div class="flex items-center mb-6 pl-2 border-l-4 border-rose-600">
                            <div class="pl-4">
                                <h3 class="text-2xl font-bold text-slate-800">${section.title}</h3>
                                <p class="text-sm text-rose-600 font-serif italic mt-1 en-text">${section.title_en} | ${section.desc}</p>
                            </div>
                        </div>
                        
                        <div class="space-y-6">
                            ${section.verses.map(verse => createVerseCard(verse)).join('')}
                        </div>
                    </div>
                `;
            });

            container.innerHTML = filterHTML + sectionsHTML;
        }

        function createVerseCard(verse) {
            // Safety checks
            const academicTitle = verse.academic ? verse.academic.title : "Title Missing";
            const academicContentZh = verse.academic ? verse.academic.content_zh : "Content missing";
            const academicContentEn = verse.academic ? verse.academic.content_en : "Content missing";
            
            const devotionalTitle = verse.devotional ? verse.devotional.title : "Title Missing";
            const devotionalContentZh = verse.devotional ? verse.devotional.content_zh : "Content missing";
            const devotionalContentEn = verse.devotional ? verse.devotional.content_en : "Content missing";

            return `
                <div class="verse-card rounded-lg shadow-sm overflow-hidden mb-6 group">
                    <!-- Verse Text -->
                    <div class="bg-gradient-to-r from-rose-50 to-white p-5 border-b border-rose-100">
                        <span class="inline-block px-2 py-0.5 bg-rose-100 text-rose-800 text-xs font-bold rounded mb-2 font-mono border border-rose-200">${verse.ref}</span>
                        <p class="text-slate-800 font-serif text-lg leading-relaxed group-hover:text-rose-900 transition-colors mb-2">"${verse.text_zh}"</p>
                        <p class="text-slate-500 font-serif text-sm italic en-text border-l-2 border-rose-200 pl-3">"${verse.text_en}"</p>
                    </div>

                    <!-- Dual Tracks -->
                    <div class="grid grid-cols-1 md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-rose-100">
                        <!-- Academic -->
                        <div class="p-6 academic-box ${appState.studyFilter === 'devotional' ? 'hidden' : ''}">
                            <div class="flex items-center mb-3 text-slate-500">
                                <i class="fas fa-university mr-2"></i>
                                <h4 class="text-xs font-bold uppercase tracking-widest">经文含义 Exegesis</h4>
                            </div>
                            <h5 class="font-bold text-slate-700 mb-2">${academicTitle}</h5>
                            <p class="text-sm text-slate-600 leading-relaxed text-justify mb-2">${academicContentZh}</p>
                            <p class="text-xs text-slate-400 font-serif italic en-text border-t border-slate-300 pt-2 mt-2">${academicContentEn}</p>
                        </div>

                        <!-- Devotional -->
                        <div class="p-6 devotional-box ${appState.studyFilter === 'academic' ? 'hidden' : ''}">
                            <div class="flex items-center mb-3 text-amber-700">
                                <i class="fas fa-heart mr-2"></i>
                                <h4 class="text-xs font-bold uppercase tracking-widest">灵修应用 Devotional</h4>
                            </div>
                            <h5 class="font-bold text-amber-800 mb-2">${devotionalTitle}</h5>
                            <p class="text-sm text-amber-900/80 leading-relaxed text-justify mb-2">${devotionalContentZh}</p>
                            <p class="text-xs text-amber-700/70 font-serif italic en-text border-t border-amber-200 pt-2 mt-2">${devotionalContentEn}</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderMethodology() {
            const container = document.getElementById('app-content');
            container.innerHTML = `
                <div class="max-w-4xl mx-auto">
                    <div class="text-center mb-10">
                        <h2 class="text-3xl font-bold mb-2 serif text-slate-800">解经方法论总结</h2>
                        <p class="text-slate-500 en-text">Summary of Exegetical Methodology</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Exegesis Card -->
                        <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-slate-600 hover:shadow-xl transition hover:-translate-y-1">
                            <div class="text-slate-500 text-4xl mb-4"><i class="fas fa-book-reader"></i></div>
                            <h3 class="text-xl font-bold text-slate-700 mb-2">权威/经文性解经 (Exegesis)</h3>
                            <p class="text-xs text-slate-400 mb-6 uppercase tracking-wider">Context & Metaphor</p>
                            
                            <ul class="space-y-4 text-sm text-slate-600">
                                <li class="flex flex-col items-start">
                                    <div class="flex items-center font-bold text-rose-600 mb-1"><i class="fas fa-check-circle mr-2"></i> 原则 Principles</div>
                                    <div class="mb-1">拉比辩论分析（容易vs难）。旧约引用研究（何西阿书6:6）。文化比喻解析（新酒与皮袋的物理特性、洁净礼仪的反转）。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Rabbinic argument analysis. OT citation study (Hosea). Cultural metaphors (physics of wineskins, reversal of purity laws).</div>
                                </li>
                                <li class="flex flex-col items-start border-t border-slate-200 pt-3">
                                    <div class="flex items-center font-bold text-rose-600 mb-1"><i class="fas fa-check-circle mr-2"></i> 如何运用 How to Apply</div>
                                    <div class="mb-1">寻找神迹背后的"验证逻辑"（可见验证不可见）。理解耶稣作为"大医生"和"新郎"的角色转换。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Find the 'verification logic' in miracles. Understand Jesus' role shifts: Physician, Bridegroom.</div>
                                </li>
                            </ul>
                        </div>

                        <!-- Devotional Card -->
                        <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-amber-500 hover:shadow-xl transition hover:-translate-y-1">
                            <div class="text-amber-500 text-4xl mb-4"><i class="fas fa-pray"></i></div>
                            <h3 class="text-xl font-bold text-amber-800 mb-2">灵修/应用性解经 (Devotional)</h3>
                            <p class="text-xs text-amber-600/70 mb-6 uppercase tracking-wider">Heart & Renewal</p>
                            
                            <ul class="space-y-4 text-sm text-slate-600">
                                <li class="flex flex-col items-start">
                                    <div class="flex items-center font-bold text-amber-600 mb-1"><i class="fas fa-check-circle mr-2"></i> 原则 Principles</div>
                                    <div class="mb-1">诊断灵性疾病（我是康健的还是有病的？）。检查属灵的僵化（旧皮袋）。操练怜悯的眼光（看见困苦流离的羊）。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Diagnosing spiritual sickness. Checking for spiritual rigidity (Old Wineskins). Practicing eyes of compassion.</div>
                                </li>
                                <li class="flex flex-col items-start border-t border-amber-100 pt-3">
                                    <div class="flex items-center font-bold text-amber-600 mb-1"><i class="fas fa-check-circle mr-2"></i> 如何运用 How to Apply</div>
                                    <div class="mb-1">不要只求环境的改变（腿好），要求深层的赦免。在人群中伸出信心的手触摸主。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Seek deep forgiveness, not just situational fix. Reach out in faith to touch Him in the crowd.</div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            `;
        }

        function updateFilter(filter) {
            appState.studyFilter = filter;
            renderStudy();
        }
    </script>
</body>
</html>