<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matthew 13: Secrets of the Kingdom | 马太福音第十三章</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Noto+Sans+SC:wght@300;400;500;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap');

        :root {
            /* Soil Brown - The Heart, Foundation */
            --theme-primary: #854d0e; 
            /* Harvest Gold - Fruit, Treasure, Value */
            --theme-accent: #eab308;
            /* Mystery Purple - Hidden Truths */
            --theme-dark: #581c87;
            /* Background */
            --theme-bg: #fefce8;
        }

        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: var(--theme-bg);
            color: #422006;
        }

        .en-text {
            font-family: 'Playfair Display', serif;
        }

        h1, h2, h3, .serif {
            font-family: 'Noto Serif SC', serif;
        }

        /* Navigation Styling */
        .nav-btn {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .active-tab {
            color: var(--theme-primary);
            font-weight: 700;
        }
        .active-tab::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--theme-primary);
            border-radius: 2px;
        }

        /* Card Styling */
        .verse-card {
            background-color: white;
            border-left: 4px solid transparent;
            transition: all 0.3s ease;
            border: 1px solid #fde047; /* Yellow 300 */
        }
        .verse-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px -5px rgba(133, 77, 14, 0.15);
            border-left-color: var(--theme-primary);
        }

        .academic-box {
            background-color: #f8fafc; /* Slate 50 */
            border-left: 3px solid #64748b; /* Slate 500 */
            color: #334155;
        }
        
        .devotional-box {
            background-color: #fffbeb; /* Amber 50 */
            border-left: 3px solid #d97706; /* Amber 600 */
            color: #78350f;
        }

        /* Four Soils Animation */
        .soil-container {
            position: relative;
            height: 200px;
            background-color: #fef9c3;
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid #fde047;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
        }

        .ground-layer {
            width: 100%;
            height: 60px;
            position: absolute;
            bottom: 0;
            transition: background-color 0.5s ease;
        }

        .seed {
            width: 10px;
            height: 10px;
            background-color: #422006;
            border-radius: 50% 0 50% 50%;
            position: absolute;
            bottom: 200px; /* Start high */
            left: 50%;
            transform: translateX(-50%) rotate(-45deg);
            opacity: 0;
        }

        /* Animation Classes */
        .animate-drop {
            animation: drop-seed 1s forwards;
        }

        .animate-bird {
            position: absolute;
            font-size: 20px;
            color: #1e293b;
            animation: bird-swoop 2s forwards;
            opacity: 0;
        }

        .plant {
            position: absolute;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%) scale(0);
            transform-origin: bottom center;
            font-size: 40px;
            color: #15803d;
        }

        .sun {
            position: absolute;
            top: 20px;
            right: 20px;
            color: #facc15;
            font-size: 30px;
            opacity: 0;
        }

        .thorns {
            position: absolute;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%) scale(0);
            color: #7f1d1d;
            font-size: 35px;
        }

        /* Keyframes */
        @keyframes drop-seed {
            0% { bottom: 200px; opacity: 1; }
            100% { bottom: 60px; opacity: 1; }
        }

        @keyframes bird-swoop {
            0% { top: 0; left: -20px; opacity: 1; }
            50% { top: 130px; left: 50%; }
            100% { top: 0; left: 120%; opacity: 1; }
        }

        @keyframes grow-wither {
            0% { transform: translateX(-50%) scale(0); color: #15803d; }
            50% { transform: translateX(-50%) scale(1); color: #15803d; }
            100% { transform: translateX(-50%) scale(1) rotate(90deg); color: #a16207; } /* Withered */
        }

        @keyframes grow-choke {
            0% { transform: translateX(-50%) scale(0); }
            50% { transform: translateX(-50%) scale(0.8); }
            100% { transform: translateX(-50%) scale(0.5); opacity: 0.5; } /* Choked */
        }
        
        @keyframes grow-thorns {
            0% { transform: translateX(-50%) scale(0); }
            100% { transform: translateX(-50%) scale(1.2); }
        }

        @keyframes grow-fruit {
            0% { transform: translateX(-50%) scale(0); }
            100% { transform: translateX(-50%) scale(1.5); }
        }

        @keyframes sun-shine {
            0% { opacity: 0; transform: scale(0.5); }
            100% { opacity: 1; transform: scale(1.2); }
        }

        /* State Styles */
        .soil-path .ground-layer { background-color: #d4d4d4; } /* Hard */
        .soil-rocky .ground-layer { background-color: #a8a29e; } /* Stones */
        .soil-thorns .ground-layer { background-color: #78350f; } /* Earth but thorny */
        .soil-good .ground-layer { background-color: #3f2e18; } /* Rich Soil */

        /* Scrollbar */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Navigation -->
    <nav class="bg-white/95 backdrop-blur-md shadow-md sticky top-0 z-50 border-b border-yellow-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-24 sm:h-20 items-center">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-yellow-900 serif flex flex-col leading-tight">
                        <span><i class="fas fa-seedling mr-2 text-yellow-600"></i> 马太福音 13章</span>
                        <span class="text-xs text-yellow-700 en-text font-normal ml-8">Matthew Chapter 13</span>
                    </span>
                </div>
                <div class="flex space-x-4 sm:space-x-8 items-center overflow-x-auto no-scrollbar">
                    <button onclick="navigate('dashboard')" id="nav-dashboard" class="nav-btn active-tab px-2 py-2 text-sm text-center shrink-0">
                        天国奥秘 <br><span class="text-[10px] uppercase opacity-70 en-text">Parables</span>
                    </button>
                    <button onclick="navigate('study')" id="nav-study" class="nav-btn px-2 py-2 text-sm text-slate-500 hover:text-yellow-700 text-center shrink-0">
                        逐节研读 <br><span class="text-[10px] uppercase opacity-70 en-text">Study</span>
                    </button>
                    <button onclick="navigate('methodology')" id="nav-methodology" class="nav-btn px-2 py-2 text-sm text-slate-500 hover:text-yellow-700 text-center shrink-0">
                        方法论总结 <br><span class="text-[10px] uppercase opacity-70 en-text">Methodology</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="app-content" class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">
        <!-- Injected via JS -->
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-400 mt-auto">
        <div class="max-w-7xl mx-auto py-8 px-4 text-center">
            <p class="text-lg font-serif italic text-yellow-200 mb-1">"有耳可听的，就应当听！"</p>
            <p class="text-sm italic text-slate-500 mb-2 en-text">"He who has ears to hear, let him hear!"</p>
            <p class="text-xs opacity-70">马太福音第十三章中英对照研经报告 | Secrets of the Kingdom</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- Data Store ---
        const chapterData = {
            intro: {
                title: "天国的奥秘：比喻的时代",
                title_en: "Secrets of the Kingdom: The Age of Parables",
                summary_zh: "马太福音第13章是耶稣事工的第三大讲章（天国比喻）。在第12章被宗教领袖拒绝后，耶稣改变了教学方式，开始用'比喻'（Parables）讲道。比喻具有双重功能：向寻求真理的人'显明'奥秘，定向那些心蒙脂油的人'隐藏'真理。本章通过七个比喻（撒种、稗子、芥菜种、面酵、藏宝、寻珠、撒网），全方位揭示了天国在现今世代的性质——它是隐藏的、生长的、混合的，但最终是极具价值且面临审判的。",
                summary_en: "Matthew 13 is the third major discourse (The Kingdom Parables). After rejection in Ch 12, Jesus shifts to teaching in 'Parables'. Parables have a dual function: to 'reveal' secrets to seekers and to 'conceal' truth from the hardened. Through seven parables (Sower, Weeds, Mustard Seed, Leaven, Treasure, Pearl, Net), Jesus reveals the nature of the Kingdom in the present age—hidden, growing, mixed, but ultimately of supreme value and facing judgment.",
                concepts: [
                    { title: "奥秘", title_en: "Mystery", greek: "Mysterion", color: "text-purple-700", desc_zh: "不是难解的谜题，而是曾被隐藏、如今向信徒显明的神圣计划。", desc_en: "Not a puzzle, but a divine plan once hidden, now revealed to believers." },
                    { title: "比喻", title_en: "Parable", greek: "Parabolē", color: "text-yellow-700", desc_zh: "字面意为'并列抛掷'。用日常可见的事物来类比并阐明属灵真理。", desc_en: "Lit. 'thrown alongside'. Using earthly realities to illustrate spiritual truths." },
                    { title: "好土", title_en: "Good Soil", greek: "Gē Kalē", color: "text-green-700", desc_zh: "指那些听道、明白并结出果实的心。关键在于'明白'与'行动'。", desc_en: "Hearts that hear, understand, and bear fruit. Key lies in understanding and action." }
                ]
            },
            sections: [
                {
                    id: "sower",
                    title: "壹 · 撒种的比喻：心的土壤 (13:1-23)",
                    title_en: "The Parable of the Sower: Soils of the Heart",
                    desc: "听道的四种反应 | Four Responses to the Word",
                    verses: [
                        {
                            ref: "13:18-23",
                            text_zh: "...凡听见天国道理不明白的，那恶者就来...撒在好地上的，就是人听道明白了，后来结实...",
                            text_en: "...When anyone hears the word of the kingdom and does not understand it, the evil one comes... As for what was sown on good soil, this is the one who hears the word and understands it...",
                            academic: {
                                title: "变量在于土壤 (The Variable is the Soil)",
                                content_zh: "在这个比喻中，撒种者（神/传道者）和种子（道）都是一样的，唯一的变量是土壤（听众的心）。这解释了为何同样的福音会产生截然不同的结果。'不明白'（路旁）并非智力问题，而是属灵的迟钝。'土浅'（石头地）指情感冲动但无根基。'荆棘'指世俗忧虑的挤压。唯一的成功在于'明白'（Synieis）——即内化并活出真理。",
                                content_en: "The Sower and Seed remain constant; the only variable is the Soil (heart). This explains divergent responses to the same Gospel. 'Not understanding' (path) is spiritual dullness, not IQ. 'Shallow' (rocky) implies emotionalism without root. 'Thorns' represent worldly distraction. Success lies in 'understanding' (Synieis)—internalizing and living the truth."
                            },
                            devotional: {
                                title: "你是哪种土壤？(Which Soil Are You?)",
                                content_zh: "我们常以为自己是'好土'，但事实上，我们的心境每天都在变化。今天你可能因为忙碌而像'路旁'（听不进去），明天可能因为受苦而像'石头地'（想放弃），后天可能因为贪财而像'荆棘地'（被挤住）。在这个比喻中，我们需要做的不是去'撒种'，而是去'翻土'——求圣灵耕耘我们的心，除掉石头和荆棘，使道能扎根。",
                                content_en: "We assume we are 'good soil', but our hearts shift daily. Today you might be the 'path' (too busy to hear), tomorrow 'rocky' (ready to quit under trial), next 'thorny' (distracted by greed). Our task isn't to sow, but to 'plow'—asking the Spirit to break our fallow ground, removing rocks and thorns so the Word can root."
                            }
                        }
                    ]
                },
                {
                    id: "weeds",
                    title: "贰 · 麦子与稗子：混合的国度 (13:24-30, 36-43)",
                    title_en: "Wheat and Tares: The Mixed Kingdom",
                    desc: "终末的忍耐与审判 | Eschatological Patience",
                    verses: [
                        {
                            ref: "13:29-30",
                            text_zh: "...恐怕薅稗子，连麦子也拔出来。容这两样一齐长，等着收割...",
                            text_en: "...lest in gathering the weeds you root up the wheat along with them. Let both grow together until the harvest...",
                            academic: {
                                title: "稗子 (Zizania) 的伪装性",
                                content_zh: "稗子（毒麦）在生长初期与麦子几乎无法区分，只有结穗时才显露出来。如果此时强行拔除，麦子的根系也会受损。这个比喻解释了为何神允许恶人（魔鬼之子）在天国（教会/世界）中存在。这不是对罪恶的妥协，而是神的'宽容'，为了保护真信徒。审判权属于天使和末日，不属于现在的我们。",
                                content_en: "Tares (darnel) look identical to wheat until maturity. Uprooting them early damages the wheat's roots. This explains why God permits evil (sons of the devil) in the Kingdom/Church. It's not compromise, but Divine Patience to protect true believers. Judgment belongs to angels at the End, not to us now."
                            },
                            devotional: {
                                title: "不要急于充当收割者 (Don't Rush to be the Reaper)",
                                content_zh: "当我们看到教会或世界中的虚伪和罪恶时，我们的本能反应是'薅出来'！我们想要一个纯净的共同体。但耶稣说：'停手，那是天使的工作。'我们的任务是做'麦子'（结出果实），而不是做'除草机'。过早的审判往往会伤害无辜。要把审判的主权交还给神，相信祂的收割时刻终必来到。",
                                content_en: "Seeing hypocrisy, our instinct is to 'pull them out!'. We want a pure community. Jesus says: 'Stop. That's angel work.' Our job is to be 'wheat' (fruit-bearing), not 'weed-whackers'. Premature judgment hurts the innocent. Hand the gavel back to God; trust His harvest timing."
                            }
                        }
                    ]
                },
                {
                    id: "mustard",
                    title: "叁 · 芥菜种与面酵：惊人的增长 (13:31-35)",
                    title_en: "Mustard Seed & Leaven: Surprising Growth",
                    desc: "微小的开始，巨大的结局 | Small Start, Massive End",
                    verses: [
                        {
                            ref: "13:31-33",
                            text_zh: "...天国好像一粒芥菜种...等到长起来，却比各样的菜都大...天国好像面酵...",
                            text_en: "...The kingdom of heaven is like a grain of mustard seed... but when it has grown it is larger than all the garden plants... like leaven...",
                            academic: {
                                title: "外在扩张与内在渗透 (Extensive & Intensive Growth)",
                                content_zh: "芥菜种强调的是'外在的扩张'（从最小到成树）；面酵强调的是'内在的渗透'（全团发起来）。尽管'面酵'在圣经中常指罪，但在此处根据上下文（天国好像...），它指的是福音那种不可阻挡的、具有转化力的影响力。天国的运作方式是隐秘的、渐进的，但最终是普世的。",
                                content_en: "Mustard seed emphasizes 'extensive expansion' (small to large); Leaven emphasizes 'intensive permeation' (hidden influence). Though leaven often symbolizes sin, here context ('Kingdom is like...') points to the Gospel's unstoppable, transformative power. Kingdom growth is hidden and gradual, but ultimately universal."
                            },
                            devotional: {
                                title: "潜力的爆发 (Explosion of Potential)",
                                content_zh: "不要轻看微小的开始。你的信心、爱心或事工可能现在微不足道，但只要它是出于神的，就拥有惊人的生命力。神国的算术不是加法，而是指数级的乘法。我们要做的不是拔苗助长，而是确信种子的生命力，并耐心等候它的生长。",
                                content_en: "Do not despise small beginnings. Your faith or ministry may seem insignificant now, but if it is of God, it holds explosive vitality. Kingdom math is not addition, but exponential multiplication. Our job is not to force growth, but to trust the seed's life and wait patiently."
                            }
                        },
                        {
                            ref: "13:35",
                            text_zh: "我要开口用比喻，把创世以来所隐藏的事发明出来。",
                            text_en: "I will open my mouth in parables; I will utter what has been hidden since the foundation of the world.",
                            academic: {
                                title: "启示的 paradox (The Paradox of Revelation)",
                                content_zh: "引用诗篇78:2。耶稣用比喻不仅是为了教学，更是为了应验先知的职分——揭示神在这个世代独特的计划。这奥秘是：神的国度已经临到，但不是以荣耀征服的方式，而是以卑微、受苦和隐藏的方式进入历史。",
                                content_en: "Citing Psalm 78:2. Jesus uses parables to fulfill the prophetic office—revealing God's unique plan for this age. The Mystery: The Kingdom has arrived, not in glorious conquest, but in humility, suffering, and hiddenness."
                            },
                            devotional: {
                                title: "不要轻看微小 (Don't Despise Small Beginnings)",
                                content_zh: "你的事工、祷告或信心可能像芥菜种一样微不足道。世界看重'大'和'快'，但天国的DNA是'小'和'慢'。不要灰心。只要生命是真实的，它里面就蕴含着长成大树的潜能。神最伟大的工作往往开始于无人知晓的角落。",
                                content_en: "Your ministry or faith may feel like a mustard seed. The world values 'big' and 'fast'; the Kingdom's DNA is 'small' and 'slow'. Don't lose heart. If the life is real, it holds the potential of a tree. God's greatest works often start in obscure corners."
                            }
                        }
                    ]
                },
                {
                    id: "treasure",
                    title: "肆 · 藏宝与寻珠：无价的发现 (13:44-46)",
                    title_en: "Hidden Treasure & Pearl: Priceless Discovery",
                    desc: "喜乐的舍弃 | Joyful Abandonment",
                    verses: [
                        {
                            ref: "13:44-46",
                            text_zh: "...遇见了就把它藏起来，欢欢喜喜地去变卖一切所有的，买这块地...变卖他一切所有的，买了这颗珠子。",
                            text_en: "...which a man found and covered up. Then in his joy he goes and sells all that he has and buys that field... sold all that he had and bought it.",
                            academic: {
                                title: "价值重估 (Revaluation of Worth)",
                                content_zh: "这两个比喻的核心不在于'买卖'的行为（救恩不是买来的），而在于'价值的发现'导致的'优先次序重组'。那人'欢欢喜喜'地变卖一切，不是出于牺牲的痛苦，而是出于这笔交易太划算了。这意味着为了得着基督，放弃世上的一切不再是牺牲，而是精明的投资。",
                                content_en: "The core isn't 'buying' salvation, but 'revaluation' leading to 'reprioritization'. He sells everything 'with joy', not out of painful sacrifice, but because the deal is too good. Giving up the world for Christ is not a sacrifice; it's a smart investment."
                            },
                            devotional: {
                                title: "是牺牲还是交易？(Sacrifice or Exchange?)",
                                content_zh: "如果你觉得跟随耶稣很'苦'，觉得自己牺牲了很多，那可能是因为你还没有真正看清那个'宝藏'的价值。当你真正发现那颗重价的珠子时，你会觉得手中的玻璃球（世界的享乐）一文不值。属灵的舍弃不是咬牙切齿的苦修，而是发现至宝后的喜乐释放。",
                                content_en: "If following Jesus feels like a painful sacrifice, maybe you haven't truly seen the Treasure's value. When you find the Pearl, the glass beads in your hand (worldly pleasures) seem worthless. Spiritual surrender isn't gritty asceticism; it's the joyful release of the lesser for the Greater."
                            }
                        }
                    ]
                },
                {
                    id: "net",
                    title: "伍 · 撒网的比喻：最终的分别 (13:47-50)",
                    title_en: "The Net: Final Separation",
                    desc: "不可避免的结局 | Inevitable End",
                    verses: [
                        {
                            ref: "13:47-50",
                            text_zh: "天国又好像网撒在海里，聚拢各样水族...拣好的收在器具里，将不好的丢弃了...天使要出来，从义人中把恶人分别出来...",
                            text_en: "Again, the kingdom of heaven is like a net... gathered fish of every kind... sort the good into containers but throw away the bad... The angels will come out and separate the evil from the righteous...",
                            academic: {
                                title: "混合与终局 (Mixture & Conclusion)",
                                content_zh: "这与'稗子'的比喻类似，但侧重于最终的审判。'拖网'（Sagene）扫过海底，不管好坏一并网罗。这象征着福音在历史中的普世性呼召，会吸引各种人进入有形教会（可见的国度）。但仅仅'在网里'（在教会里）并不保证得救。只有等到上岸（末日），才会进行本质的甄别。得救不仅在于被聚拢，更在于生命本质的'好'（被神称义）。",
                                content_en: "Similar to Tares, but focuses on final judgment. The 'dragnet' gathers indiscriminately. This symbolizes the Gospel's universal call gathering all kinds into the visible Church. But being 'in the net' doesn't guarantee salvation. Only at the shore (End Times) is the nature revealed. Salvation requires being 'good' (Justified), not just gathered."
                            },
                            devotional: {
                                title: "你在网里，但你是好的吗？(In the Net, But Are You Good?)",
                                content_zh: "不要因为你受了洗、在教会服事、被称为基督徒就感到从容。那个渔夫最终会检查每一条鱼。这种检查不是看你的名号，而是看你的生命。让这个庄严的警告驱使我们真诚地省察自己：我是有生命的'好鱼'，还是仅仅被宗教活动网住的'坏鱼'？",
                                content_en: "Don't be comfortable just because you are baptized or serving. The Fisherman checks every fish. He looks at life, not labels. Let this solemn warning drive us to self-examination: Am I a 'good fish' with life, or just a 'bad fish' caught in the net of religious activity?"
                            }
                        }
                    ]
                }
            ]
        };

        // --- State ---
        let appState = {
            view: 'dashboard',
            studyFilter: 'all',
            soilState: 'idle' 
        };

        // --- Init ---
        document.addEventListener('DOMContentLoaded', () => {
            renderDashboard();
        });

        // --- Navigation ---
        function navigate(view) {
            appState.view = view;
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active-tab');
                btn.classList.add('text-slate-500');
            });
            document.getElementById(`nav-${view}`).classList.add('active-tab');
            document.getElementById(`nav-${view}`).classList.remove('text-slate-500');

            if (view === 'dashboard') renderDashboard();
            if (view === 'study') renderStudy();
            if (view === 'methodology') renderMethodology();
            window.scrollTo(0,0);
        }

        // --- Interactive Functions ---
        function simulateSoil(type) {
            const container = document.getElementById('soil-vis');
            const resultText = document.getElementById('soil-result');
            
            // Reset contents
            container.innerHTML = `
                <div class="sun"></div>
                <div class="ground-layer"></div>
                <div class="seed"></div>
            `;
            
            // Remove previous classes
            container.classList.remove('soil-path', 'soil-rocky', 'soil-thorns', 'soil-good');
            container.classList.add(`soil-${type}`);
            
            const seed = container.querySelector('.seed');
            const sun = container.querySelector('.sun');
            
            // Step 1: Drop Seed
            seed.classList.add('animate-drop');
            
            setTimeout(() => {
                if (type === 'path') {
                    const bird = document.createElement('i');
                    bird.className = "fas fa-crow animate-bird";
                    container.appendChild(bird);
                    resultText.innerText = "飞鸟来吃尽了 (Birds devoured it) - 不明白";
                    resultText.className = "text-center mt-2 font-bold text-slate-600";
                } else if (type === 'rocky') {
                    const plant = document.createElement('i');
                    plant.className = "fas fa-seedling plant";
                    container.appendChild(plant);
                    sun.style.animation = "sun-shine 1s forwards";
                    plant.style.animation = "grow-wither 2s forwards";
                    resultText.innerText = "日头出来就枯干 (Scorched & Withered) - 无根";
                    resultText.className = "text-center mt-2 font-bold text-orange-600";
                } else if (type === 'thorns') {
                    const plant = document.createElement('i');
                    plant.className = "fas fa-seedling plant";
                    container.appendChild(plant);
                    plant.style.animation = "grow-choke 2s forwards";
                    
                    const thorns = document.createElement('i');
                    thorns.className = "fas fa-holly-berry thorns"; // approximating thorns
                    container.appendChild(thorns);
                    thorns.style.animation = "grow-thorns 2s forwards";
                    
                    resultText.innerText = "荆棘挤住了 (Choked by Thorns) - 世俗忧虑";
                    resultText.className = "text-center mt-2 font-bold text-red-700";
                } else if (type === 'good') {
                    const plant = document.createElement('i');
                    plant.className = "fas fa-tree plant"; // Tree for fruit
                    container.appendChild(plant);
                    plant.style.animation = "grow-fruit 2s forwards";
                    resultText.innerText = "结实百倍 (Fruit hundredfold) - 明白真道";
                    resultText.className = "text-center mt-2 font-bold text-green-700";
                }
            }, 1000);
        }

        // --- Renders ---
        function renderDashboard() {
            const container = document.getElementById('app-content');
            container.innerHTML = `
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 mb-8 animate-fade-in">
                    <!-- Intro -->
                    <div class="lg:col-span-8 bg-white p-8 rounded-xl shadow-lg border-t-4 border-yellow-600">
                        <div class="flex items-center mb-4">
                            <span class="bg-yellow-100 text-yellow-800 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide mr-3">Parables</span>
                            <h2 class="text-3xl font-bold serif text-yellow-900">${chapterData.intro.title}</h2>
                        </div>
                        <h3 class="text-lg text-slate-400 font-serif italic mb-4 en-text">${chapterData.intro.title_en}</h3>
                        <p class="text-slate-600 leading-relaxed mb-4 text-lg border-l-4 border-yellow-200 pl-4">${chapterData.intro.summary_zh}</p>
                        <p class="text-slate-500 leading-relaxed text-sm italic en-text border-l-4 border-slate-200 pl-4">${chapterData.intro.summary_en}</p>
                        
                        <!-- Concept Cards -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-8">
                            ${chapterData.intro.concepts.map(c => `
                                <div class="bg-slate-50 p-4 rounded-lg border border-slate-200 flex flex-col items-center text-center transition hover:bg-yellow-50 group">
                                    <h4 class="font-bold ${c.color} text-lg mb-1 group-hover:scale-105 transition">${c.title}</h4>
                                    <p class="text-xs text-slate-400 font-serif mb-1 en-text">${c.title_en}</p>
                                    <p class="text-xs text-slate-500 font-mono mb-2">${c.greek}</p>
                                    <p class="text-xs text-slate-600 mb-1">${c.desc_zh}</p>
                                    <p class="text-[10px] text-slate-400 italic en-text">${c.desc_en}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <!-- Visual Sidebar: The Four Soils -->
                    <div class="lg:col-span-4 bg-white p-6 rounded-xl shadow-lg flex flex-col border border-yellow-200">
                         <h3 class="text-xl font-bold mb-1 text-center text-yellow-900">四种土壤模拟器</h3>
                         <p class="text-xs text-slate-400 mb-4 text-center en-text uppercase tracking-widest">The Four Soils Simulator</p>
                         
                         <div id="soil-vis" class="soil-container mb-4">
                            <div class="ground-layer"></div>
                            <div class="seed"></div>
                         </div>
                         
                         <p id="soil-result" class="text-center text-sm text-slate-500 mb-4 h-6">选择土壤类型 (Select Soil Type)</p>

                         <div class="grid grid-cols-2 gap-2">
                            <button onclick="simulateSoil('path')" class="py-2 bg-slate-400 hover:bg-slate-500 rounded text-white text-xs font-bold transition">路旁 (Path)</button>
                            <button onclick="simulateSoil('rocky')" class="py-2 bg-stone-500 hover:bg-stone-600 rounded text-white text-xs font-bold transition">土浅 (Rocky)</button>
                            <button onclick="simulateSoil('thorns')" class="py-2 bg-red-800 hover:bg-red-900 rounded text-white text-xs font-bold transition">荆棘 (Thorns)</button>
                            <button onclick="simulateSoil('good')" class="py-2 bg-green-700 hover:bg-green-800 rounded text-white text-xs font-bold transition">好土 (Good)</button>
                         </div>
                    </div>
                </div>

                <!-- Feature: Wheat vs Tares -->
                <div class="bg-white p-6 rounded-xl shadow-lg mb-8 border border-yellow-100">
                    <div class="flex flex-col md:flex-row justify-between items-center mb-6">
                        <h3 class="text-lg font-bold text-slate-700">
                            <i class="fas fa-search text-yellow-600 mr-2"></i> 麦子与稗子：真伪的共存
                            <span class="text-sm font-normal text-slate-400 ml-2 en-text">Wheat & Tares: Coexistence</span>
                        </h3>
                        <span class="text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded">Judgment Delayed</span>
                    </div>
                    
                    <div class="flex flex-col md:flex-row gap-6 items-center justify-center">
                        <div class="text-center p-4 bg-green-50 rounded-lg border border-green-200 flex-1">
                            <i class="fas fa-wheat text-5xl text-yellow-600 mb-2"></i>
                            <h4 class="font-bold text-green-900">麦子 (Wheat)</h4>
                            <p class="text-xs text-slate-600 mt-2">天国之子。结出饱满的籽粒。</p>
                            <p class="text-[10px] text-slate-400 italic en-text">Sons of the Kingdom. Bears fruit.</p>
                        </div>
                        
                        <div class="text-2xl text-slate-300"><i class="fas fa-times"></i></div>
                        
                        <div class="text-center p-4 bg-slate-50 rounded-lg border border-slate-200 flex-1">
                            <i class="fab fa-pagelines text-5xl text-slate-500 mb-2"></i> <!-- Visual placeholder for tares -->
                            <h4 class="font-bold text-slate-700">稗子 (Tares/Darnel)</h4>
                            <p class="text-xs text-slate-600 mt-2">恶者之子。外表相似但有毒。</p>
                            <p class="text-[10px] text-slate-400 italic en-text">Sons of the Evil One. Looks similar but toxic.</p>
                        </div>
                    </div>
                    <div class="mt-4 p-3 bg-yellow-50 rounded text-center text-xs text-yellow-800 border border-yellow-200">
                        <i class="fas fa-exclamation-circle mr-1"></i> <strong>策略 (Strategy):</strong> "容这两样一齐长，等着收割。" (Let both grow together until the harvest.)
                    </div>
                </div>
            `;
        }

        function renderStudy() {
            const container = document.getElementById('app-content');
            
            // Filter Controls
            const filterHTML = `
                <div class="sticky top-20 z-40 bg-[#fefce8]/95 backdrop-blur py-4 mb-6 border-b border-yellow-200">
                    <div class="flex justify-between items-center max-w-5xl mx-auto">
                        <h2 class="text-2xl font-bold text-yellow-900 serif">逐节研读室 <span class="text-base font-normal text-slate-400 en-text ml-2">Verse by Verse Study</span></h2>
                        <div class="flex bg-white rounded-lg shadow-sm p-1 border border-yellow-200">
                            <button onclick="updateFilter('all')" class="px-4 py-1.5 rounded text-sm transition ${appState.studyFilter === 'all' ? 'bg-yellow-600 text-white font-bold' : 'text-slate-500 hover:bg-slate-100'}">全部 All</button>
                            <button onclick="updateFilter('academic')" class="px-4 py-1.5 rounded text-sm transition ${appState.studyFilter === 'academic' ? 'bg-slate-600 text-white font-bold' : 'text-slate-500 hover:bg-slate-100'}">经文含义 Exegesis</button>
                            <button onclick="updateFilter('devotional')" class="px-4 py-1.5 rounded text-sm transition ${appState.studyFilter === 'devotional' ? 'bg-amber-600 text-white font-bold' : 'text-slate-500 hover:bg-slate-100'}">灵修应用 Devotional</button>
                        </div>
                    </div>
                </div>
            `;

            let sectionsHTML = '';
            chapterData.sections.forEach(section => {
                sectionsHTML += `
                    <div class="max-w-5xl mx-auto mb-16">
                        <div class="flex items-center mb-6 pl-2 border-l-4 border-yellow-600">
                            <div class="pl-4">
                                <h3 class="text-2xl font-bold text-slate-800">${section.title}</h3>
                                <p class="text-sm text-yellow-700 font-serif italic mt-1 en-text">${section.title_en} | ${section.desc}</p>
                            </div>
                        </div>
                        
                        <div class="space-y-6">
                            ${section.verses.map(verse => createVerseCard(verse)).join('')}
                        </div>
                    </div>
                `;
            });

            container.innerHTML = filterHTML + sectionsHTML;
        }

        function createVerseCard(verse) {
            // Safety checks
            const academicTitle = verse.academic ? verse.academic.title : "Title Missing";
            const academicContentZh = verse.academic ? verse.academic.content_zh : "Content missing";
            const academicContentEn = verse.academic ? verse.academic.content_en : "Content missing";
            
            const devotionalTitle = verse.devotional ? verse.devotional.title : "Title Missing";
            const devotionalContentZh = verse.devotional ? verse.devotional.content_zh : "Content missing";
            const devotionalContentEn = verse.devotional ? verse.devotional.content_en : "Content missing";

            return `
                <div class="verse-card rounded-lg shadow-sm overflow-hidden mb-6 group">
                    <!-- Verse Text -->
                    <div class="bg-gradient-to-r from-yellow-50 to-white p-5 border-b border-yellow-100">
                        <span class="inline-block px-2 py-0.5 bg-yellow-100 text-yellow-800 text-xs font-bold rounded mb-2 font-mono border border-yellow-200">${verse.ref}</span>
                        <p class="text-slate-800 font-serif text-lg leading-relaxed group-hover:text-yellow-900 transition-colors mb-2">"${verse.text_zh}"</p>
                        <p class="text-slate-500 font-serif text-sm italic en-text border-l-2 border-yellow-200 pl-3">"${verse.text_en}"</p>
                    </div>

                    <!-- Dual Tracks -->
                    <div class="grid grid-cols-1 md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-yellow-100">
                        <!-- Academic -->
                        <div class="p-6 academic-box ${appState.studyFilter === 'devotional' ? 'hidden' : ''}">
                            <div class="flex items-center mb-3 text-slate-500">
                                <i class="fas fa-university mr-2"></i>
                                <h4 class="text-xs font-bold uppercase tracking-widest">经文含义 Exegesis</h4>
                            </div>
                            <h5 class="font-bold text-slate-700 mb-2">${academicTitle}</h5>
                            <p class="text-sm text-slate-600 leading-relaxed text-justify mb-2">${academicContentZh}</p>
                            <p class="text-xs text-slate-400 font-serif italic en-text border-t border-slate-300 pt-2 mt-2">${academicContentEn}</p>
                        </div>

                        <!-- Devotional -->
                        <div class="p-6 devotional-box ${appState.studyFilter === 'academic' ? 'hidden' : ''}">
                            <div class="flex items-center mb-3 text-amber-700">
                                <i class="fas fa-heart mr-2"></i>
                                <h4 class="text-xs font-bold uppercase tracking-widest">灵修应用 Devotional</h4>
                            </div>
                            <h5 class="font-bold text-amber-800 mb-2">${devotionalTitle}</h5>
                            <p class="text-sm text-amber-900/80 leading-relaxed text-justify mb-2">${devotionalContentZh}</p>
                            <p class="text-xs text-amber-700/70 font-serif italic en-text border-t border-amber-200 pt-2 mt-2">${devotionalContentEn}</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderMethodology() {
            const container = document.getElementById('app-content');
            container.innerHTML = `
                <div class="max-w-4xl mx-auto">
                    <div class="text-center mb-10">
                        <h2 class="text-3xl font-bold mb-2 serif text-slate-800">解经方法论总结</h2>
                        <p class="text-slate-500 en-text">Summary of Exegetical Methodology</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Exegesis Card -->
                        <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-slate-600 hover:shadow-xl transition hover:-translate-y-1">
                            <div class="text-slate-500 text-4xl mb-4"><i class="fas fa-book-reader"></i></div>
                            <h3 class="text-xl font-bold text-slate-700 mb-2">权威/经文性解经 (Exegesis)</h3>
                            <p class="text-xs text-slate-400 mb-6 uppercase tracking-wider">Metaphor & Context</p>
                            
                            <ul class="space-y-4 text-sm text-slate-600">
                                <li class="flex flex-col items-start">
                                    <div class="flex items-center font-bold text-yellow-600 mb-1"><i class="fas fa-check-circle mr-2"></i> 原则 Principles</div>
                                    <div class="mb-1">比喻解析法（寻找核心教训，不强解每个细节）。语境对比（路旁、土浅、荆棘的实际指代）。旧约引用（诗篇78篇作为比喻的目的）。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Parable analysis (finding core lesson). Contextual comparison (soil types). OT citation (Psalm 78 purpose of parables).</div>
                                </li>
                                <li class="flex flex-col items-start border-t border-slate-200 pt-3">
                                    <div class="flex items-center font-bold text-yellow-600 mb-1"><i class="fas fa-check-circle mr-2"></i> 如何运用 How to Apply</div>
                                    <div class="mb-1">区分"地上的国"（目前混合状态）与"天上的国"（未来完美状态）。准确理解"明白"在希伯来思维中的含义（内化与顺服）。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Distinguish Kingdom 'Now' (Mixed) vs 'Not Yet' (Perfect). Understand 'Understand' as Hebrew obedience.</div>
                                </li>
                            </ul>
                        </div>

                        <!-- Devotional Card -->
                        <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-amber-500 hover:shadow-xl transition hover:-translate-y-1">
                            <div class="text-amber-500 text-4xl mb-4"><i class="fas fa-pray"></i></div>
                            <h3 class="text-xl font-bold text-amber-800 mb-2">灵修/应用性解经 (Devotional)</h3>
                            <p class="text-xs text-amber-600/70 mb-6 uppercase tracking-wider">Heart & Value</p>
                            
                            <ul class="space-y-4 text-sm text-slate-600">
                                <li class="flex flex-col items-start">
                                    <div class="flex items-center font-bold text-amber-600 mb-1"><i class="fas fa-check-circle mr-2"></i> 原则 Principles</div>
                                    <div class="mb-1">自我省察（我是哪种土壤？）。价值观重估（我是欢喜变卖一切，还是勉强牺牲？）。对恶的忍耐与交托。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Self-examination (Which soil?). Value reassessment (Joyful selling vs reluctant sacrifice?). Patience with evil.</div>
                                </li>
                                <li class="flex flex-col items-start border-t border-amber-100 pt-3">
                                    <div class="flex items-center font-bold text-amber-600 mb-1"><i class="fas fa-check-circle mr-2"></i> 如何运用 How to Apply</div>
                                    <div class="mb-1">每天求主"翻土"。不要急于审判他人（那是天使的工作）。在微小的事工中看到大树的潜能。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Ask God to 'plow' daily. Don't rush to judge (angel's job). See tree potential in small seeds.</div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            `;
        }

        function updateFilter(filter) {
            appState.studyFilter = filter;
            renderStudy();
        }
    </script>
</body>
</html>