<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matthew 16: The Confession & The Cross | 马太福音第十六章</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Noto+Sans+SC:wght@300;400;500;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap');

        :root {
            /* Rock Slate - Peter, Foundation, Church */
            --theme-primary: #475569; 
            /* Passion Red - The Cross, Suffering, Blood */
            --theme-accent: #dc2626;
            /* Kingdom Gold - Keys, Glory, Authority */
            --theme-gold: #d97706;
            /* Background */
            --theme-bg: #f8fafc;
        }

        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: var(--theme-bg);
            color: #1e293b;
        }

        .en-text {
            font-family: 'Playfair Display', serif;
        }

        h1, h2, h3, .serif {
            font-family: 'Noto Serif SC', serif;
        }

        /* Navigation Styling */
        .nav-btn {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .active-tab {
            color: var(--theme-primary);
            font-weight: 700;
        }
        .active-tab::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--theme-primary);
            border-radius: 2px;
        }

        /* Card Styling */
        .verse-card {
            background-color: white;
            border-left: 4px solid transparent;
            transition: all 0.3s ease;
            border: 1px solid #cbd5e1; /* Slate 300 */
        }
        .verse-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px -5px rgba(71, 85, 105, 0.15);
            border-left-color: var(--theme-primary);
        }

        .academic-box {
            background-color: #f1f5f9; /* Slate 100 */
            border-left: 3px solid #64748b; /* Slate 500 */
            color: #334155;
        }
        
        .devotional-box {
            background-color: #fef2f2; /* Red 50 */
            border-left: 3px solid #dc2626; /* Red 600 */
            color: #7f1d1d;
        }

        /* Soul Scale Animation */
        .scale-wrapper {
            position: relative;
            height: 220px;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(to bottom, #1e293b 0%, #0f172a 100%);
            border-radius: 12px;
            overflow: hidden;
            border: 2px solid #334155;
        }

        .balance-beam {
            width: 200px;
            height: 4px;
            background-color: #94a3b8;
            position: relative;
            transition: transform 1s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .pan {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            position: absolute;
            top: 20px; /* Hanging down */
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            color: white;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }
        
        .pan::before { /* The string holding the pan */
            content: '';
            position: absolute;
            top: -20px;
            width: 2px;
            height: 20px;
            background-color: #64748b;
        }

        .pan-left { left: 0; transform: translateX(-50%); background: #3b82f6; border: 2px solid #2563eb; } /* World */
        .pan-right { right: 0; transform: translateX(50%); background: #ef4444; border: 2px solid #dc2626; } /* Soul */

        .pivot {
            width: 0; 
            height: 0; 
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-bottom: 20px solid #94a3b8;
            position: absolute;
            top: 50%; /* Center of container */
            left: 50%;
            transform: translate(-50%, 0);
        }

        /* States for Scale */
        .weigh-world .balance-beam { transform: rotate(-20deg); } /* World heavier */
        .weigh-soul .balance-beam { transform: rotate(20deg); } /* Soul heavier */
        
        /* Key visual */
        .key-btn {
            transition: all 0.3s;
        }
        .key-btn:hover {
            transform: rotate(45deg) scale(1.1);
            color: #fbbf24;
        }

        /* Scrollbar */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Navigation -->
    <nav class="bg-white/95 backdrop-blur-md shadow-md sticky top-0 z-50 border-b border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-24 sm:h-20 items-center">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-slate-800 serif flex flex-col leading-tight">
                        <span><i class="fas fa-archway mr-2 text-slate-600"></i> 马太福音 16章</span>
                        <span class="text-xs text-slate-500 en-text font-normal ml-8">Matthew Chapter 16</span>
                    </span>
                </div>
                <div class="flex space-x-4 sm:space-x-8 items-center overflow-x-auto no-scrollbar">
                    <button onclick="navigate('dashboard')" id="nav-dashboard" class="nav-btn active-tab px-2 py-2 text-sm text-center shrink-0">
                        认信与十架 <br><span class="text-[10px] uppercase opacity-70 en-text">Confession & Cross</span>
                    </button>
                    <button onclick="navigate('study')" id="nav-study" class="nav-btn px-2 py-2 text-sm text-slate-500 hover:text-slate-700 text-center shrink-0">
                        逐节研读 <br><span class="text-[10px] uppercase opacity-70 en-text">Study</span>
                    </button>
                    <button onclick="navigate('methodology')" id="nav-methodology" class="nav-btn px-2 py-2 text-sm text-slate-500 hover:text-slate-700 text-center shrink-0">
                        方法论总结 <br><span class="text-[10px] uppercase opacity-70 en-text">Methodology</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="app-content" class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">
        <!-- Injected via JS -->
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-400 mt-auto">
        <div class="max-w-7xl mx-auto py-8 px-4 text-center">
            <p class="text-lg font-serif italic text-slate-200 mb-1">"你是基督，是永生神的儿子"</p>
            <p class="text-sm italic text-slate-500 mb-2 en-text">"You are the Christ, the Son of the living God."</p>
            <p class="text-xs opacity-70">马太福音第十六章中英对照研经报告 | Foundation & Sacrifice</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- Data Store ---
        const chapterData = {
            intro: {
                title: "分水岭：你是谁？你要去哪里？",
                title_en: "The Watershed: Who are You? Where are You Going?",
                summary_zh: "马太福音第16章是整卷书的地理和神学中心。在北部的凯撒利亚腓立比，远离犹太宗教中心，耶稣向门徒发出了终极拷问：'你们说我是谁？' 彼得的认信（你是基督）标志着教会根基的确立。然而紧接着，当耶稣揭示基督必须受苦时，彼得却成了拦阻者。本章揭示了基督信仰的两个不可分割的面向：荣耀的认信（Confession）与受苦的道路（Cross）。",
                summary_en: "Matthew 16 is the geographical and theological pivot of the Gospel. At Caesarea Philippi, far from religious centers, Jesus poses the ultimate question: 'Who do you say I am?' Peter's confession ('You are the Christ') marks the founding of the Church. Yet immediately, when Jesus reveals the necessity of suffering, Peter becomes a stumbling block. This chapter unveils two inseparable facets of faith: Glorious Confession and the Suffering Cross.",
                concepts: [
                    { title: "教会", title_en: "Church", greek: "Ekklēsia", color: "text-slate-700", desc_zh: "字面意为'被呼召出来的一群人'。这是四福音中耶稣首次提到'教会'。", desc_en: "Lit. 'Called out ones'. First mention of 'Church' by Jesus in the Gospels." },
                    { title: "磐石", title_en: "Rock", greek: "Petra", color: "text-stone-600", desc_zh: "指巨大的岩石床，既指彼得的认信，也指向基督自己作为根基。", desc_en: "Bedrock or massive rock. Refers to Peter's confession and Christ as foundation." },
                    { title: "赔上", title_en: "Forfeit", greek: "Zēmiōthē", color: "text-red-700", desc_zh: "商业术语，指遭受了无法挽回的罚款或损失。", desc_en: "Commercial term; suffering a total, irretrievable loss or fine." }
                ]
            },
            sections: [
                {
                    id: "leaven",
                    title: "壹 · 防备法利赛人的酵 (16:1-12)",
                    title_en: "Beware of the Leaven",
                    desc: "属灵的洞察力 | Spiritual Discernment",
                    verses: [
                        {
                            ref: "16:6, 12",
                            text_zh: "耶稣对他们说：'你们要谨慎，防备法利赛人和撒都该人的酵。'...这才明白...乃是防备...教训。",
                            text_en: "Jesus said to them, 'Watch and beware of the leaven of the Pharisees and Sadducees.'... Then they understood... but of the teaching...",
                            academic: {
                                title: "酵作为错误的教义 (Leaven as Corrupt Doctrine)",
                                content_zh: "法利赛人和撒都该人是神学上的死对头，却联合起来试探耶稣（求天上的神迹）。耶稣再次拒绝，只给'约拿的神迹'。在这里，'酵'不仅指伪善（路12:1），更指他们错误的'教训'（Teaching）。这种教训像酵一样具有渗透力：法利赛人的律法主义和撒都该人的世俗理性主义，都会在不知不觉中腐蚀门徒的信心。",
                                content_en: "Pharisees and Sadducees, theological enemies, united to test Jesus. Jesus refused, offering only the 'Sign of Jonah'. Here, 'Leaven' refers to 'teaching' (doctrine). Like yeast, their teaching permeates: Pharisaic legalism and Sadducean secular rationalism can subtly corrupt disciples' faith."
                            },
                            devotional: {
                                title: "你在吃什么？(What Are You Eating?)",
                                content_zh: "门徒以为耶稣在谈论'饼'（物质），耶稣却在谈论'教义'（灵粮）。我们常担心身体吃进毒素，却很少警惕灵魂吸入了什么。在这个信息爆炸的时代，错误的教导（成功的酵、律法的酵、自由派的酵）无处不在。我们需要属灵的味蕾，能够分辨并拒绝那些看似美味其实有毒的'面包'。",
                                content_en: "Disciples thought of physical bread; Jesus meant spiritual doctrine. We worry about food toxins but rarely about spiritual intake. In this information age, false teachings (leaven of success, legalism, liberalism) are everywhere. We need spiritual taste buds to discern and reject toxic 'bread'."
                            }
                        }
                    ]
                },
                {
                    id: "confession",
                    title: "贰 · 凯撒利亚腓立比的认信 (16:13-20)",
                    title_en: "The Confession at Caesarea Philippi",
                    desc: "教会的根基与权柄 | Foundation & Authority",
                    verses: [
                        {
                            ref: "16:16-18",
                            text_zh: "西门彼得回答说：'你是基督，是永生神的儿子。'...我还告诉你，你是彼得，我要把我的教会建造在这磐石上...",
                            text_en: "Simon Peter replied, 'You are the Christ, the Son of the living God.'... And I tell you, you are Peter, and on this rock I will build my church...",
                            academic: {
                                title: "磐石与阴间的门 (Petra & Gates of Hades)",
                                content_zh: "凯撒利亚腓立比是充满异教神庙（潘神）的地方，背景是一块巨大的岩壁。在这众神喧嚣之地，彼得认出了真神之子。'彼得'（Petros，小石）与'磐石'（Petra，岩床）是双关语。天主教认为彼得是磐石，更正教多认为'彼得关于基督的认信'是磐石。'阴间的门'（Hades）代表死亡的权势，不能胜过（或不能抵挡）教会的进攻。教会是进攻性的，而非防御性的。",
                                content_en: "Caesarea Philippi, filled with pagan shrines (Pan), sits against a massive cliff. Here, Peter identifies the True Son. 'Petros' (stone) vs 'Petra' (bedrock) is a pun. While Catholics see Peter as the Rock, Protestants emphasize his 'Confession of Christ'. 'Gates of Hades' (Death) cannot withstand the Church's offensive. The Church is storming hell, not just defending."
                            },
                            devotional: {
                                title: "你说是谁？(Who Do You Say?)",
                                content_zh: "别人怎么说耶稣（先知、好人、教师）并不重要，关键是'你'怎么说。信仰不能是二手的。你必须有来自父神的启示，在你的心中亲自确认：'你是我的基督。' 这个认信是你生命的磐石。当风暴来临时，唯有建立在这个个人性认信上的生命才不会倒塌。",
                                content_en: "What others say (prophet, teacher) doesn't matter. The question is 'Who do YOU say?' Faith cannot be second-hand. You need a personal revelation from the Father: 'You are MY Christ.' This confession is your bedrock. Only a life built on this personal confession stands in the storm."
                            }
                        }
                    ]
                },
                {
                    id: "cross",
                    title: "叁 · 第一次预言受难：神意与人意 (16:21-23)",
                    title_en: "First Prediction of Passion: God's Will vs Man's",
                    desc: "拦阻者的出现 | The Stumbling Block",
                    verses: [
                        {
                            ref: "16:21-23",
                            text_zh: "从此，耶稣才指示门徒，他必须上耶路撒冷去...彼得就拉着他，劝他说：'主啊，万不可如此！'...耶稣转过来...说：'撒但，退我后边去吧！'",
                            text_en: "From that time Jesus began to show his disciples that he must go to Jerusalem... And Peter took him aside and began to rebuke him... But he turned... 'Get behind me, Satan!'",
                            academic: {
                                title: "必须 (Dei) 的神学必然性",
                                content_zh: "彼得刚被称赞为'磐石'，转眼就成了'绊脚石'（Skandalon）。因为他只接受荣耀的弥赛亚，拒绝受苦的弥赛亚。'撒但'意为抵挡者。耶稣如此严厉，是因为彼得的建议（不走十字架的路）正是旷野试探中撒但的核心诱惑——'没有十字架的冠冕'。体贴人的意思，往往就是抵挡神的意思。",
                                content_en: "Peter, the 'Rock', instantly becomes a 'Stumbling Block' (Skandalon). He wanted a Glory-Messiah, not a Suffering-Messiah. 'Satan' means Adversary. Jesus is harsh because Peter's suggestion (bypass the Cross) mirrors Satan's wilderness temptation—'Crown without Cross'. Setting the mind on human things is often opposing God."
                            },
                            devotional: {
                                title: "好心办坏事 (Good Intentions, Wrong Spirit)",
                                content_zh: "彼得是出于'爱'才劝阻耶稣，但这爱是属肉体的。我们常以为'让人舒服'、'免受痛苦'就是爱。但如果这种爱拦阻了神在人身上的旨意（通常包含破碎和十字架），那这爱就成了撒但的工具。真正的爱是帮助人拥抱神的旨意，哪怕那意味着通过死荫的幽谷。",
                                content_en: "Peter rebuked out of 'love', but it was fleshly. We think preventing pain is love. But if 'love' hinders God's will (which often involves the cross), it becomes Satan's tool. True love helps others embrace God's will, even if it means walking through the valley of the shadow of death."
                            }
                        }
                    ]
                },
                {
                    id: "cost",
                    title: "肆 · 跟随的代价：生命的悖论 (16:24-28)",
                    title_en: "The Cost of Discipleship: The Paradox of Life",
                    desc: "赚得与赔上 | Gaining & Forfeiting",
                    verses: [
                        {
                            ref: "16:24-26",
                            text_zh: "...若有人要跟从我，就当舍己，背起他的十字架来跟从我...人若赚得全世界，赔上自己的生命，有什么益处呢？",
                            text_en: "...If anyone would come after me, let him deny himself and take up his cross and follow me... For what will it profit a man if he gains the whole world and forfeits his soul?",
                            academic: {
                                title: "舍己与背十字架 (Deny & Take Up)",
                                content_zh: "'舍己'（Aparneomai）不仅是无私，而是'否认拥有权'，如同彼得后来否认认识耶稣一样。背十字架不是指忍受生活中的小麻烦（如坏脾气的配偶），而是指以此赴死刑的姿态，向世界死。耶稣提出了终极的灵魂经济学：世界（暂时的）与生命/灵魂（永恒的）互为代价。试图保存自我生命的，终必失去。",
                                content_en: "'Deny' (Aparneomai) means disowning ownership, like Peter disowning Jesus later. 'Taking up the cross' isn't bearing nuisances, but a death march—dying to the world. Jesus presents Ultimate Economics: The World (temporary) vs The Soul (eternal). Trying to save the self-life guarantees losing it."
                            },
                            devotional: {
                                title: "灵魂的汇率 (Exchange Rate of the Soul)",
                                content_zh: "如果给你全世界（名声、财富、权力），交换你的灵魂（与神的关系），你换吗？大多数人理智上说不换，但生活中却在一点点地换——为了升职牺牲聚会，为了面子牺牲真理。耶稣提醒我们：这个交易不仅愚蠢，而且是亏本的。因为灵魂的价值高于整个物质宇宙的总和。不要做那个拿着世界却在那边赤身露体的人。",
                                content_en: "Would you trade your soul for the whole world? Ideally no, but practically we do it piecemeal—sacrificing worship for promotion, truth for face. Jesus warns: this trade is a total loss. The soul's value exceeds the material universe. Don't be the one holding the world but standing naked in eternity."
                            }
                        }
                    ]
                }
            ]
        };

        // --- State ---
        let appState = {
            view: 'dashboard',
            studyFilter: 'all',
            scaleState: 'center' // center, world, soul
        };

        // --- Init ---
        document.addEventListener('DOMContentLoaded', () => {
            renderDashboard();
        });

        // --- Navigation ---
        function navigate(view) {
            appState.view = view;
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active-tab');
                btn.classList.add('text-slate-500');
            });
            document.getElementById(`nav-${view}`).classList.add('active-tab');
            document.getElementById(`nav-${view}`).classList.remove('text-slate-500');

            if (view === 'dashboard') renderDashboard();
            if (view === 'study') renderStudy();
            if (view === 'methodology') renderMethodology();
            window.scrollTo(0,0);
        }

        // --- Interactive Functions ---
        function weighScale(side) {
            const beam = document.querySelector('.balance-beam');
            const result = document.getElementById('scale-result');
            
            if (side === 'world') {
                beam.style.transform = 'rotate(-20deg)';
                result.innerHTML = "<span class='text-blue-600 font-bold'>赚得全世界 (Gained World)</span> <br> <span class='text-red-500 text-xs'>赔上生命 (Lost Soul) - 亏损 (Loss)</span>";
            } else if (side === 'soul') {
                beam.style.transform = 'rotate(20deg)';
                result.innerHTML = "<span class='text-red-600 font-bold'>得着生命 (Saved Soul)</span> <br> <span class='text-slate-500 text-xs'>舍弃世界 (Denied World) - 益处 (Profit)</span>";
            } else {
                beam.style.transform = 'rotate(0deg)';
                result.innerHTML = "选择你的投资 (Choose Investment)";
            }
        }

        // --- Renders ---
        function renderDashboard() {
            const container = document.getElementById('app-content');
            container.innerHTML = `
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 mb-8 animate-fade-in">
                    <!-- Intro -->
                    <div class="lg:col-span-8 bg-white p-8 rounded-xl shadow-lg border-t-4 border-slate-600">
                        <div class="flex items-center mb-4">
                            <span class="bg-slate-100 text-slate-800 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide mr-3">Turning Point</span>
                            <h2 class="text-3xl font-bold serif text-slate-900">${chapterData.intro.title}</h2>
                        </div>
                        <h3 class="text-lg text-slate-400 font-serif italic mb-4 en-text">${chapterData.intro.title_en}</h3>
                        <p class="text-slate-600 leading-relaxed mb-4 text-lg border-l-4 border-slate-200 pl-4">${chapterData.intro.summary_zh}</p>
                        <p class="text-slate-500 leading-relaxed text-sm italic en-text border-l-4 border-slate-200 pl-4">${chapterData.intro.summary_en}</p>
                        
                        <!-- Concept Cards -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-8">
                            ${chapterData.intro.concepts.map(c => `
                                <div class="bg-slate-50 p-4 rounded-lg border border-slate-200 flex flex-col items-center text-center transition hover:bg-slate-100 group">
                                    <h4 class="font-bold ${c.color} text-lg mb-1 group-hover:scale-105 transition">${c.title}</h4>
                                    <p class="text-xs text-slate-400 font-serif mb-1 en-text">${c.title_en}</p>
                                    <p class="text-xs text-slate-500 font-mono mb-2">${c.greek}</p>
                                    <p class="text-xs text-slate-600 mb-1">${c.desc_zh}</p>
                                    <p class="text-[10px] text-slate-400 italic en-text">${c.desc_en}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <!-- Visual Sidebar: The Soul Scale -->
                    <div class="lg:col-span-4 bg-slate-800 p-6 rounded-xl shadow-lg flex flex-col border border-slate-700 relative overflow-hidden">
                         <h3 class="text-xl font-bold mb-1 text-center text-slate-200">灵魂天平</h3>
                         <p class="text-xs text-slate-400 mb-4 text-center en-text uppercase tracking-widest">The Soul Scale</p>
                         
                         <div class="scale-wrapper mb-4">
                            <div class="pivot"></div>
                            <div class="balance-beam">
                                <div class="pan pan-left"><i class="fas fa-globe-americas"></i></div> <!-- World -->
                                <div class="pan pan-right"><i class="fas fa-heart"></i></div> <!-- Soul -->
                            </div>
                         </div>
                         
                         <p id="scale-result" class="text-center text-sm text-slate-300 mb-4 h-10">选择你的投资 (Choose Investment)</p>

                         <div class="grid grid-cols-2 gap-2">
                            <button onclick="weighScale('world')" class="py-2 bg-blue-600 hover:bg-blue-700 rounded text-white text-xs font-bold transition">
                                <i class="fas fa-coins mr-1"></i> 赚世界 (Gain World)
                            </button>
                            <button onclick="weighScale('soul')" class="py-2 bg-red-600 hover:bg-red-700 rounded text-white text-xs font-bold transition">
                                <i class="fas fa-cross mr-1"></i> 救生命 (Save Soul)
                            </button>
                         </div>
                    </div>
                </div>

                <!-- Feature: The Keys of the Kingdom -->
                <div class="bg-white p-6 rounded-xl shadow-lg mb-8 border border-yellow-100">
                    <div class="flex flex-col md:flex-row justify-between items-center mb-6">
                        <h3 class="text-lg font-bold text-slate-700">
                            <i class="fas fa-key text-yellow-600 mr-2"></i> 天国的钥匙：捆绑与释放
                            <span class="text-sm font-normal text-slate-400 ml-2 en-text">Keys of the Kingdom: Bind & Loose</span>
                        </h3>
                        <span class="text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded">Authority</span>
                    </div>
                    
                    <div class="flex justify-center gap-12 items-center py-4">
                        <div class="text-center group">
                            <i class="fas fa-lock key-btn text-5xl text-slate-400 mb-2 cursor-pointer group-hover:text-red-500"></i>
                            <h4 class="font-bold text-slate-600">捆绑 (Bind)</h4>
                            <p class="text-xs text-slate-400 mt-1">禁止、保留罪、审判</p>
                            <p class="text-[10px] text-slate-300 italic en-text">Forbid / Retain</p>
                        </div>
                        
                        <div class="w-px h-24 bg-slate-200"></div>
                        
                        <div class="text-center group">
                            <i class="fas fa-lock-open key-btn text-5xl text-yellow-500 mb-2 cursor-pointer group-hover:text-green-500"></i>
                            <h4 class="font-bold text-slate-600">释放 (Loose)</h4>
                            <p class="text-xs text-slate-400 mt-1">允许、赦免罪、自由</p>
                            <p class="text-[10px] text-slate-300 italic en-text">Permit / Forgive</p>
                        </div>
                    </div>
                    <p class="text-center text-xs text-slate-400 mt-2 bg-slate-50 p-2 rounded">
                        "凡你在地上所捆绑的，在天上也要捆绑..." (Whatever you bind on earth...)
                        <br>这是教会纪律与宣赦的权柄 (Authority of discipline & absolution)。
                    </p>
                </div>
            `;
        }

        function renderStudy() {
            const container = document.getElementById('app-content');
            
            // Filter Controls
            const filterHTML = `
                <div class="sticky top-20 z-40 bg-[#f8fafc]/95 backdrop-blur py-4 mb-6 border-b border-slate-200">
                    <div class="flex justify-between items-center max-w-5xl mx-auto">
                        <h2 class="text-2xl font-bold text-slate-900 serif">逐节研读室 <span class="text-base font-normal text-slate-400 en-text ml-2">Verse by Verse Study</span></h2>
                        <div class="flex bg-white rounded-lg shadow-sm p-1 border border-slate-200">
                            <button onclick="updateFilter('all')" class="px-4 py-1.5 rounded text-sm transition ${appState.studyFilter === 'all' ? 'bg-slate-700 text-white font-bold' : 'text-slate-500 hover:bg-slate-100'}">全部 All</button>
                            <button onclick="updateFilter('academic')" class="px-4 py-1.5 rounded text-sm transition ${appState.studyFilter === 'academic' ? 'bg-slate-500 text-white font-bold' : 'text-slate-500 hover:bg-slate-100'}">经文含义 Exegesis</button>
                            <button onclick="updateFilter('devotional')" class="px-4 py-1.5 rounded text-sm transition ${appState.studyFilter === 'devotional' ? 'bg-red-600 text-white font-bold' : 'text-slate-500 hover:bg-slate-100'}">灵修应用 Devotional</button>
                        </div>
                    </div>
                </div>
            `;

            let sectionsHTML = '';
            chapterData.sections.forEach(section => {
                sectionsHTML += `
                    <div class="max-w-5xl mx-auto mb-16">
                        <div class="flex items-center mb-6 pl-2 border-l-4 border-slate-600">
                            <div class="pl-4">
                                <h3 class="text-2xl font-bold text-slate-800">${section.title}</h3>
                                <p class="text-sm text-slate-500 font-serif italic mt-1 en-text">${section.title_en} | ${section.desc}</p>
                            </div>
                        </div>
                        
                        <div class="space-y-6">
                            ${section.verses.map(verse => createVerseCard(verse)).join('')}
                        </div>
                    </div>
                `;
            });

            container.innerHTML = filterHTML + sectionsHTML;
        }

        function createVerseCard(verse) {
            // Safety checks
            const academicTitle = verse.academic ? verse.academic.title : "Title Missing";
            const academicContentZh = verse.academic ? verse.academic.content_zh : "Content missing";
            const academicContentEn = verse.academic ? verse.academic.content_en : "Content missing";
            
            const devotionalTitle = verse.devotional ? verse.devotional.title : "Title Missing";
            const devotionalContentZh = verse.devotional ? verse.devotional.content_zh : "Content missing";
            const devotionalContentEn = verse.devotional ? verse.devotional.content_en : "Content missing";

            return `
                <div class="verse-card rounded-lg shadow-sm overflow-hidden mb-6 group">
                    <!-- Verse Text -->
                    <div class="bg-gradient-to-r from-slate-50 to-white p-5 border-b border-slate-200">
                        <span class="inline-block px-2 py-0.5 bg-slate-200 text-slate-800 text-xs font-bold rounded mb-2 font-mono border border-slate-300">${verse.ref}</span>
                        <p class="text-slate-800 font-serif text-lg leading-relaxed group-hover:text-slate-900 transition-colors mb-2">"${verse.text_zh}"</p>
                        <p class="text-slate-500 font-serif text-sm italic en-text border-l-2 border-slate-300 pl-3">"${verse.text_en}"</p>
                    </div>

                    <!-- Dual Tracks -->
                    <div class="grid grid-cols-1 md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-slate-200">
                        <!-- Academic -->
                        <div class="p-6 academic-box ${appState.studyFilter === 'devotional' ? 'hidden' : ''}">
                            <div class="flex items-center mb-3 text-slate-500">
                                <i class="fas fa-university mr-2"></i>
                                <h4 class="text-xs font-bold uppercase tracking-widest">经文含义 Exegesis</h4>
                            </div>
                            <h5 class="font-bold text-slate-700 mb-2">${academicTitle}</h5>
                            <p class="text-sm text-slate-600 leading-relaxed text-justify mb-2">${academicContentZh}</p>
                            <p class="text-xs text-slate-400 font-serif italic en-text border-t border-slate-300 pt-2 mt-2">${academicContentEn}</p>
                        </div>

                        <!-- Devotional -->
                        <div class="p-6 devotional-box ${appState.studyFilter === 'academic' ? 'hidden' : ''}">
                            <div class="flex items-center mb-3 text-red-700">
                                <i class="fas fa-heart mr-2"></i>
                                <h4 class="text-xs font-bold uppercase tracking-widest">灵修应用 Devotional</h4>
                            </div>
                            <h5 class="font-bold text-red-800 mb-2">${devotionalTitle}</h5>
                            <p class="text-sm text-red-900/80 leading-relaxed text-justify mb-2">${devotionalContentZh}</p>
                            <p class="text-xs text-red-700/70 font-serif italic en-text border-t border-red-200 pt-2 mt-2">${devotionalContentEn}</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderMethodology() {
            const container = document.getElementById('app-content');
            container.innerHTML = `
                <div class="max-w-4xl mx-auto">
                    <div class="text-center mb-10">
                        <h2 class="text-3xl font-bold mb-2 serif text-slate-800">解经方法论总结</h2>
                        <p class="text-slate-500 en-text">Summary of Exegetical Methodology</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Exegesis Card -->
                        <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-slate-600 hover:shadow-xl transition hover:-translate-y-1">
                            <div class="text-slate-500 text-4xl mb-4"><i class="fas fa-book-reader"></i></div>
                            <h3 class="text-xl font-bold text-slate-700 mb-2">权威/经文性解经 (Exegesis)</h3>
                            <p class="text-xs text-slate-400 mb-6 uppercase tracking-wider">Wordplay & Context</p>
                            
                            <ul class="space-y-4 text-sm text-slate-600">
                                <li class="flex flex-col items-start">
                                    <div class="flex items-center font-bold text-slate-700 mb-1"><i class="fas fa-check-circle mr-2"></i> 原则 Principles</div>
                                    <div class="mb-1">词源分析（Peter/Rock的双关语）。地理背景（凯撒利亚的异教背景）。比喻解析（酵作为教义）。悖论逻辑（得着即失去）。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Etymological analysis (Peter/Rock pun). Geographical context (Pagan Caesarea). Parabolic decoding (Leaven). Paradoxical logic.</div>
                                </li>
                                <li class="flex flex-col items-start border-t border-slate-200 pt-3">
                                    <div class="flex items-center font-bold text-slate-700 mb-1"><i class="fas fa-check-circle mr-2"></i> 如何运用 How to Apply</div>
                                    <div class="mb-1">区分"人意的爱"与"神意的爱"（彼得的拦阻）。理解教会的进攻性质（阴间的门）。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Distinguish human love vs divine will. Understand the Church's offensive nature.</div>
                                </li>
                            </ul>
                        </div>

                        <!-- Devotional Card -->
                        <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-red-500 hover:shadow-xl transition hover:-translate-y-1">
                            <div class="text-red-500 text-4xl mb-4"><i class="fas fa-pray"></i></div>
                            <h3 class="text-xl font-bold text-red-800 mb-2">灵修/应用性解经 (Devotional)</h3>
                            <p class="text-xs text-red-600/70 mb-6 uppercase tracking-wider">Confession & Cost</p>
                            
                            <ul class="space-y-4 text-sm text-slate-600">
                                <li class="flex flex-col items-start">
                                    <div class="flex items-center font-bold text-red-600 mb-1"><i class="fas fa-check-circle mr-2"></i> 原则 Principles</div>
                                    <div class="mb-1">个人化认信（你说是谁？）。警惕"好心办坏事"（体贴人意）。计算跟随的代价（灵魂汇率）。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Personal confession (Who do YOU say?). Beware of 'good intentions' (human mindset). Counting the cost (Soul exchange).</div>
                                </li>
                                <li class="flex flex-col items-start border-t border-red-100 pt-3">
                                    <div class="flex items-center font-bold text-red-600 mb-1"><i class="fas fa-check-circle mr-2"></i> 如何运用 How to Apply</div>
                                    <div class="mb-1">每日问自己：我今天是在"赚世界"还是"赚生命"？对错误的教导保持警惕。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Ask daily: Am I gaining the world or my soul? Be vigilant against false teaching.</div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            `;
        }

        function updateFilter(filter) {
            appState.studyFilter = filter;
            renderStudy();
        }
    </script>
</body>
</html>