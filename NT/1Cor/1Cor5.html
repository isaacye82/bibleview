<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1 Corinthians 5: Purity & Discipline | 哥林多前书第五章</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Noto+Sans+SC:wght@300;400;500;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap');

        :root {
            /* Discipline Red - Judgment/Severity */
            --theme-primary: #b91c1c; 
            /* Unleavened White - Purity */
            --theme-light: #fafafa;
            /* Leaven Amber - Corruption spreading */
            --theme-accent: #d97706;
            /* Dark Slate - Text */
            --theme-dark: #1e293b;
        }

        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #f8fafc;
            color: #334155;
        }

        .en-text {
            font-family: 'Playfair Display', serif;
        }

        h1, h2, h3, .serif {
            font-family: 'Noto Serif SC', serif;
        }

        /* Navigation Styling */
        .nav-btn {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .active-tab {
            color: var(--theme-primary);
            font-weight: 700;
        }
        .active-tab::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--theme-primary);
            border-radius: 2px;
        }

        /* Card Styling */
        .verse-card {
            background-color: white;
            border-left: 4px solid transparent;
            transition: all 0.3s ease;
            border: 1px solid #e2e8f0;
        }
        .verse-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px -5px rgba(185, 28, 28, 0.15);
            border-left-color: var(--theme-primary);
        }

        .academic-box {
            background-color: #f1f5f9; /* Slate 100 */
            border-left: 3px solid #64748b; /* Slate 500 */
            color: #475569;
        }
        
        .devotional-box {
            background-color: #fef2f2; /* Red 50 */
            border-left: 3px solid #b91c1c; /* Red 700 */
            color: #991b1b;
        }

        /* Chart Area */
        .chart-container {
            position: relative;
            height: 360px;
            width: 100%;
        }

        /* Gavel Animation for Judgment */
        .gavel-icon {
            transform-origin: bottom right;
            animation: hammer 2s ease-in-out infinite;
        }
        @keyframes hammer {
            0% { transform: rotate(0deg); }
            20% { transform: rotate(-45deg); }
            40% { transform: rotate(0deg); }
            100% { transform: rotate(0deg); }
        }

        /* Yeast Spreading Animation */
        .yeast-dot {
            position: absolute;
            background-color: #d97706;
            border-radius: 50%;
            opacity: 0;
            animation: spread 4s infinite;
        }
        @keyframes spread {
            0% { transform: scale(0); opacity: 1; }
            50% { transform: scale(3); opacity: 0.5; }
            100% { transform: scale(5); opacity: 0; }
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Navigation -->
    <nav class="bg-white/95 backdrop-blur-md shadow-md sticky top-0 z-50 border-b border-red-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-red-900 serif flex flex-col leading-tight">
                        <span><i class="fas fa-gavel mr-2 gavel-icon text-red-600"></i> 哥林多前书 5章</span>
                        <span class="text-xs text-red-700 en-text font-normal ml-8">1 Corinthians Chapter 5</span>
                    </span>
                </div>
                <div class="flex space-x-8 items-center">
                    <button onclick="navigate('dashboard')" id="nav-dashboard" class="nav-btn active-tab px-2 py-2 text-sm text-center">
                        全景概览 <br><span class="text-[10px] uppercase opacity-70 en-text">Overview</span>
                    </button>
                    <button onclick="navigate('study')" id="nav-study" class="nav-btn px-2 py-2 text-sm text-slate-500 hover:text-red-700 text-center">
                        逐节研读 <br><span class="text-[10px] uppercase opacity-70 en-text">Study</span>
                    </button>
                    <button onclick="navigate('methodology')" id="nav-methodology" class="nav-btn px-2 py-2 text-sm text-slate-500 hover:text-red-700 text-center">
                        方法论 <br><span class="text-[10px] uppercase opacity-70 en-text">Methodology</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="app-content" class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">
        <!-- Injected via JS -->
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-400 mt-auto">
        <div class="max-w-7xl mx-auto py-8 px-4 text-center">
            <p class="text-lg font-serif italic text-red-100 mb-1">"岂不知一点面酵能使全团发起来吗？"</p>
            <p class="text-sm italic text-slate-500 mb-2 en-text">"Do you not know that a little leaven leavens the whole lump?" (5:6)</p>
            <p class="text-xs opacity-70">哥林多前书第五章中英对照研经报告 | Holiness & Discipline</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- Data Store ---
        const chapterData = {
            intro: {
                title: "除酵务尽：教会纪律的必要性",
                title_en: "Purge the Leaven: The Necessity of Church Discipline",
                summary_zh: "第五章处理了一个令人震惊的丑闻：教会中有人与其继母同居，而教会对此竟然自高自大，没有丝毫哀痛。保罗严厉责备了这种'假慈悲'，并命令教会执行纪律——将那人'交给撒但'。本章的核心逻辑建立在逾越节的隐喻上：基督是我们的逾越节羔羊，既然羔羊已被杀献祭，教会就应当成为'无酵的新团'。纪律的目的不是毁灭，而是挽回罪人并保护教会的纯洁。",
                summary_en: "Chapter 5 addresses a shocking scandal: a man cohabiting with his stepmother, while the church remains arrogant and unmournful. Paul sternly rebukes this 'false grace' and commands discipline—to 'deliver this man to Satan'. The core logic rests on Passover imagery: Christ is our Passover Lamb; since He has been sacrificed, the church must be a 'new unleavened lump'. The goal of discipline is restoration of the sinner and protection of the church's purity.",
                concepts: [
                    { title: "交给撒但", title_en: "Deliver to Satan", greek: "Paradounai to Satana", color: "text-red-700", desc_zh: "指将犯罪者逐出教会的保护伞，使其暴露在撒但的领域（世界）中，藉苦难促其悔改。", desc_en: "Excommunicating the sinner from the church's protection into Satan's realm (the world) for repentance through suffering." },
                    { title: "面酵", title_en: "Leaven", greek: "Zymē", color: "text-amber-600", desc_zh: "象征罪的渗透性和腐败力。在犹太传统中，酵代表陈旧、邪恶。", desc_en: "Symbolizes the pervasive and corrupting power of sin. In Jewish tradition, leaven represents old malice." },
                    { title: "相交", title_en: "Associate", greek: "Sunanamignusthai", color: "text-slate-600", desc_zh: "字面意为'混合在一起'。保罗禁止与犯罪的'弟兄'混合，而非与世人。", desc_en: "Literally 'to mix up together'. Paul forbids mixing with sinning 'brothers', not with the world." }
                ]
            },
            sections: [
                {
                    id: "scandal",
                    title: "壹 · 令人发指的罪与教会的傲慢 (5:1-2)",
                    title_en: "Heinous Sin & Arrogant Church",
                    desc: "连外邦人中也没有的事 | Not Even Tolerated Among Pagans",
                    verses: [
                        {
                            ref: "5:1-2",
                            text_zh: "风闻在你们中间有淫乱的事...你们还是自高自大，并不哀痛，把行这事的人从你们中间赶出去。",
                            text_en: "It is actually reported that there is sexual immorality among you... And you are arrogant! Ought you not rather to mourn? Let him who has done this be removed from among you.",
                            academic: {
                                title: "收继母 (Incest with Stepmother)",
                                content_zh: "这种乱伦行为（娶父亲的妻子，利18:8）不仅违反摩西律法，甚至违背罗马法律（Roman Law），连外邦异教徒都视之为丑闻。哥林多教会的'自高自大'（Pephysiomenoi - 像气球一样膨胀）可能源于他们对'自由'的误解，认为灵性高超便可无视肉体的罪。",
                                content_en: "This incest (Lev 18:8) violated both Mosaic and Roman Law; even pagans considered it scandalous. The church's 'arrogance' (puffed up) likely stemmed from a twisted view of 'freedom', believing spiritual elevation exempted them from bodily morality."
                            },
                            devotional: {
                                title: "假宽容的危险 (The Danger of False Tolerance)",
                                content_zh: "教会最大的危机不仅是有人犯罪，更是大家对罪'并不哀痛'。我们常把冷漠包装成'宽容'，把懦弱包装成'爱'。如果教会对明显的罪恶视而不见，它就失去了作为'圣殿'的本质。真正的爱包含管教，正如医生为了救命必须切除肿瘤。",
                                content_en: "The crisis isn't just the sin, but the lack of mourning. We often disguise apathy as 'tolerance' and cowardice as 'love'. If the church turns a blind eye to flagrant sin, it forfeits its nature as a Holy Temple. True love includes discipline, just as a surgeon must cut out a tumor to save a life."
                            }
                        }
                    ]
                },
                {
                    id: "discipline",
                    title: "贰 · 执行判决：交给撒但 (5:3-5)",
                    title_en: "Executing Judgment: Hand Over to Satan",
                    desc: "败坏肉体，挽救灵魂 | Destruction of Flesh, Salvation of Spirit",
                    verses: [
                        {
                            ref: "5:4-5",
                            text_zh: "...奉我们主耶稣的名，并用我们主耶稣的权能，要把这样的人交给撒但，败坏他的肉体，使他的灵魂在主耶稣的日子可以得救。",
                            text_en: "...in the name of the Lord Jesus... with the power of our Lord Jesus, you are to deliver this man to Satan for the destruction of the flesh, so that his spirit may be saved in the day of the Lord.",
                            academic: {
                                title: "交给撒但 (Paradounai to Satana)",
                                content_zh: "这是一种司法性的逐出教会（Excommunication）。教会是神的国度，教会之外是撒但的领域。将人逐出，意味着撤去属灵的遮盖，任由撒但攻击他的身体或环境（'败坏肉体'可能指疾病或极度的苦难），目的是为了摧毁他的罪性（Flesh），促使他悔改，最终得救。",
                                content_en: "This is judicial excommunication. The church is God's sphere; outside is Satan's. Expulsion removes spiritual cover, exposing the person to Satan (possibly sickness or suffering) to destroy their sinful nature ('flesh'), aiming for repentance and ultimate salvation."
                            },
                            devotional: {
                                title: "严厉的怜悯 (Severe Mercy)",
                                content_zh: "这个判决听起来很残酷，但其终极动机是'灵魂得救'。这是一种'严厉的怜悯'。有时神允许我们陷入极其痛苦的境地（被交出去），是因为我们在舒适区里永远学不会悔改。管教是神不放弃我们的证据。",
                                content_en: "This sounds cruel, but the motive is 'salvation of the spirit'. It is a 'severe mercy'. Sometimes God allows us to hit rock bottom because we won't repent in comfort. Discipline is proof that God hasn't given up on us."
                            }
                        }
                    ]
                },
                {
                    id: "leaven",
                    title: "叁 · 逾越节的逻辑：除净旧酵 (5:6-8)",
                    title_en: "Passover Logic: Purge the Old Leaven",
                    desc: "既然是无酵的面，就当把旧酵除净 | Be What You Are",
                    verses: [
                        {
                            ref: "5:7-8",
                            text_zh: "你们既是无酵的面，应当把旧酵除净...因为我们逾越节的羔羊基督已经被杀献祭了。所以，我们守这节...",
                            text_en: "Cleanse out the old leaven that you may be a new lump, as you really are unleavened. For Christ, our Passover lamb, has been sacrificed. Let us therefore celebrate the festival...",
                            academic: {
                                title: "成圣的悖论 (Paradox of Sanctification)",
                                content_zh: "保罗说'你们既是无酵的'（地位上的成圣），又说'应当把旧酵除净'（生活上的成圣）。这是新约伦理的核心：**成为你所是的**（Become what you are）。因为羔羊已死，救赎已成，所以我们不仅要除去罪（恶毒、邪恶），更要活出诚实与真理。",
                                content_en: "Paul says 'you ARE unleavened' (positional) yet commands 'cleanse out the leaven' (practical). This is the core of NT ethics: **Become what you are**. Because the Lamb is slain, we must purge malice and live in sincerity and truth."
                            },
                            devotional: {
                                title: "微小的渗透 (The Tiny Infiltration)",
                                content_zh: "一点面酵能使全团发起来。罪具有惊人的传染性和繁殖力。我们常说'这只是个小习惯'、'这只是一次妥协'。但神提醒我们，这一点点妥协如果不除掉，最终会腐蚀整个生命（全团）。属灵的防微杜渐至关重要。",
                                content_en: "A little leaven leavens the whole lump. Sin is infectious. We say 'it's just a small habit', but God warns that this small compromise, if unchecked, will corrupt the whole life. Vigilance in small things is crucial."
                            }
                        }
                    ]
                },
                {
                    id: "boundaries",
                    title: "肆 · 审判的边界：教内与教外 (5:9-13)",
                    title_en: "Boundaries of Judgment: Inside vs Outside",
                    desc: "与谁断绝交往？| With Whom to Disassociate?",
                    verses: [
                        {
                            ref: "5:9-11",
                            text_zh: "我写信...不可与淫乱的人相交。此话不是指这世上一概行淫乱的...若有称为弟兄是行淫乱的...这样的人不可与他相交，就是与他吃饭都不可。",
                            text_en: "I wrote to you... not to associate with sexually immoral people—not at all meaning the sexually immoral of this world... But now I am writing to you not to associate with anyone who bears the name of brother if he is guilty of sexual immorality... not even to eat with such a one.",
                            academic: {
                                title: "相交 (Sunanamignusthai) 的界限",
                                content_zh: "保罗澄清了一个误解：隔离不是针对非信徒（否则就得离开世界），而是针对那些'称为弟兄'却活在罪中的人。'不可吃饭'不仅指圣餐，也指日常社交。这种社会性排斥（Social Ostracism）是为了让他在群体中感到羞愧，从而悔改。对教外的人，神会审判；对教内的人，教会必须审判。",
                                content_en: "Separation applies to 'so-called brothers' living in sin, not unbelievers (or we'd have to leave the world). 'Not eating' implies barring from both Communion and social meals. This social ostracism aims to produce shame leading to repentance. God judges outsiders; the Church must judge insiders."
                            },
                            devotional: {
                                title: "爱需要界限 (Love Requires Boundaries)",
                                content_zh: "我们常搞反了：对教会里的罪人'包容'（不敢管），对世界上的罪人'指责'（骂他们堕落）。保罗的原则恰恰相反：对世界要宽容（因为他们不认识神），对教会要严格（因为我们代表神）。为了维护基督身体的圣洁，有时我们需要对'有名无实'的弟兄划清界限。",
                                content_en: "We often get it backwards: tolerant of sin inside, judgmental of sin outside. Paul flips this: extend grace to the world (they don't know God), but uphold standards in the church (we represent God). To protect the Body's purity, we must sometimes draw hard lines with nominal believers."
                            }
                        }
                    ]
                }
            ]
        };

        // --- State ---
        let appState = {
            view: 'dashboard',
            studyFilter: 'all'
        };

        // --- Init ---
        document.addEventListener('DOMContentLoaded', () => {
            renderDashboard();
        });

        // --- Navigation ---
        function navigate(view) {
            appState.view = view;
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active-tab');
                btn.classList.add('text-slate-500');
            });
            document.getElementById(`nav-${view}`).classList.add('active-tab');
            document.getElementById(`nav-${view}`).classList.remove('text-slate-500');

            if (view === 'dashboard') renderDashboard();
            if (view === 'study') renderStudy();
            if (view === 'methodology') renderMethodology();
            window.scrollTo(0,0);
        }

        // --- Renders ---
        function renderDashboard() {
            const container = document.getElementById('app-content');
            container.innerHTML = `
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 mb-8 animate-fade-in">
                    <!-- Intro -->
                    <div class="lg:col-span-8 bg-white p-8 rounded-xl shadow-lg border-t-4 border-red-600">
                        <div class="flex items-center mb-4">
                            <span class="bg-red-100 text-red-800 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide mr-3">Focus</span>
                            <h2 class="text-3xl font-bold serif text-red-900">${chapterData.intro.title}</h2>
                        </div>
                        <h3 class="text-lg text-slate-400 font-serif italic mb-4 en-text">${chapterData.intro.title_en}</h3>
                        <p class="text-slate-600 leading-relaxed mb-4 text-lg border-l-4 border-red-200 pl-4">${chapterData.intro.summary_zh}</p>
                        <p class="text-slate-500 leading-relaxed text-sm italic en-text border-l-4 border-slate-200 pl-4">${chapterData.intro.summary_en}</p>
                        
                        <!-- Concept Cards -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-8">
                            ${chapterData.intro.concepts.map(c => `
                                <div class="bg-slate-50 p-4 rounded-lg border border-slate-200 flex flex-col items-center text-center transition hover:bg-red-50 group">
                                    <h4 class="font-bold ${c.color} text-lg mb-1 group-hover:scale-105 transition">${c.title}</h4>
                                    <p class="text-xs text-slate-400 font-serif mb-1 en-text">${c.title_en}</p>
                                    <p class="text-xs text-slate-500 font-mono mb-2">${c.greek}</p>
                                    <p class="text-xs text-slate-600 mb-1">${c.desc_zh}</p>
                                    <p class="text-[10px] text-slate-400 italic en-text">${c.desc_en}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <!-- Visual Sidebar: Leaven Spreading -->
                    <div class="lg:col-span-4 bg-gradient-to-br from-amber-100 to-amber-200 text-amber-900 p-8 rounded-xl shadow-lg flex flex-col justify-center items-center relative overflow-hidden border border-amber-300">
                         
                         <h3 class="text-xl font-bold mb-1 z-10 text-center text-amber-800">一点面酵 (Little Leaven)</h3>
                         <p class="text-xs text-amber-700 mb-6 z-10 en-text uppercase tracking-widest border-b border-amber-500 pb-2">Spreading Corruption (5:6)</p>
                         
                         <div class="relative w-full h-48 z-10 flex flex-col items-center justify-center">
                            <!-- Dough Ball -->
                            <div class="w-32 h-32 bg-white rounded-full flex items-center justify-center shadow-inner relative overflow-hidden">
                                <div class="absolute inset-0 bg-amber-50 opacity-50"></div>
                                <!-- Leaven Spots -->
                                <div class="yeast-dot top-1/2 left-1/2 w-2 h-2"></div>
                                <div class="yeast-dot top-1/3 left-1/3 w-2 h-2" style="animation-delay: 1s;"></div>
                                <div class="yeast-dot bottom-1/4 right-1/4 w-2 h-2" style="animation-delay: 2s;"></div>
                            </div>
                            <span class="text-xs mt-4 text-amber-800 font-bold">全团发起来 (Whole Lump Leavened)</span>
                         </div>
                    </div>
                </div>

                <!-- Chart Section: Spheres of Judgment -->
                <div class="bg-white p-6 rounded-xl shadow-lg mb-8 border border-red-100">
                    <div class="flex flex-col md:flex-row justify-between items-center mb-6">
                        <h3 class="text-lg font-bold text-slate-700">
                            <i class="fas fa-balance-scale text-red-600 mr-2"></i> 审判的边界 
                            <span class="text-sm font-normal text-slate-400 ml-2 en-text">Spheres of Judgment (5:12-13)</span>
                        </h3>
                        <span class="text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded">Inside vs Outside</span>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 text-center h-56 items-center">
                        <!-- Inside Church -->
                        <div class="border-r border-slate-200 h-full flex flex-col justify-center p-4 bg-red-50 rounded-l-xl">
                            <h4 class="text-red-800 font-bold mb-2">教内 (Inside the Church)</h4>
                            <i class="fas fa-church text-4xl text-red-400 mb-3"></i>
                            <p class="text-sm text-red-700 font-bold">我们审判 (We Judge)</p>
                            <p class="text-xs text-slate-500 mt-2">"把那恶人从你们中间赶出去"<br>"Purge the evil person from among you"</p>
                        </div>
                        
                        <!-- Outside World -->
                        <div class="h-full flex flex-col justify-center p-4 bg-slate-100 rounded-r-xl border border-slate-200">
                            <h4 class="text-slate-600 font-bold mb-2">教外 (Outside the World)</h4>
                            <i class="fas fa-globe-americas text-4xl text-slate-400 mb-3"></i>
                            <p class="text-sm text-slate-700 font-bold">神审判 (God Judges)</p>
                            <p class="text-xs text-slate-500 mt-2">"外人有神审判他们"<br>"God judges those outside"</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderStudy() {
            const container = document.getElementById('app-content');
            
            // Filter Controls
            const filterHTML = `
                <div class="sticky top-20 z-40 bg-[#f8fafc]/95 backdrop-blur py-4 mb-6 border-b border-red-200">
                    <div class="flex justify-between items-center max-w-5xl mx-auto">
                        <h2 class="text-2xl font-bold text-red-900 serif">逐节研读室 <span class="text-base font-normal text-slate-400 en-text ml-2">Verse by Verse Study</span></h2>
                        <div class="flex bg-white rounded-lg shadow-sm p-1 border border-red-100">
                            <button onclick="updateFilter('all')" class="px-4 py-1.5 rounded text-sm transition ${appState.studyFilter === 'all' ? 'bg-red-600 text-white font-bold' : 'text-slate-500 hover:bg-slate-100'}">全部 All</button>
                            <button onclick="updateFilter('academic')" class="px-4 py-1.5 rounded text-sm transition ${appState.studyFilter === 'academic' ? 'bg-slate-600 text-white font-bold' : 'text-slate-500 hover:bg-slate-100'}">学术 Academic</button>
                            <button onclick="updateFilter('devotional')" class="px-4 py-1.5 rounded text-sm transition ${appState.studyFilter === 'devotional' ? 'bg-amber-600 text-white font-bold' : 'text-slate-500 hover:bg-slate-100'}">灵修 Devotional</button>
                        </div>
                    </div>
                </div>
            `;

            let sectionsHTML = '';
            chapterData.sections.forEach(section => {
                sectionsHTML += `
                    <div class="max-w-5xl mx-auto mb-16">
                        <div class="flex items-center mb-6 pl-2 border-l-4 border-red-500">
                            <div class="pl-4">
                                <h3 class="text-2xl font-bold text-slate-800">${section.title}</h3>
                                <p class="text-sm text-red-600 font-serif italic mt-1 en-text">${section.title_en} | ${section.desc}</p>
                            </div>
                        </div>
                        
                        <div class="space-y-6">
                            ${section.verses.map(verse => createVerseCard(verse)).join('')}
                        </div>
                    </div>
                `;
            });

            container.innerHTML = filterHTML + sectionsHTML;
        }

        function createVerseCard(verse) {
            const academicTitle = verse.academic ? verse.academic.title : "Title Missing";
            const academicContentZh = verse.academic ? verse.academic.content_zh : "Content missing";
            const academicContentEn = verse.academic ? verse.academic.content_en : "Content missing";
            
            const devotionalTitle = verse.devotional ? verse.devotional.title : "Title Missing";
            const devotionalContentZh = verse.devotional ? verse.devotional.content_zh : "Content missing";
            const devotionalContentEn = verse.devotional ? verse.devotional.content_en : "Content missing";

            return `
                <div class="verse-card rounded-lg shadow-sm overflow-hidden mb-6 group">
                    <!-- Verse Text -->
                    <div class="bg-gradient-to-r from-red-50 to-white p-5 border-b border-red-100">
                        <span class="inline-block px-2 py-0.5 bg-red-100 text-red-800 text-xs font-bold rounded mb-2 font-mono border border-red-200">${verse.ref}</span>
                        <p class="text-slate-800 font-serif text-lg leading-relaxed group-hover:text-red-900 transition-colors mb-2">"${verse.text_zh}"</p>
                        <p class="text-slate-500 font-serif text-sm italic en-text border-l-2 border-red-200 pl-3">"${verse.text_en}"</p>
                    </div>

                    <!-- Dual Tracks -->
                    <div class="grid grid-cols-1 md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-slate-100">
                        <!-- Academic -->
                        <div class="p-6 academic-box ${appState.studyFilter === 'devotional' ? 'hidden' : ''}">
                            <div class="flex items-center mb-3 text-slate-500">
                                <i class="fas fa-university mr-2"></i>
                                <h4 class="text-xs font-bold uppercase tracking-widest">权威解经 Exegesis</h4>
                            </div>
                            <h5 class="font-bold text-slate-700 mb-2">${academicTitle}</h5>
                            <p class="text-sm text-slate-600 leading-relaxed text-justify mb-2">${academicContentZh}</p>
                            <p class="text-xs text-slate-400 font-serif italic en-text border-t border-slate-300 pt-2 mt-2">${academicContentEn}</p>
                        </div>

                        <!-- Devotional -->
                        <div class="p-6 devotional-box ${appState.studyFilter === 'academic' ? 'hidden' : ''}">
                            <div class="flex items-center mb-3 text-red-700">
                                <i class="fas fa-heart mr-2"></i>
                                <h4 class="text-xs font-bold uppercase tracking-widest">灵修应用 Devotional</h4>
                            </div>
                            <h5 class="font-bold text-red-800 mb-2">${devotionalTitle}</h5>
                            <p class="text-sm text-red-900/80 leading-relaxed text-justify mb-2">${devotionalContentZh}</p>
                            <p class="text-xs text-red-700/70 font-serif italic en-text border-t border-red-200 pt-2 mt-2">${devotionalContentEn}</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderMethodology() {
            const container = document.getElementById('app-content');
            container.innerHTML = `
                <div class="max-w-4xl mx-auto">
                    <div class="text-center mb-10">
                        <h2 class="text-3xl font-bold mb-2 serif text-slate-800">解经方法论总结</h2>
                        <p class="text-slate-500 en-text">Summary of Exegetical Methodology</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Exegesis Card -->
                        <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-slate-600 hover:shadow-xl transition hover:-translate-y-1">
                            <div class="text-slate-500 text-4xl mb-4"><i class="fas fa-book-reader"></i></div>
                            <h3 class="text-xl font-bold text-slate-700 mb-2">权威/学术性解经 (Exegesis)</h3>
                            <p class="text-xs text-slate-400 mb-6 uppercase tracking-wider">Legal & Metaphorical</p>
                            
                            <ul class="space-y-4 text-sm text-slate-600">
                                <li class="flex flex-col items-start">
                                    <div class="flex items-center font-bold text-red-600 mb-1"><i class="fas fa-check-circle mr-2"></i> 原则 Principles</div>
                                    <div class="mb-1">研究罗马法律（乱伦）与犹太节期（逾越节）的背景，分析司法性术语（交给撒但），厘清教会纪律的神学逻辑。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Studying Roman Law (incest) and Jewish Feasts (Passover), analyzing judicial terms ('deliver to Satan'), and clarifying the theology of discipline.</div>
                                </li>
                                <li class="flex flex-col items-start border-t border-slate-200 pt-3">
                                    <div class="flex items-center font-bold text-red-600 mb-1"><i class="fas fa-check-circle mr-2"></i> 本章应用 Application</div>
                                    <div class="mb-1">"自高自大"的词源分析；"无酵饼"的预表意义；"相交"的社交边界定义。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Etymology of 'arrogant'; Typology of 'unleavened bread'; Definition of social boundaries in 'association'.</div>
                                </li>
                            </ul>
                        </div>

                        <!-- Devotional Card -->
                        <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-amber-500 hover:shadow-xl transition hover:-translate-y-1">
                            <div class="text-amber-500 text-4xl mb-4"><i class="fas fa-pray"></i></div>
                            <h3 class="text-xl font-bold text-amber-800 mb-2">灵修/应用性解经 (Devotional)</h3>
                            <p class="text-xs text-amber-600/70 mb-6 uppercase tracking-wider">Holiness & Love</p>
                            
                            <ul class="space-y-4 text-sm text-slate-600">
                                <li class="flex flex-col items-start">
                                    <div class="flex items-center font-bold text-amber-600 mb-1"><i class="fas fa-check-circle mr-2"></i> 原则 Principles</div>
                                    <div class="mb-1">聚焦于成圣的身份（成为你所是的）与爱的管教（严厉的怜悯）。挑战现代教会对罪的冷漠。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Focusing on sanctified identity ('become what you are') and tough love ('severe mercy'). Challenging modern apathy towards sin.</div>
                                </li>
                                <li class="flex flex-col items-start border-t border-amber-100 pt-3">
                                    <div class="flex items-center font-bold text-amber-600 mb-1"><i class="fas fa-check-circle mr-2"></i> 本章应用 Application</div>
                                    <div class="mb-1">面对罪时的哀痛之心；在生活中除掉"小酵"；正确处理与犯罪弟兄的关系。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Mourning over sin; purging 'little leaven' in daily life; rightly relating to sinning brothers.</div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            `;
        }

        function updateFilter(filter) {
            appState.studyFilter = filter;
            renderStudy();
        }
    </script>
</body>
</html>