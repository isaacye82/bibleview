<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luke 23: The Crucifixion & Paradise | 路加福音第二十三章</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Noto+Sans+SC:wght@300;400;500;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap');

        :root {
            /* Thorn Black - Suffering, Sin, Darkness */
            --theme-primary: #171717; 
            /* Forgiveness White - Innocence, Light */
            --theme-accent: #f5f5f5;
            /* Paradise Green - Hope, Life */
            --theme-green: #15803d;
            /* Background */
            --theme-bg: #f3f4f6;
        }

        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: var(--theme-bg);
            color: #171717;
        }

        .en-text {
            font-family: 'Playfair Display', serif;
        }

        h1, h2, h3, .serif {
            font-family: 'Noto Serif SC', serif;
        }

        /* Navigation Styling */
        .nav-btn {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .active-tab {
            color: #b91c1c; /* Deep Red for Passion */
            font-weight: 700;
        }
        .active-tab::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: #b91c1c;
            border-radius: 2px;
        }

        /* Card Styling */
        .verse-card {
            background-color: white;
            border-left: 4px solid transparent;
            transition: all 0.3s ease;
            border: 1px solid #d1d5db; /* Grey 300 */
        }
        .verse-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
            border-left-color: #b91c1c;
        }

        .academic-box {
            background-color: #f8fafc; /* Slate 50 */
            border-left: 3px solid #64748b; /* Slate 500 */
            color: #334155;
        }
        
        .devotional-box {
            background-color: #fff1f2; /* Rose 50 */
            border-left: 3px solid #be123c; /* Rose 700 */
            color: #881337;
        }

        /* Three Crosses Animation */
        .calvary-scene {
            position: relative;
            height: 240px;
            background: linear-gradient(to bottom, #1f2937 0%, #4b5563 100%);
            border-radius: 12px;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            border: 4px solid #171717;
        }

        .cross {
            position: absolute;
            bottom: 0;
            width: 20px;
            background-color: #000;
            cursor: pointer;
            transition: all 0.5s ease;
        }
        .cross::before {
            content: '';
            position: absolute;
            top: 20px;
            left: -30px;
            width: 80px;
            height: 20px;
            background-color: #000;
            border-radius: 4px;
        }

        .cross-center {
            height: 180px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
        }
        .cross-left {
            height: 140px;
            left: 20%;
            transform: rotate(-5deg);
            opacity: 0.7;
        }
        .cross-right {
            height: 140px;
            right: 20%;
            transform: rotate(5deg);
            opacity: 0.7;
        }

        .cross:hover {
            opacity: 1;
            transform: scale(1.05);
        }

        .speech-bubble {
            position: absolute;
            background-color: white;
            padding: 10px;
            border-radius: 8px;
            font-size: 0.8rem;
            max-width: 150px;
            text-align: center;
            opacity: 0;
            transition: opacity 0.5s;
            pointer-events: none;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }
        
        .bubble-center { bottom: 190px; left: 50%; transform: translateX(-50%); }
        .bubble-left { bottom: 150px; left: 10%; }
        .bubble-right { bottom: 150px; right: 10%; }

        .active .speech-bubble { opacity: 1; }
        
        /* Veil Tearing */
        .veil-visual {
            width: 100%;
            height: 100px;
            background: repeating-linear-gradient(45deg, #581c87, #581c87 10px, #4c1d95 10px, #4c1d95 20px);
            position: relative;
            cursor: pointer;
            transition: transform 1s;
        }
        
        .veil-split {
            position: absolute;
            top: 0;
            left: 50%;
            width: 0;
            height: 100%;
            background-color: white;
            transition: width 1s ease-in-out;
            box-shadow: 0 0 20px white;
        }
        
        .torn .veil-split { width: 40px; transform: translateX(-50%); }

        /* Scrollbar */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Navigation -->
    <nav class="bg-white/95 backdrop-blur-md shadow-md sticky top-0 z-50 border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-24 sm:h-20 items-center">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-gray-900 serif flex flex-col leading-tight">
                        <span><i class="fas fa-cross mr-2 text-red-700"></i> 路加福音 23章</span>
                        <span class="text-xs text-gray-600 en-text font-normal ml-8">Luke Chapter 23</span>
                    </span>
                </div>
                <div class="flex space-x-4 sm:space-x-8 items-center overflow-x-auto no-scrollbar">
                    <button onclick="navigate('dashboard')" id="nav-dashboard" class="nav-btn active-tab px-2 py-2 text-sm text-center shrink-0">
                        受难与救赎 <br><span class="text-[10px] uppercase opacity-70 en-text">Passion & Redemption</span>
                    </button>
                    <button onclick="navigate('study')" id="nav-study" class="nav-btn px-2 py-2 text-sm text-slate-500 hover:text-red-700 text-center shrink-0">
                        逐节研读 <br><span class="text-[10px] uppercase opacity-70 en-text">Study</span>
                    </button>
                    <button onclick="navigate('methodology')" id="nav-methodology" class="nav-btn px-2 py-2 text-sm text-slate-500 hover:text-red-700 text-center shrink-0">
                        方法论总结 <br><span class="text-[10px] uppercase opacity-70 en-text">Methodology</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="app-content" class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">
        <!-- Injected via JS -->
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-400 mt-auto">
        <div class="max-w-7xl mx-auto py-8 px-4 text-center">
            <p class="text-lg font-serif italic text-gray-200 mb-1">"父啊，赦免他们！因为他们所做的，他们不晓得。"</p>
            <p class="text-sm italic text-slate-500 mb-2 en-text">"Father, forgive them, for they know not what they do."</p>
            <p class="text-xs opacity-70">路加福音第二十三章中英对照研经报告 | Crucifixion & Paradise</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- Data Store ---
        const chapterData = {
            intro: {
                title: "无罪者的受难与罪人的乐园",
                title_en: "Passion of the Innocent & Paradise for Sinners",
                summary_zh: "路加福音第23章是受难叙事的顶点。耶稣经历了彼拉多和希律的审判，三次被宣告'无罪'，却仍被钉十字架。路加独特的视角在于突出了耶稣在受难中的恩慈：为钉他的人祷告、安慰耶路撒冷的女子、应许强盗同在乐园。这是关于无辜者代替有罪者受死，以及在死亡时刻展现出的神圣宽恕。",
                summary_en: "Luke 23 is the climax of the Passion. Jesus undergoes trials by Pilate and Herod, is declared 'innocent' three times, yet crucified. Luke uniquely highlights Jesus' grace in suffering: praying for executioners, comforting Jerusalem's women, and promising Paradise to the thief. It is about the Innocent dying for the guilty, and divine forgiveness displayed in the hour of death.",
                concepts: [
                    { title: "无罪", title_en: "Innocent", greek: "Aitios Ouden", color: "text-slate-600", desc_zh: "彼拉多三次宣告'查不出什么罪'。强调耶稣是完美的代罪羔羊。", desc_en: "Pilate declares 'no guilt' three times. Emphasizes Jesus as the perfect Lamb." },
                    { title: "乐园", title_en: "Paradise", greek: "Paradeisos", color: "text-green-700", desc_zh: "波斯借词，意为'围墙花园'。指义人死后与神同在的蒙福状态。", desc_en: "Persian loanword for 'walled garden'. The blessed state of righteous dead with God." },
                    { title: "交托", title_en: "Commit", greek: "Paratithemai", color: "text-blue-800", desc_zh: "耶稣最后的遗言。主动将灵交给父，而非被动死亡。", desc_en: "Jesus' last word. Actively depositing His spirit to the Father, not passive death." }
                ]
            },
            sections: [
                {
                    id: "trial",
                    title: "壹 · 审判：无罪的判决 (23:1-25)",
                    title_en: "The Trial: Verdict of Innocence",
                    desc: "彼拉多与希律的推诿 | Pilate & Herod's Evasion",
                    verses: [
                        {
                            ref: "23:4, 14-15",
                            text_zh: "彼拉多对祭司长和众人说：'我查不出这人有什么罪来。'...希律也是这样...他没有做什么该死的事。",
                            text_en: "Then Pilate said to the chief priests and the crowds, 'I find no guilt in this man.'... neither did Herod... nothing deserving death has been done by him.",
                            academic: {
                                title: "政治无罪与神学定罪 (Political Innocence vs Theological Condemnation)",
                                content_zh: "路加特别强调罗马巡抚（彼拉多）和犹太王（希律）都宣告耶稣无罪。这在护教上极其重要：耶稣不是政治叛乱分子。然而，群众选择了巴拉巴（作乱杀人的）。这构成了'神圣的交换'（Divine Exchange）：无罪的耶稣代替有罪的巴拉巴（以及全人类）走向死亡。希律对待耶稣的态度是'寻开心'（Amusement），这也是一种对真理的拒绝。",
                                content_en: "Luke emphasizes that both Rome (Pilate) and Jewish royalty (Herod) found Jesus innocent. Apologetically vital: Jesus wasn't a political rebel. Yet, crowds chose Barabbas (murderer). This is the 'Divine Exchange': Innocent Jesus takes the place of guilty Barabbas (and humanity). Herod treated Jesus with 'amusement', another form of rejecting Truth."
                            },
                            devotional: {
                                title: "当世界选择巴拉巴 (When the World Chooses Barabbas)",
                                content_zh: "世界总是倾向于选择'巴拉巴'（暴力的、属世的力量），而弃绝耶稣（温柔的、受苦的真理）。当我们看到正义被扭曲、无辜者受害时，不要惊讶。因为连神的儿子都遭受了不公。但正是在这巨大的不公中，神完成了祂公义的救赎计划。你的委屈，主都懂。",
                                content_en: "The world prefers 'Barabbas' (violent/worldly power) over Jesus (gentle/suffering truth). Don't be surprised when justice is twisted. Even God's Son suffered injustice. Yet, through this gross injustice, God accomplished His righteous redemption. He understands your grievances."
                            }
                        }
                    ]
                },
                {
                    id: "way",
                    title: "贰 · 十架之路：耶路撒冷的女子 (23:26-31)",
                    title_en: "Way of the Cross: Daughters of Jerusalem",
                    desc: "不要为我哭 | Do Not Weep for Me",
                    verses: [
                        {
                            ref: "23:28, 31",
                            text_zh: "耶稣转身对她们说：'耶路撒冷的女子，不要为我哭，当为自己和自己的儿女哭。'...这些事既行在有汁水的树上，那枯干的树将来怎么样呢？",
                            text_en: "But turning to them Jesus said, 'Daughters of Jerusalem, do not weep for me, but weep for yourselves and for your children.'... For if they do these things when the wood is green, what will happen when it is dry?",
                            academic: {
                                title: "有汁水的树与枯干的树 (Green Wood vs Dry Wood)",
                                content_zh: "这是路加独有的记载。西门（古利奈人）背十字架是门徒职分的生动图画。耶稣的警告指向公元70年的审判。'有汁水的树'指无罪的耶稣，'枯干的树'指背道的耶路撒冷。逻辑是：如果罗马人连无罪的神子都如此残酷对待（火烧湿木头），那么当审判临到有罪的国民时（火烧干柴），结局将何等可怕！这预言了耶路撒冷即将面临的浩劫。",
                                content_en: "Luke alone records this. Simon of Cyrene pictures discipleship. The warning points to AD 70. 'Green wood' is innocent Jesus; 'Dry wood' is apostate Jerusalem. Logic: If Romans crush the Innocent Son (hard to burn green wood), how much more terrible will judgment be on the guilty nation (dry wood, easy fuel)! A prophecy of impending doom."
                            },
                            devotional: {
                                title: "错位的眼泪 (Misplaced Tears)",
                                content_zh: "妇女们为耶稣的受苦流泪，这是同情；但耶稣要她们为罪和即将到来的审判流泪，这是悔改。我们常为生活中的不幸（失业、生病）哭泣，却很少为我们的罪哭泣。耶稣不需要我们的同情，祂需要我们的悔改。真正的悲剧不是基督受死，而是人拒绝救恩而灭亡。",
                                content_en: "Women wept for Jesus' suffering (sympathy); Jesus asked them to weep for sin/judgment (repentance). We cry over misfortunes, rarely over sin. Jesus doesn't need our pity; He needs our repentance. The tragedy isn't Christ dying, but people perishing by rejecting salvation."
                            }
                        }
                    ]
                },
                {
                    id: "criminals",
                    title: "叁 · 两个强盗：救恩的临界点 (23:32-43)",
                    title_en: "Two Criminals: The Tipping Point of Salvation",
                    desc: "今日同在乐园 | Today in Paradise",
                    verses: [
                        {
                            ref: "23:42-43",
                            text_zh: "就说：'耶稣啊，你得国降临的时候，求你记念我！' 耶稣对他说：'我实在告诉你，今日你要同我在乐园里了。'",
                            text_en: "And he said, 'Jesus, remember me when you come into your kingdom.' And he said to him, 'Truly, I say to you, today you will be with me in paradise.'",
                            academic: {
                                title: "十字架上的王权 (Kingship on the Cross)",
                                content_zh: "这也是路加独有的。两个强盗代表了人类对基督的两种反应：讥诮（救你自己和我们吧！）与悔改（我们是应得的）。悔改的强盗展现了惊人的信心：他在耶稣最软弱、最羞辱的时刻，认出祂是王（得国降临）。耶稣的回答超越了请求：不仅是未来的'记念'，而是'今日'；不仅是'国度'，而是'乐园'（恢复的伊甸园）；不仅是'拯救'，更是'同在'（With Me）。",
                                content_en: "Luke exclusive. Two criminals represent humanity's split response: Mockery ('Save yourself!') vs Repentance ('We are receiving due reward'). The penitent thief showed amazing faith: seeing a King in Jesus' weakest moment. Jesus' answer exceeded the request: Not just future 'remembrance', but 'Today'; not just 'Kingdom', but 'Paradise' (Eden restored); not just salvation, but 'With Me'."
                            },
                            devotional: {
                                title: "最后一刻的恩典 (Grace at the Last Minute)",
                                content_zh: "这个强盗一生作恶，手脚被钉，无法行善功赎罪，但他只做了一件事：求告主名。这就够了！这证明救恩完全是恩典，与行为无关。无论你过去多糟糕，或者现在多无助（像被钉在十字架上一样动弹不得），只要你转眼仰望耶稣，乐园的大门就为你敞开。",
                                content_en: "This criminal, a lifelong sinner, nailed and unable to do good works, did one thing: called on Jesus. That was enough! It proves salvation is pure Grace, not works. No matter your past or helplessness, if you turn your eyes to Jesus, Paradise opens for you."
                            }
                        }
                    ]
                },
                {
                    id: "death",
                    title: "肆 · 耶稣的死：裂开的幔子 (23:44-49)",
                    title_en: "Death of Jesus: The Torn Curtain",
                    desc: "父啊，我将我的灵魂交在你手里 | Father, Into Your Hands",
                    verses: [
                        {
                            ref: "23:45-46",
                            text_zh: "日头变黑了；殿里的幔子从当中裂为两半。耶稣大声喊着说：'父啊！我将我的灵魂交在你手里！'...",
                            text_en: "while the sun's light failed. And the curtain of the temple was torn in two. Then Jesus, calling out with a loud voice, said, 'Father, into your hands I commit my spirit!'...",
                            academic: {
                                title: "神人阻隔的消除 (Removal of Barriers)",
                                content_zh: "幔子裂开象征着至圣所向全人类敞开，神与人之间的阻隔因基督的死被消除。与马太/马可记录的'我的神，为什么离弃我'（诗22:1）不同，路加记录的是诗篇31:5的信任祷告：'父啊...交在你手里'。这强调了耶稣即使在死亡中仍保持着与父的亲密关系。祂不是被夺去生命，而是主动'交出'生命。",
                                content_en: "The torn curtain symbolizes the Holy of Holies opening to all; the barrier is removed by Christ's death. Unlike Matt/Mark's cry of forsakenness (Ps 22:1), Luke records the trust of Ps 31:5: 'Father... into your hands'. This emphasizes intimate communion even in death. He didn't lose His life; He voluntarily 'deposited' it."
                            },
                            devotional: {
                                title: "交托的终极榜样 (Ultimate Example of Trust)",
                                content_zh: "面对死亡的黑暗，耶稣选择将自己'交在父手里'。这是基督徒面对人生终局的态度。我们不需要惧怕死亡，因为那不过是把灵魂从一个破碎的帐棚搬到父温暖的手中。百夫长因看见这断气的方式而归荣耀给神。我们面对困境和死亡的态度，也是最有力的见证。",
                                content_en: "Facing death's dark, Jesus 'committed' Himself to the Father. This is our posture in the end. We needn't fear death; it's moving from a broken tent into the Father's hands. The Centurion glorified God seeing HOW He died. Our attitude in suffering/death is a powerful witness."
                            }
                        }
                    ]
                }
            ]
        };

        // --- State ---
        let appState = {
            view: 'dashboard',
            studyFilter: 'all',
            veilTorn: false
        };

        // --- Init ---
        document.addEventListener('DOMContentLoaded', () => {
            renderDashboard();
        });

        // --- Navigation ---
        function navigate(view) {
            appState.view = view;
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active-tab');
                btn.classList.add('text-slate-500');
            });
            document.getElementById(`nav-${view}`).classList.add('active-tab');
            document.getElementById(`nav-${view}`).classList.remove('text-slate-500');

            if (view === 'dashboard') renderDashboard();
            if (view === 'study') renderStudy();
            if (view === 'methodology') renderMethodology();
            window.scrollTo(0,0);
        }

        // --- Interactive Functions ---
        function toggleCross(id) {
            const bubbles = {
                left: { text: "你不是基督吗？救你自己和我们吧！(Mockery)", class: "bubble-left" },
                center: { text: "父啊，赦免他们！(Forgiveness)", class: "bubble-center" },
                right: { text: "耶稣啊，求你记念我！(Repentance)", class: "bubble-right" }
            };

            // Reset all bubbles
            document.querySelectorAll('.speech-bubble').forEach(b => b.remove());
            document.getElementById('calvary-vis').classList.add('active');

            const bubble = document.createElement('div');
            bubble.className = `speech-bubble ${bubbles[id].class}`;
            bubble.innerText = bubbles[id].text;
            
            document.getElementById('calvary-vis').appendChild(bubble);

            // Auto remove after 3s
            setTimeout(() => {
                if(bubble.parentNode) bubble.parentNode.removeChild(bubble);
            }, 3000);
        }

        function tearVeil() {
            const veil = document.getElementById('veil-obj');
            const status = document.getElementById('veil-status');
            
            if (appState.veilTorn) {
                veil.classList.remove('torn');
                appState.veilTorn = false;
                status.innerText = "神人隔绝 (Separation)";
            } else {
                veil.classList.add('torn');
                appState.veilTorn = true;
                status.innerHTML = "<span class='text-purple-700 font-bold'>道路已开！(Access Open!)</span>";
            }
        }

        // --- Renders ---
        function renderDashboard() {
            const container = document.getElementById('app-content');
            container.innerHTML = `
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 mb-8 animate-fade-in">
                    <!-- Intro -->
                    <div class="lg:col-span-8 bg-white p-8 rounded-xl shadow-lg border-t-4 border-red-800">
                        <div class="flex items-center mb-4">
                            <span class="bg-red-100 text-red-800 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide mr-3">The Cross</span>
                            <h2 class="text-3xl font-bold serif text-red-900">${chapterData.intro.title}</h2>
                        </div>
                        <h3 class="text-lg text-slate-400 font-serif italic mb-4 en-text">${chapterData.intro.title_en}</h3>
                        <p class="text-slate-600 leading-relaxed mb-4 text-lg border-l-4 border-red-200 pl-4">${chapterData.intro.summary_zh}</p>
                        <p class="text-slate-500 leading-relaxed text-sm italic en-text border-l-4 border-slate-200 pl-4">${chapterData.intro.summary_en}</p>
                        
                        <!-- Concept Cards -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-8">
                            ${chapterData.intro.concepts.map(c => `
                                <div class="bg-slate-50 p-4 rounded-lg border border-slate-200 flex flex-col items-center text-center transition hover:bg-red-50 group">
                                    <h4 class="font-bold ${c.color} text-lg mb-1 group-hover:scale-105 transition">${c.title}</h4>
                                    <p class="text-xs text-slate-400 font-serif mb-1 en-text">${c.title_en}</p>
                                    <p class="text-xs text-slate-500 font-mono mb-2">${c.greek}</p>
                                    <p class="text-xs text-slate-600 mb-1">${c.desc_zh}</p>
                                    <p class="text-[10px] text-slate-400 italic en-text">${c.desc_en}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <!-- Visual Sidebar: Three Crosses -->
                    <div class="lg:col-span-4 bg-slate-900 p-6 rounded-xl shadow-lg flex flex-col border border-slate-700 relative overflow-hidden">
                         <h3 class="text-xl font-bold mb-1 text-center text-gray-200">三个十字架</h3>
                         <p class="text-xs text-slate-400 mb-4 text-center en-text uppercase tracking-widest">Interactive Calvary</p>
                         
                         <div id="calvary-vis" class="calvary-scene mb-4">
                            <div class="cross cross-left" onclick="toggleCross('left')"></div>
                            <div class="cross cross-center" onclick="toggleCross('center')"></div>
                            <div class="cross cross-right" onclick="toggleCross('right')"></div>
                         </div>
                         
                         <p class="text-center text-xs text-slate-500 mb-2 italic">点击十字架聆听对话 (Click Crosses)</p>
                    </div>
                </div>

                <!-- Feature: The Torn Veil -->
                <div class="bg-white p-6 rounded-xl shadow-lg mb-8 border border-purple-100">
                    <div class="flex flex-col md:flex-row justify-between items-center mb-6">
                        <h3 class="text-lg font-bold text-slate-700">
                            <i class="fas fa-dungeon text-purple-600 mr-2"></i> 圣殿的幔子
                            <span class="text-sm font-normal text-slate-400 ml-2 en-text">The Temple Veil</span>
                        </h3>
                        <span class="text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded">Luke 23:45</span>
                    </div>
                    
                    <div class="flex flex-col items-center">
                        <div id="veil-obj" class="veil-visual mb-4" onclick="tearVeil()">
                            <div class="veil-split"></div>
                        </div>
                        
                        <p id="veil-status" class="text-center text-sm font-bold text-slate-600 mb-2">神人隔绝 (Separation)</p>
                        
                        <button onclick="tearVeil()" class="w-full py-2 bg-purple-700 hover:bg-purple-800 text-white rounded font-bold transition shadow-md">
                            <i class="fas fa-bolt mr-2"></i> 幔子裂开 (Tear Veil)
                        </button>
                    </div>
                </div>
            `;
        }

        function renderStudy() {
            const container = document.getElementById('app-content');
            
            // Filter Controls
            const filterHTML = `
                <div class="sticky top-20 z-40 bg-[#f3f4f6]/95 backdrop-blur py-4 mb-6 border-b border-gray-200">
                    <div class="flex justify-between items-center max-w-5xl mx-auto">
                        <h2 class="text-2xl font-bold text-red-900 serif">逐节研读室 <span class="text-base font-normal text-slate-400 en-text ml-2">Verse by Verse Study</span></h2>
                        <div class="flex bg-white rounded-lg shadow-sm p-1 border border-red-200">
                            <button onclick="updateFilter('all')" class="px-4 py-1.5 rounded text-sm transition ${appState.studyFilter === 'all' ? 'bg-red-800 text-white font-bold' : 'text-slate-500 hover:bg-slate-100'}">全部 All</button>
                            <button onclick="updateFilter('academic')" class="px-4 py-1.5 rounded text-sm transition ${appState.studyFilter === 'academic' ? 'bg-slate-600 text-white font-bold' : 'text-slate-500 hover:bg-slate-100'}">经文含义 Exegesis</button>
                            <button onclick="updateFilter('devotional')" class="px-4 py-1.5 rounded text-sm transition ${appState.studyFilter === 'devotional' ? 'bg-rose-600 text-white font-bold' : 'text-slate-500 hover:bg-slate-100'}">灵修应用 Devotional</button>
                        </div>
                    </div>
                </div>
            `;

            let sectionsHTML = '';
            chapterData.sections.forEach(section => {
                sectionsHTML += `
                    <div class="max-w-5xl mx-auto mb-16">
                        <div class="flex items-center mb-6 pl-2 border-l-4 border-red-800">
                            <div class="pl-4">
                                <h3 class="text-2xl font-bold text-slate-800">${section.title}</h3>
                                <p class="text-sm text-red-800 font-serif italic mt-1 en-text">${section.title_en} | ${section.desc}</p>
                            </div>
                        </div>
                        
                        <div class="space-y-6">
                            ${section.verses.map(verse => createVerseCard(verse)).join('')}
                        </div>
                    </div>
                `;
            });

            container.innerHTML = filterHTML + sectionsHTML;
        }

        function createVerseCard(verse) {
            // Safety checks
            const academicTitle = verse.academic ? verse.academic.title : "Title Missing";
            const academicContentZh = verse.academic ? verse.academic.content_zh : "Content missing";
            const academicContentEn = verse.academic ? verse.academic.content_en : "Content missing";
            
            const devotionalTitle = verse.devotional ? verse.devotional.title : "Title Missing";
            const devotionalContentZh = verse.devotional ? verse.devotional.content_zh : "Content missing";
            const devotionalContentEn = verse.devotional ? verse.devotional.content_en : "Content missing";

            return `
                <div class="verse-card rounded-lg shadow-sm overflow-hidden mb-6 group">
                    <!-- Verse Text -->
                    <div class="bg-gradient-to-r from-gray-50 to-white p-5 border-b border-gray-200">
                        <span class="inline-block px-2 py-0.5 bg-red-100 text-red-800 text-xs font-bold rounded mb-2 font-mono border border-red-200">${verse.ref}</span>
                        <p class="text-slate-800 font-serif text-lg leading-relaxed group-hover:text-red-900 transition-colors mb-2">"${verse.text_zh}"</p>
                        <p class="text-slate-500 font-serif text-sm italic en-text border-l-2 border-red-200 pl-3">"${verse.text_en}"</p>
                    </div>

                    <!-- Dual Tracks -->
                    <div class="grid grid-cols-1 md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-gray-100">
                        <!-- Academic -->
                        <div class="p-6 academic-box ${appState.studyFilter === 'devotional' ? 'hidden' : ''}">
                            <div class="flex items-center mb-3 text-slate-500">
                                <i class="fas fa-university mr-2"></i>
                                <h4 class="text-xs font-bold uppercase tracking-widest">经文含义 Exegesis</h4>
                            </div>
                            <h5 class="font-bold text-slate-700 mb-2">${academicTitle}</h5>
                            <p class="text-sm text-slate-600 leading-relaxed text-justify mb-2">${academicContentZh}</p>
                            <p class="text-xs text-slate-400 font-serif italic en-text border-t border-slate-300 pt-2 mt-2">${academicContentEn}</p>
                        </div>

                        <!-- Devotional -->
                        <div class="p-6 devotional-box ${appState.studyFilter === 'academic' ? 'hidden' : ''}">
                            <div class="flex items-center mb-3 text-rose-700">
                                <i class="fas fa-heart mr-2"></i>
                                <h4 class="text-xs font-bold uppercase tracking-widest">灵修应用 Devotional</h4>
                            </div>
                            <h5 class="font-bold text-rose-800 mb-2">${devotionalTitle}</h5>
                            <p class="text-sm text-rose-900/80 leading-relaxed text-justify mb-2">${devotionalContentZh}</p>
                            <p class="text-xs text-rose-700/70 font-serif italic en-text border-t border-rose-200 pt-2 mt-2">${devotionalContentEn}</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderMethodology() {
            const container = document.getElementById('app-content');
            container.innerHTML = `
                <div class="max-w-4xl mx-auto">
                    <div class="text-center mb-10">
                        <h2 class="text-3xl font-bold mb-2 serif text-slate-800">解经方法论总结</h2>
                        <p class="text-slate-500 en-text">Summary of Exegetical Methodology</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Exegesis Card -->
                        <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-slate-600 hover:shadow-xl transition hover:-translate-y-1">
                            <div class="text-slate-500 text-4xl mb-4"><i class="fas fa-book-reader"></i></div>
                            <h3 class="text-xl font-bold text-slate-700 mb-2">权威/经文性解经 (Exegesis)</h3>
                            <p class="text-xs text-slate-400 mb-6 uppercase tracking-wider">Historical & Theological</p>
                            
                            <ul class="space-y-4 text-sm text-slate-600">
                                <li class="flex flex-col items-start">
                                    <div class="flex items-center font-bold text-red-800 mb-1"><i class="fas fa-check-circle mr-2"></i> 原则 Principles</div>
                                    <div class="mb-1">历史背景分析（彼拉多与希律的关系）。神学主题关联（代赎、乐园）。预言应验（AD70耶路撒冷）。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Historical context (Pilate/Herod). Theological themes (Substitution, Paradise). Prophetic fulfillment (AD 70).</div>
                                </li>
                                <li class="flex flex-col items-start border-t border-slate-200 pt-3">
                                    <div class="flex items-center font-bold text-red-800 mb-1"><i class="fas fa-check-circle mr-2"></i> 如何运用 How to Apply</div>
                                    <div class="mb-1">理解无罪受难的护教意义。分辨政治无罪与神学救赎的区别。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Apologetic value of innocent suffering. Distinguish political innocence vs theological redemption.</div>
                                </li>
                            </ul>
                        </div>

                        <!-- Devotional Card -->
                        <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-amber-500 hover:shadow-xl transition hover:-translate-y-1">
                            <div class="text-amber-500 text-4xl mb-4"><i class="fas fa-pray"></i></div>
                            <h3 class="text-xl font-bold text-amber-800 mb-2">灵修/应用性解经 (Devotional)</h3>
                            <p class="text-xs text-amber-600/70 mb-6 uppercase tracking-wider">Grace & Trust</p>
                            
                            <ul class="space-y-4 text-sm text-slate-600">
                                <li class="flex flex-col items-start">
                                    <div class="flex items-center font-bold text-amber-600 mb-1"><i class="fas fa-check-circle mr-2"></i> 原则 Principles</div>
                                    <div class="mb-1">代入式读经（我是巴拉巴）。在死亡面前学习交托。在最后一刻抓住恩典。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Identification (I am Barabbas). Learning trust in death. Grasping grace at the last minute.</div>
                                </li>
                                <li class="flex flex-col items-start border-t border-amber-100 pt-3">
                                    <div class="flex items-center font-bold text-amber-600 mb-1"><i class="fas fa-check-circle mr-2"></i> 如何运用 How to Apply</div>
                                    <div class="mb-1">不要为自己的苦难自怜，要为罪悔改。确信与主同在的应许。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Repentance over self-pity. Assurance of 'With Me'.</div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            `;
        }

        function updateFilter(filter) {
            appState.studyFilter = filter;
            renderStudy();
        }
    </script>
</body>
</html>