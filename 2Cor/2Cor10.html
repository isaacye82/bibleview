<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2 Corinthians 10: Spiritual Warfare | 哥林多后书第十章</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Noto+Sans+SC:wght@300;400;500;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap');

        :root {
            /* Power Blue - Divine Capability */
            --theme-primary: #1e40af; 
            /* Warfare Red - Zeal & Battle */
            --theme-accent: #b91c1c;
            /* Stronghold Slate - Resistance */
            --theme-dark: #334155;
            /* Background */
            --theme-bg: #f8fafc;
        }

        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: var(--theme-bg);
            color: #1e293b;
        }

        .en-text {
            font-family: 'Playfair Display', serif;
        }

        h1, h2, h3, .serif {
            font-family: 'Noto Serif SC', serif;
        }

        /* Navigation Styling */
        .nav-btn {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .active-tab {
            color: var(--theme-primary);
            font-weight: 700;
        }
        .active-tab::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--theme-primary);
            border-radius: 2px;
        }

        /* Card Styling */
        .verse-card {
            background-color: white;
            border-left: 4px solid transparent;
            transition: all 0.3s ease;
            border: 1px solid #bfdbfe;
        }
        .verse-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px -5px rgba(30, 64, 175, 0.15);
            border-left-color: var(--theme-primary);
        }

        .exegesis-box {
            background-color: #eff6ff; /* Blue 50 */
            border-left: 3px solid #1e40af; /* Blue 800 */
            color: #1e3a8a;
        }
        
        .devotional-box {
            background-color: #fef2f2; /* Red 50 */
            border-left: 3px solid #b91c1c; /* Red 700 */
            color: #7f1d1d;
        }

        /* Animation */
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Stronghold Break Animation */
        .wall-brick {
            transition: all 0.5s ease;
        }
        .break-animation:hover .wall-brick {
            transform: translate(var(--mx), var(--my)) rotate(var(--rot));
            opacity: 0;
        }
        
        /* Pulse for weapons */
        .weapon-pulse {
            animation: pulse-glow 2s infinite;
        }
        @keyframes pulse-glow {
            0% { box-shadow: 0 0 0 0 rgba(30, 64, 175, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(30, 64, 175, 0); }
            100% { box-shadow: 0 0 0 0 rgba(30, 64, 175, 0); }
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Navigation -->
    <nav class="bg-white/95 backdrop-blur-md shadow-sm sticky top-0 z-50 border-b border-blue-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-slate-800 serif flex flex-col leading-tight">
                        <span><i class="fas fa-shield-alt mr-2 text-blue-700"></i> 哥林多后书 10章</span>
                        <span class="text-xs text-blue-900 en-text font-normal ml-8">2 Corinthians Chapter 10</span>
                    </span>
                </div>
                <div class="flex space-x-8 items-center">
                    <button onclick="navigate('dashboard')" id="nav-dashboard" class="nav-btn active-tab px-2 py-2 text-sm text-center">
                        全景概览 <br><span class="text-[10px] uppercase opacity-70 en-text">Overview</span>
                    </button>
                    <button onclick="navigate('study')" id="nav-study" class="nav-btn px-2 py-2 text-sm text-slate-500 hover:text-blue-700 text-center">
                        逐节研读 <br><span class="text-[10px] uppercase opacity-70 en-text">Study</span>
                    </button>
                    <button onclick="navigate('methodology')" id="nav-methodology" class="nav-btn px-2 py-2 text-sm text-slate-500 hover:text-blue-700 text-center">
                        方法论 <br><span class="text-[10px] uppercase opacity-70 en-text">Methodology</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="app-content" class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">
        <!-- Injected via JS -->
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-400 mt-auto border-t-4 border-blue-700">
        <div class="max-w-7xl mx-auto py-8 px-4 text-center">
            <p class="text-lg font-serif italic text-blue-200 mb-1">"将人所有的心意夺回，使他都顺服基督"</p>
            <p class="text-sm italic text-slate-500 mb-2 en-text">"Take every thought captive to obey Christ."</p>
            <p class="text-xs opacity-70">哥林多后书第十章中英对照研经报告 | Spiritual Warfare</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- Data Store ---
        const chapterData = {
            intro: {
                title: "属灵争战与真实的权柄",
                title_en: "Spiritual Warfare and True Authority",
                summary_zh: "从第10章开始，保罗的语气发生急剧转变，变得直接、严厉且充满战斗性。这是针对那些质疑他权柄的“超级使徒”的回应。保罗阐明了基督徒争战的本质：不是用血气，而是用神的大能攻破思想的营垒。他重新定义了真正的属灵权柄——不是为了辖管或自我炫耀，而是为了造就信徒，且必须在神所量给的界限内运作。",
                summary_en: "Starting Chapter 10, Paul's tone shifts dramatically to direct, severe, and militant. This is a response to 'super-apostles' questioning his authority. Paul defines the nature of Christian warfare: not with fleshly weapons, but divine power to destroy mental strongholds. He redefines true spiritual authority—not for domination or boasting, but for edification, operating within God-given boundaries.",
                concepts: [
                    { title: "兵器", title_en: "Weapons", greek: "Hopla", color: "text-blue-700", desc_zh: "战争的器具。在此指属灵的工具（真理、公义、信心等）。", desc_en: "Tools of war. Here refers to spiritual instruments (truth, righteousness, faith)." },
                    { title: "营垒", title_en: "Strongholds", greek: "Ochyrōmata", color: "text-slate-600", desc_zh: "原指军事要塞。喻指抵挡神真理的骄傲思想体系。", desc_en: "Military fortresses. Metaphor for proud thought systems resisting God's truth." },
                    { title: "界限", title_en: "Sphere/Rule", greek: "Kanōn", color: "text-red-700", desc_zh: "准则、尺度或界限。指神分配给每个人事奉的范围。", desc_en: "Rule, standard, or limit. The assigned area of ministry by God." }
                ]
            },
            sections: [
                {
                    id: "warfare",
                    title: "壹 · 属灵的兵器与思想的战场 (10:1-6)",
                    title_en: "Spiritual Weapons and the Battlefield of the Mind",
                    desc: "攻破坚固的营垒 | Destroying Strongholds",
                    verses: [
                        {
                            ref: "10:3-4",
                            text_zh: "因为我们虽然在血气中行事，却不凭着血气争战。我们争战的兵器本不是属血气的，乃是在神面前有能力，可以攻破坚固的营垒...",
                            text_en: "For though we walk in the flesh, we are not waging war according to the flesh. For the weapons of our warfare are not of the flesh but have divine power to destroy strongholds...",
                            exegesis: {
                                title: "神圣的能力 (Dunata tō Theō)",
                                content_zh: "“属血气”（*sarkika*）指依靠人的手腕、辩论技巧或政治手段。保罗否定了这些。相反，他的兵器（如祷告、神的话）在神面前是“有能力的”（*dunata*）。“营垒”（*ochyrōmata*）在古代指难以攻克的石堡，保罗用此比喻那些根深蒂固的、阻碍人认识神的错误思维模式和骄傲。",
                                content_en: "'Fleshly' (*sarkika*) implies human manipulation, rhetoric, or politics. Paul rejects these. Instead, his weapons (prayer, Word) are 'powerful' (*dunata*) to God. 'Strongholds' (*ochyrōmata*) were stone fortresses; Paul uses this metaphor for entrenched, proud thought patterns that block the knowledge of God."
                            },
                            devotional: {
                                title: "你的战场在哪里？(Where is Your Battlefield?)",
                                content_zh: "真正的属灵争战往往不发生在外面的环境，而在你的大脑里。焦虑、恐惧、成瘾、无神论的偏见，这些就是你生命中的“耶利哥城”。不要试图用“积极思考”或人的意志力去攻打它。你需要属灵的炸药——神的话语和圣灵的大能。把每一个消极的想法都当作战俘抓起来，交给基督。",
                                content_en: "The real spiritual war isn't usually in external circumstances, but in your mind. Anxiety, fear, addiction, atheistic bias—these are the 'Jerichos' in your life. Don't fight them with mere willpower or positive thinking. You need spiritual dynamite—God's Word and Spirit. Arrest every negative thought as a prisoner of war and hand it to Christ."
                            }
                        },
                        {
                            ref: "10:5",
                            text_zh: "将各样的计谋，各样拦阻人认识神的那些自高之事，一概攻破了，又将人所有的心意夺回，使他都顺服基督。",
                            text_en: "We destroy arguments and every lofty opinion raised against the knowledge of God, and take every thought captive to obey Christ.",
                            exegesis: {
                                title: "思想的俘虏 (Captive Thoughts)",
                                content_zh: "“计谋”（*logismous*）指推理或辩论；“自高之事”（*hypsōma*）指像高墙一样阻挡视野的障碍物。这是一幅攻城略地的画面：城墙倒塌，敌军的思想被俘虏（*aichmalōtizontes*），并被带到顺服基督的地步。经文含义：护教学和讲道不仅是传递信息，更是拆毁人心中的偶像，使其降服于基督的主权。",
                                content_en: "'Arguments' (*logismous*) refer to reasonings; 'lofty opinion' (*hypsōma*) is a high barrier blocking the view. This is siege warfare imagery: walls crumble, enemy thoughts are taken prisoner (*aichmalōtizontes*) to obey Christ. Meaning: Apologetics and preaching are not just informing, but demolishing idols to submit to Christ's lordship."
                            }
                        }
                    ]
                },
                {
                    id: "authority",
                    title: "贰 · 外貌与实质：权柄的真伪 (10:7-11)",
                    title_en: "Appearance vs. Reality: Authenticity of Authority",
                    desc: "气貌不扬但信件沉重 | Weak Presence, Weighty Letters",
                    verses: [
                        {
                            ref: "10:10",
                            text_zh: "因为有人说：他的信又沉重又利害，及至见面，却是气貌不扬，言语粗俗的。",
                            text_en: "For they say, 'His letters are weighty and strong, but his bodily presence is weak, and his speech of no account.'",
                            exegesis: {
                                title: "反讽的指控 (The Charge of Weakness)",
                                content_zh: "对手攻击保罗缺乏希腊演说家那种令人印象深刻的风度（气貌不扬）和修辞技巧（言语粗俗/ignorable）。保罗并不否认他在肉体上的软弱，但他反驳说，真正的权柄不在于表演（Performance），而在于言行一致（Consistency）。他在信中如何，见面也要如何。这重新定义了领袖素质：实质重于形式。",
                                content_en: "Critics attacked Paul's lack of impressive Greek oratorical presence ('weak') and rhetorical flair ('of no account'). Paul doesn't deny physical weakness but argues true authority isn't Performance, but Consistency. What he is in letters, he is in person. This redefines leadership: Substance over Form."
                            },
                            devotional: {
                                title: "不要以貌取人 (Don't Judge by Appearance)",
                                content_zh: "我们常被那些声音洪亮、外表光鲜、充满魅力的“属灵领袖”吸引。但保罗提醒我们，属灵权柄的包装可能非常不起眼。如果你的牧师或领袖看起来很普通，说话也不华丽，但他的话语能拆毁你心中的罪、建立你的信心，那他就是拥有真权柄的人。要学会听声音的重量，而不是看皮囊的漂亮。",
                                content_en: "We are often drawn to charismatic, polished leaders. Paul reminds us that spiritual authority often comes in plain packaging. If your leader looks average and speaks simply, yet their words demolish sin and build faith, they have true authority. Learn to listen for the weight of the message, not the beauty of the messenger."
                            }
                        }
                    ]
                },
                {
                    id: "boasting",
                    title: "叁 · 夸口的界限与神的推荐 (10:12-18)",
                    title_en: "Limits of Boasting and God's Commendation",
                    desc: "不越过基督量给的界限 | Sphere of Influence",
                    verses: [
                        {
                            ref: "10:13-16",
                            text_zh: "我们不愿意分外夸口，只要照神所量给我们的界限...并不是过了界限，好像我们没有到你们那里去...我们不仗着别人所劳碌的...",
                            text_en: "But we will not boast beyond limits, but will boast only with regard to the area of influence God assigned to us... For we are not overextending ourselves... We do not boast beyond limits in the labors of others.",
                            exegesis: {
                                title: "界限的原则 (Metron tou Kanonos)",
                                content_zh: "“界限”（*kanōn*）原意指芦苇杆做的量尺。保罗强调事奉是有“神定疆界”的。对手（假使徒）闯入了保罗开垦的领地（哥林多），并将保罗的成果据为己有。保罗强调他只在神量给他的范围内夸口——即他是哥林多教会的建立者。真正的使徒尊重属灵的版图，不在此基础上“越界”抢夺功劳。",
                                content_en: "'Area of influence' (*kanōn*) means a measuring rod. Paul insists ministry has divinely appointed boundaries. The rivals invaded Paul's territory (Corinth) and claimed his fruit. Paul boasts only within his God-given sphere—as the founder. True apostles respect spiritual geography and don't 'overextend' to steal credit."
                            },
                            devotional: {
                                title: "守住你的份 (Stay in Your Lane)",
                                content_zh: "神给每个人都量了地界。不要嫉妒别人的事工，也不要试图模仿别人的呼召。如果你是只手，就不要试图做眼睛。越界往往带来混乱和骄傲。在神量给你的那一小块田地里忠心耕种，那是你唯一的、也是最荣耀的战场。比起“做大做强”，神更看重“守住界限”。",
                                content_en: "God assigns a lane to everyone. Don't envy others' ministry or mimic their calling. If you are a hand, don't try to be an eye. Overstepping brings chaos and pride. Faithfully plow the small field God measured for you; that is your only and most glorious battlefield. God values 'staying in bounds' more than 'getting big'."
                            }
                        },
                        {
                            ref: "10:17-18",
                            text_zh: "但夸口的，当指着主夸口。因为蒙悦纳的，不是自己称许的，乃是主所称许的。",
                            text_en: "'Let the one who boasts, boast in the Lord.' For it is not the one who commends himself who is approved, but the one whom the Lord commends.",
                            exegesis: {
                                title: "最终的推荐信 (Final Commendation)",
                                content_zh: "这一章以对耶利米书9:24的引用结束。所有的辩护最终都要回归到一点：人的自我营销（Self-promotion）毫无价值。唯有主的称许（*dokimos*，经过试验被认可）才算数。这直接打击了假使徒的自我吹捧文化。",
                                content_en: "Closing with Jeremiah 9:24. All defense returns to this: Human self-promotion is worthless. Only the Lord's commendation (*dokimos* - tested and approved) counts. This strikes directly at the false apostles' culture of self-praise."
                            }
                        }
                    ]
                }
            ]
        };

        // --- State ---
        let appState = {
            view: 'dashboard',
            studyFilter: 'all'
        };

        // --- Init ---
        document.addEventListener('DOMContentLoaded', () => {
            renderDashboard();
        });

        // --- Navigation ---
        function navigate(view) {
            appState.view = view;
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active-tab');
                btn.classList.add('text-slate-500');
            });
            document.getElementById(`nav-${view}`).classList.add('active-tab');
            document.getElementById(`nav-${view}`).classList.remove('text-slate-500');

            if (view === 'dashboard') renderDashboard();
            if (view === 'study') renderStudy();
            if (view === 'methodology') renderMethodology();
            window.scrollTo(0,0);
        }

        // --- Renders ---
        function renderDashboard() {
            const container = document.getElementById('app-content');
            container.innerHTML = `
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 mb-8 fade-in">
                    <!-- Intro -->
                    <div class="lg:col-span-8 bg-white p-8 rounded-xl shadow-lg border-t-4 border-blue-700">
                        <div class="flex items-center mb-4">
                            <span class="bg-blue-100 text-blue-800 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide mr-3">Theme</span>
                            <h2 class="text-3xl font-bold serif text-slate-900">${chapterData.intro.title}</h2>
                        </div>
                        <h3 class="text-lg text-slate-500 font-serif italic mb-4 en-text">${chapterData.intro.title_en}</h3>
                        <p class="text-slate-700 leading-relaxed mb-4 text-lg border-l-4 border-blue-200 pl-4">${chapterData.intro.summary_zh}</p>
                        <p class="text-slate-500 leading-relaxed text-sm italic en-text border-l-4 border-slate-200 pl-4">${chapterData.intro.summary_en}</p>
                        
                        <!-- Concept Cards -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-8">
                            ${chapterData.intro.concepts.map(c => `
                                <div class="bg-slate-50 p-4 rounded-lg border border-slate-200 flex flex-col items-center text-center transition hover:bg-blue-50 group">
                                    <h4 class="font-bold ${c.color} text-lg mb-1 group-hover:scale-105 transition">${c.title}</h4>
                                    <p class="text-xs text-slate-400 font-serif mb-1 en-text">${c.title_en}</p>
                                    <p class="text-xs text-slate-500 font-mono mb-2">${c.greek}</p>
                                    <p class="text-xs text-slate-600 mb-1">${c.desc_zh}</p>
                                    <p class="text-[10px] text-slate-400 italic en-text">${c.desc_en}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <!-- Visual Sidebar: Breaking Strongholds -->
                    <div class="lg:col-span-4 bg-gradient-to-br from-slate-800 to-slate-900 text-white p-8 rounded-xl shadow-lg flex flex-col justify-center items-center relative overflow-hidden break-animation cursor-pointer">
                         <div class="absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/brick-wall.png')]"></div>
                         
                         <h3 class="text-xl font-bold mb-1 z-10 text-center text-blue-300">攻破营垒</h3>
                         <p class="text-xs text-slate-400 mb-6 z-10 en-text uppercase tracking-widest border-b border-blue-500 pb-2">Breaking Strongholds (10:4)</p>
                         
                         <div class="relative w-full h-48 z-10 flex items-center justify-center">
                            <!-- The Stronghold Wall -->
                            <div class="grid grid-cols-3 gap-1 w-32 h-32 relative">
                                <div class="bg-slate-600 rounded wall-brick" style="--mx: -20px; --my: -20px; --rot: -15deg"></div>
                                <div class="bg-slate-500 rounded wall-brick" style="--mx: 0px; --my: -30px; --rot: 10deg"></div>
                                <div class="bg-slate-600 rounded wall-brick" style="--mx: 20px; --my: -20px; --rot: 15deg"></div>
                                <div class="bg-slate-500 rounded wall-brick" style="--mx: -30px; --my: 0px; --rot: -20deg"></div>
                                <div class="bg-slate-400 rounded wall-brick flex items-center justify-center text-xs font-bold text-slate-800" style="--mx: 0px; --my: 0px; --rot: 0deg">PRIDE</div>
                                <div class="bg-slate-500 rounded wall-brick" style="--mx: 30px; --my: 0px; --rot: 20deg"></div>
                                <div class="bg-slate-600 rounded wall-brick" style="--mx: -20px; --my: 20px; --rot: -10deg"></div>
                                <div class="bg-slate-500 rounded wall-brick" style="--mx: 0px; --my: 30px; --rot: 5deg"></div>
                                <div class="bg-slate-600 rounded wall-brick" style="--mx: 20px; --my: 20px; --rot: 10deg"></div>
                            </div>
                            
                            <!-- Divine Power Impact -->
                            <div class="absolute inset-0 flex items-center justify-center pointer-events-none weapon-pulse rounded-full">
                                <i class="fas fa-bible text-5xl text-blue-400 drop-shadow-[0_0_10px_rgba(96,165,250,0.8)]"></i>
                            </div>
                         </div>
                         <div class="text-xs text-slate-400 mt-2 italic text-center">Hover to demolish arguments</div>
                    </div>
                </div>

                <!-- Concept Section: The Sphere of Influence -->
                <div class="bg-white p-6 rounded-xl shadow-lg mb-8 border border-blue-100 fade-in">
                    <div class="flex flex-col md:flex-row justify-between items-center mb-6">
                        <h3 class="text-lg font-bold text-slate-700">
                            <i class="fas fa-ruler-combined text-blue-600 mr-2"></i> 神所量给的界限 
                            <span class="text-sm font-normal text-slate-400 ml-2 en-text">The Measure of the Rule (10:13)</span>
                        </h3>
                    </div>
                    
                    <div class="relative w-full h-24 bg-slate-50 rounded-lg border border-slate-200 overflow-hidden flex items-center px-4">
                        <!-- Background Grid -->
                        <div class="absolute inset-0 bg-[linear-gradient(to_right,#e2e8f0_1px,transparent_1px),linear-gradient(to_bottom,#e2e8f0_1px,transparent_1px)] bg-[size:20px_20px] opacity-50"></div>
                        
                        <!-- Paul's Territory -->
                        <div class="h-16 bg-blue-100 border-2 border-blue-400 rounded flex items-center justify-center relative z-10 w-1/2 mr-4">
                            <div class="text-center">
                                <span class="text-xs font-bold text-blue-800 uppercase block">Paul's Canon</span>
                                <span class="text-[10px] text-blue-600">Corinth (Founding)</span>
                            </div>
                            <div class="absolute -top-3 left-0 bg-blue-600 text-white text-[10px] px-2 rounded">God Assigned</div>
                        </div>

                        <!-- False Apostles Overreach -->
                        <div class="h-16 bg-red-50 border-2 border-dashed border-red-300 rounded flex items-center justify-center relative z-0 w-1/3 opacity-70">
                            <div class="text-center">
                                <span class="text-xs font-bold text-red-800 uppercase block">Overreach</span>
                                <span class="text-[10px] text-red-600">Boasting in others' labor</span>
                            </div>
                            <i class="fas fa-ban absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-4xl text-red-500 opacity-20"></i>
                        </div>
                    </div>
                    <p class="text-center text-xs text-slate-400 mt-4 italic">真权柄尊重属灵的疆界，不越过界限夸口。True authority respects spiritual boundaries.</p>
                </div>
            `;
        }

        function renderStudy() {
            const container = document.getElementById('app-content');
            
            // Filter Controls
            const filterHTML = `
                <div class="sticky top-20 z-40 bg-[#f8fafc]/95 backdrop-blur py-4 mb-6 border-b border-blue-200">
                    <div class="flex justify-between items-center max-w-5xl mx-auto">
                        <h2 class="text-2xl font-bold text-slate-800 serif">逐节研读室 <span class="text-base font-normal text-slate-400 en-text ml-2">Verse by Verse Study</span></h2>
                        <div class="flex bg-white rounded-lg shadow-sm p-1 border border-slate-200">
                            <button onclick="updateFilter('all')" class="px-4 py-1.5 rounded text-sm transition ${appState.studyFilter === 'all' ? 'bg-blue-600 text-white font-bold' : 'text-slate-500 hover:bg-slate-100'}">全部 All</button>
                            <button onclick="updateFilter('exegesis')" class="px-4 py-1.5 rounded text-sm transition ${appState.studyFilter === 'exegesis' ? 'bg-slate-600 text-white font-bold' : 'text-slate-500 hover:bg-slate-100'}">经文含义 Meaning</button>
                            <button onclick="updateFilter('devotional')" class="px-4 py-1.5 rounded text-sm transition ${appState.studyFilter === 'devotional' ? 'bg-red-700 text-white font-bold' : 'text-slate-500 hover:bg-slate-100'}">灵修 Devotional</button>
                        </div>
                    </div>
                </div>
            `;

            let sectionsHTML = '';
            chapterData.sections.forEach(section => {
                sectionsHTML += `
                    <div class="max-w-5xl mx-auto mb-16 fade-in">
                        <div class="flex items-center mb-6 pl-2 border-l-4 border-blue-700">
                            <div class="pl-4">
                                <h3 class="text-2xl font-bold text-slate-800">${section.title}</h3>
                                <p class="text-sm text-blue-700 font-serif italic mt-1 en-text">${section.title_en} | ${section.desc}</p>
                            </div>
                        </div>
                        
                        <div class="space-y-6">
                            ${section.verses.map(verse => createVerseCard(verse)).join('')}
                        </div>
                    </div>
                `;
            });

            container.innerHTML = filterHTML + sectionsHTML;
        }

        function createVerseCard(verse) {
            const exeTitle = verse.exegesis ? verse.exegesis.title : "Title Missing";
            const exeContentZh = verse.exegesis ? verse.exegesis.content_zh : "Content missing";
            const exeContentEn = verse.exegesis ? verse.exegesis.content_en : "Content missing";
            
            const devTitle = verse.devotional ? verse.devotional.title : "Title Missing";
            const devContentZh = verse.devotional ? verse.devotional.content_zh : "Content missing";
            const devContentEn = verse.devotional ? verse.devotional.content_en : "Content missing";

            return `
                <div class="verse-card rounded-lg shadow-sm overflow-hidden mb-6 group">
                    <!-- Verse Text -->
                    <div class="bg-gradient-to-r from-blue-50 to-white p-5 border-b border-blue-100">
                        <span class="inline-block px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-bold rounded mb-2 font-mono border border-blue-200">${verse.ref}</span>
                        <p class="text-slate-800 font-serif text-lg leading-relaxed group-hover:text-blue-800 transition-colors mb-2">"${verse.text_zh}"</p>
                        <p class="text-slate-500 font-serif text-sm italic en-text border-l-2 border-blue-200 pl-3">"${verse.text_en}"</p>
                    </div>

                    <!-- Dual Tracks -->
                    <div class="grid grid-cols-1 md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-slate-200">
                        <!-- Exegesis -->
                        <div class="p-6 exegesis-box ${appState.studyFilter === 'devotional' ? 'hidden' : ''}">
                            <div class="flex items-center mb-3 text-blue-800">
                                <i class="fas fa-book-open mr-2"></i>
                                <h4 class="text-xs font-bold uppercase tracking-widest">经文含义 Scriptural Meaning</h4>
                            </div>
                            <h5 class="font-bold text-slate-800 mb-2">${exeTitle}</h5>
                            <p class="text-sm text-slate-700 leading-relaxed text-justify mb-2">${exeContentZh}</p>
                            <p class="text-xs text-blue-800/70 font-serif italic en-text border-t border-blue-200 pt-2 mt-2">${exeContentEn}</p>
                        </div>

                        <!-- Devotional -->
                        <div class="p-6 devotional-box ${appState.studyFilter === 'exegesis' ? 'hidden' : ''}">
                            <div class="flex items-center mb-3 text-red-800">
                                <i class="fas fa-heart mr-2"></i>
                                <h4 class="text-xs font-bold uppercase tracking-widest">灵修应用 Devotional</h4>
                            </div>
                            <h5 class="font-bold text-red-900 mb-2">${devTitle}</h5>
                            <p class="text-sm text-red-900/90 leading-relaxed text-justify mb-2">${devContentZh}</p>
                            <p class="text-xs text-red-800/70 font-serif italic en-text border-t border-red-200 pt-2 mt-2">${devContentEn}</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderMethodology() {
            const container = document.getElementById('app-content');
            container.innerHTML = `
                <div class="max-w-4xl mx-auto fade-in">
                    <div class="text-center mb-10">
                        <h2 class="text-3xl font-bold mb-2 serif text-slate-800">解经方法论总结</h2>
                        <p class="text-slate-500 en-text">Summary of Methodology</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Exegesis Card -->
                        <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-blue-600 hover:shadow-xl transition hover:-translate-y-1">
                            <div class="text-blue-600 text-4xl mb-4"><i class="fas fa-search"></i></div>
                            <h3 class="text-xl font-bold text-slate-700 mb-2">权威/经文含义 (Scriptural Meaning)</h3>
                            <p class="text-xs text-slate-400 mb-6 uppercase tracking-wider">Military Metaphors & Authority</p>
                            
                            <ul class="space-y-4 text-sm text-slate-600">
                                <li class="flex flex-col items-start">
                                    <div class="flex items-center font-bold text-slate-800 mb-1"><i class="fas fa-check-circle mr-2 text-blue-500"></i> 原则 Principles</div>
                                    <div class="mb-1">解析军事隐喻（营垒、兵器）在罗马背景下的意义；区分“血气”与“神的大能”；研究保罗对属灵权柄（界限、造就人）的重新定义。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Decoding military metaphors (strongholds, weapons) in Roman context; distinguishing 'flesh' vs 'divine power'; studying Paul's redefinition of authority.</div>
                                </li>
                                <li class="flex flex-col items-start border-t border-slate-200 pt-3">
                                    <div class="flex items-center font-bold text-slate-800 mb-1"><i class="fas fa-check-circle mr-2 text-blue-500"></i> 运用 Application</div>
                                    <div class="mb-1">确立基督徒的争战主要是思想层面的争战；建立以实质和造就人为核心的领导力观。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Establishing that Christian warfare is primarily mental; building a leadership view based on substance and edification.</div>
                                </li>
                            </ul>
                        </div>

                        <!-- Devotional Card -->
                        <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-red-600 hover:shadow-xl transition hover:-translate-y-1">
                            <div class="text-red-600 text-4xl mb-4"><i class="fas fa-praying-hands"></i></div>
                            <h3 class="text-xl font-bold text-red-800 mb-2">灵修/应用扩展 (Devotional)</h3>
                            <p class="text-xs text-red-600/70 mb-6 uppercase tracking-wider">Mind & Boundaries</p>
                            
                            <ul class="space-y-4 text-sm text-slate-600">
                                <li class="flex flex-col items-start">
                                    <div class="flex items-center font-bold text-red-800 mb-1"><i class="fas fa-check-circle mr-2 text-red-500"></i> 原则 Principles</div>
                                    <div class="mb-1">将“攻破营垒”应用于个人的心理健康和信仰疑难；反思自己在事奉中是否越界或嫉妒；学习不以貌取人。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Applying 'breaking strongholds' to personal mental health and doubts; reflecting on boundaries and envy in ministry; learning not to judge by appearance.</div>
                                </li>
                                <li class="flex flex-col items-start border-t border-red-100 pt-3">
                                    <div class="flex items-center font-bold text-red-800 mb-1"><i class="fas fa-check-circle mr-2 text-red-500"></i> 运用 Application</div>
                                    <div class="mb-1">操练“夺回心意”的祷告；在平凡的忠心中寻找神的称许，而非人的点赞。</div>
                                    <div class="text-xs italic text-slate-400 en-text">Practicing the prayer of 'taking thoughts captive'; seeking God's approval in mundane faithfulness rather than human likes.</div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            `;
        }

        function updateFilter(filter) {
            appState.studyFilter = filter;
            renderStudy();
        }
    </script>
</body>
</html>