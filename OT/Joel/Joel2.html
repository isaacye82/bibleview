<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Joel 2: Judgment & Spirit | 约珥书第2章</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <style>
        /* Typography */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Noto+Sans+SC:wght@300;400;500;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap');

        :root {
            /* Alarm Red - The Army & Fire */
            --theme-primary: #991b1b; /* Red 800 */
            /* Spirit Blue - Restoration */
            --theme-secondary: #1e40af; /* Blue 800 */
            /* Repentance Purple */
            --theme-accent: #6b21a8; /* Purple 800 */
            /* Background */
            --theme-bg: #f8fafc; /* Slate 50 */
            /* Text */
            --theme-text: #0f172a; /* Slate 900 */
        }

        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: var(--theme-bg);
            color: var(--theme-text);
            overflow-x: hidden;
        }

        .en-text {
            font-family: 'Playfair Display', serif;
        }

        h1, h2, h3, .serif {
            font-family: 'Noto Serif SC', serif;
        }

        /* --- Navigation --- */
        .nav-btn {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .active-tab {
            color: var(--theme-primary);
            font-weight: 700;
        }
        .active-tab::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 3px;
            background-color: var(--theme-primary);
            border-radius: 2px;
        }

        /* --- Components --- */
        .verse-card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            border: 1px solid #e2e8f0;
            overflow: hidden;
            margin-bottom: 2rem;
        }
        .verse-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px -5px rgba(153, 27, 27, 0.15);
            border-color: var(--theme-primary);
        }

        .exegesis-box {
            background-color: #fef2f2; /* Red 50 */
            border-top: 3px solid #b91c1c; /* Red 700 */
        }
        
        .devotional-box {
            background-color: #eff6ff; /* Blue 50 */
            border-top: 3px solid #1d4ed8; /* Blue 700 */
        }

        /* --- Animations --- */
        .fade-in {
            animation: fadeIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
            opacity: 0;
            transform: translateY(15px);
        }
        @keyframes fadeIn {
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- Heart/Spirit Visualizer CSS --- */
        .visualizer-container {
            position: relative;
            width: 100%;
            height: 320px;
            background: linear-gradient(to bottom, #1f2937, #4b5563);
            border-radius: 1rem;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
        }

        /* The Heart */
        .heart-shape {
            position: relative;
            width: 60px;
            height: 60px;
            background-color: #9ca3af; /* Stone grey initially */
            transform: rotate(-45deg);
            transition: all 1s ease;
            z-index: 10;
        }
        .heart-shape::before,
        .heart-shape::after {
            content: "";
            position: absolute;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: inherit;
        }
        .heart-shape::before { top: -30px; left: 0; }
        .heart-shape::after { top: 0; left: 30px; }

        .heart-container {
            position: relative;
            margin-top: 20px;
            transition: transform 0.5s;
        }

        /* Tear Effect */
        .tear-line {
            position: absolute;
            top: -20px;
            left: 10px;
            width: 4px;
            height: 0;
            background-color: #1f2937; /* Dark background color to simulate rip */
            transform: rotate(45deg);
            z-index: 20;
            transition: height 0.5s ease-in;
        }

        /* Rain */
        .rain-drop {
            position: absolute;
            width: 2px;
            height: 10px;
            background-color: #60a5fa;
            opacity: 0;
            animation: fall 1s linear infinite;
        }
        @keyframes fall {
            0% { transform: translateY(-50px); opacity: 1; }
            100% { transform: translateY(300px); opacity: 0; }
        }

        /* Green Growth */
        .growth-layer {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 0%;
            background: linear-gradient(to top, #166534, #22c55e);
            opacity: 0.8;
            transition: height 2s ease-out;
            z-index: 5;
        }

    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Navigation -->
    <nav class="bg-white/95 backdrop-blur-md shadow-sm sticky top-0 z-50 border-b border-slate-200">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 sm:h-20">
                <div class="flex items-center">
                    <span class="text-xl sm:text-2xl font-bold text-slate-800 serif flex flex-col leading-tight">
                        <span><i class="fas fa-bullhorn mr-2 text-red-700"></i> 约珥书 2章</span>
                        <span class="text-[10px] sm:text-xs text-slate-500 en-text font-normal ml-8">Joel Chapter 2</span>
                    </span>
                </div>
                <div class="flex space-x-2 sm:space-x-8 items-center">
                    <button onclick="navigate('dashboard')" id="nav-dashboard" class="nav-btn active-tab px-3 py-2 text-xs sm:text-sm text-center">
                        全景 <br><span class="text-[9px] sm:text-[10px] uppercase opacity-70 en-text">Overview</span>
                    </button>
                    <button onclick="navigate('study')" id="nav-study" class="nav-btn px-3 py-2 text-xs sm:text-sm text-stone-500 hover:text-red-800 text-center">
                        研读 <br><span class="text-[9px] sm:text-[10px] uppercase opacity-70 en-text">Study</span>
                    </button>
                    <button onclick="navigate('methodology')" id="nav-methodology" class="nav-btn px-3 py-2 text-xs sm:text-sm text-stone-500 hover:text-red-800 text-center">
                        方法 <br><span class="text-[9px] sm:text-[10px] uppercase opacity-70 en-text">Methodology</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="app-content" class="flex-grow max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">
        <!-- Injected via JS -->
    </main>

    <!-- Footer -->
    <footer class="bg-[#0f172a] text-slate-400 mt-auto border-t-4 border-red-800">
        <div class="max-w-6xl mx-auto py-10 px-4 text-center">
            <p class="text-base sm:text-lg font-serif italic text-red-100 mb-1">"以后，我要将我的灵浇灌凡有血气的。"</p>
            <p class="text-xs sm:text-sm italic text-slate-500 mb-4 en-text">"And it shall come to pass afterward, that I will pour out my Spirit on all flesh."</p>
            <p class="text-[10px] sm:text-xs opacity-60">约珥书第2章中英对照研经报告 | Judgment & Spirit</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- Data Store ---
        const chapterData = {
            intro: {
                title: "耶和华的日子：从审判到圣灵",
                title_en: "The Day of the LORD: From Judgment to Spirit",
                summary_zh: "第2章将场景从现实的蝗灾（第1章）推向了终末论的“耶和华的日子”。这是一个令人战兢的时刻，上帝亲自率领军队攻击祂的百姓。然而，这也是转折的时刻——通过真诚的“撕裂心肠”，审判转化为怜悯，最终带来了旧约中关于圣灵浇灌最伟大的应许（五旬节的预言）。",
                summary_en: "Chapter 2 shifts from the physical plague (Ch 1) to the eschatological 'Day of the LORD'. It is a terrifying moment where God leads His army against His people. Yet, it is also the pivot—through sincere 'heart-rending', judgment turns to mercy, culminating in the greatest OT promise of the Spirit (prophecy of Pentecost).",
                concepts: [
                    { 
                        title: "吹角警报", 
                        title_en: "Blowing the Trumpet", 
                        icon: "fa-bullhorn",
                        color: "text-red-700", 
                        bg: "bg-red-50", 
                        desc_zh: "锡安的号角不再是为了节庆，而是为了战争警报。神成为了祂自己百姓的敌人。", 
                        desc_en: "The shofar in Zion is no longer for feast, but for war alarm. God becomes the enemy of His own people." 
                    },
                    { 
                        title: "撕裂心肠", 
                        title_en: "Rend Your Heart", 
                        icon: "fa-heart-broken",
                        color: "text-purple-700", 
                        bg: "bg-purple-50", 
                        desc_zh: "神厌弃外在的表演（撕裂衣服），要求内在本质的改变。这是危机解除的唯一钥匙。", 
                        desc_en: "God rejects external performance (tearing garments), demanding internal change. The only key to averting crisis." 
                    },
                    { 
                        title: "圣灵浇灌", 
                        title_en: "Outpouring of Spirit", 
                        icon: "fa-water",
                        color: "text-blue-700", 
                        bg: "bg-blue-50", 
                        desc_zh: "复兴的高潮不是粮食的恢复，而是神的同在（灵）普遍地赐给凡有血气的人。", 
                        desc_en: "The climax of restoration is not grain, but God's presence (Spirit) given universally to all flesh." 
                    }
                ]
            },
            sections: [
                {
                    id: "army",
                    title: "神的军队与不可阻挡的审判 (2:1-11)",
                    title_en: "God's Army & The Unstoppable Judgment",
                    verses: [
                        {
                            ref: "2:1, 11",
                            text_zh: "你们要在锡安吹角，在我圣山吹出大声... 耶和华在他军旅前发声... 他营极其大，执行他话的甚是强盛...",
                            text_en: "Blow a trumpet in Zion; sound an alarm on my holy mountain... The LORD utters his voice before his army, for his camp is exceedingly great...",
                            exegesis: {
                                title: "神是总司令 (God as Commander)",
                                content_zh: "这是极具震撼力的启示：那毁灭性的蝗虫大军（或喻指敌军），实际上是**耶和华的军旅**。它们“执行祂的话”。经文用这一意象打破了以色列人的安全感——他们以为耶和华总是站在他们这边抵挡外敌，但因为罪，耶和华亲自指挥军队来攻击祂的“圣山”。这是为了唤醒沉睡的良知。",
                                content_en: "A shocking revelation: the devastating locust army is actually **God's army**. They 'execute His word'. This shatters Israel's false security—they thought Yahweh always fought *for* them. Due to sin, Yahweh commands the attack on His own 'holy mountain' to awaken their conscience."
                            },
                            devotional: {
                                title: "当神成为你的“对手” (When God Opposes You)",
                                content_zh: "当你感到生活中四面楚歌，仿佛有一支看不见的大军在攻击你的健康、财务或关系时，请停下来思考：这是否是神在“吹角”？有时候，神必须站在我们的对立面，阻挡我们的道路，是为了让我们停下通往灭亡的脚步。不要与环境搏斗，要转身面对那位总司令。",
                                content_en: "When you feel besieged, as if an invisible army attacks your health, finances, or relationships, pause. Is God 'blowing the trumpet'? Sometimes God must oppose us to stop our path to destruction. Don't fight the circumstances; turn to face the Commander."
                            }
                        }
                    ]
                },
                {
                    id: "repentance",
                    title: "撕裂心肠的呼召 (2:12-17)",
                    title_en: "The Call to Rend the Heart",
                    verses: [
                        {
                            ref: "2:12-13",
                            text_zh: "耶和华说：虽然如此，你们应当禁食、哭泣、悲哀，一心归向我。你们要撕裂心肠，不撕裂衣服...",
                            text_en: "Yet even now, declares the LORD, return to me with all your heart, with fasting, with weeping, and with mourning; and rend your hearts and not your garments...",
                            exegesis: {
                                title: "虽然如此 vs 撕裂心肠 (Even Now vs. Heart-Rending)",
                                content_zh: "“虽然如此”（Yet even now）是整卷书的转折点。尽管审判已定，恩典的门仍留有一条缝隙。**“撕裂衣服”**是古代表达悲伤的常规礼仪，但容易流于形式。神要求**“撕裂心肠”**（希伯来文中“心”是意志和理智的中心），意即破碎顽固的自我意志，进行深度的内在重组。",
                                content_en: "'Yet even now' is the pivot. Despite judgment, a door of grace remains ajar. **'Rending garments'** was a ritual of grief, often formalistic. God demands **'rending hearts'** (the center of will/mind)—shattering the stubborn ego for deep internal restructuring."
                            },
                            devotional: {
                                title: "你的悔改是表演吗？ (Is Your Repentance a Performance?)",
                                content_zh: "我们很容易在人面前“撕裂衣服”——表现出遗憾、流泪或做出某种姿态。但神在看我们的心。你是否真的痛恨那个罪？还是只是后悔被抓住了？真正的悔改是内心的破碎，承认“我错了，我无法自救”，并完全投靠神的怜悯。只有破碎的心，才能装下神的恩典。",
                                content_en: "It's easy to 'rend garments' publicly—showing regret or tears. But God looks at the heart. Do you hate the sin, or just regret getting caught? True repentance is internal brokenness, admitting 'I am wrong, I cannot save myself,' and throwing oneself on God's mercy."
                            }
                        }
                    ]
                },
                {
                    id: "restoration",
                    title: "复兴的应许：补还年岁 (2:18-27)",
                    title_en: "Promise of Restoration: Years Restored",
                    verses: [
                        {
                            ref: "2:25",
                            text_zh: "我打发到你们中间的大军队，就是蝗虫、蝻子、蚂蚱、剪虫，那些年所吃的，我要补还你们。",
                            text_en: "I will restore to you the years that the swarming locust has eaten, the hopper, the destroyer, and the cutter, my great army, which I sent among you.",
                            exegesis: {
                                title: "逆转性恩典 (Reversal Grace)",
                                content_zh: "这里的“补还”（Shalam）意味着使其完整、偿还。这是一个惊人的应许：神不仅停止灾难，还要**逆转**损失。即使是那些被浪费的时间和机会（“那些年所吃的”），在神的恩典中也能被赋予新的意义和价值。这是对第1章四重灾难的直接回应。",
                                content_en: "'Restore' (Shalam) means to make whole or repay. An amazing promise: God doesn't just stop the plague, He **reverses** the loss. Even wasted time and opportunities ('years eaten') can be redeemed and given new value. This directly answers the fourfold plague of Ch 1."
                            },
                            devotional: {
                                title: "失去的时光能找回吗？ (Can Lost Time Be Found?)",
                                content_zh: "你是否因为过去的错误选择、成瘾或懒惰而感到浪费了生命中最好的几年？你是否觉得那段时光像被蝗虫吃光了一样？神说：回转归向我，我就能“补还”那些年日。神能加速你的成长，或者使用你过去的失败作为祝福他人的资本。在神手中，没有绝对的废墟。",
                                content_en: "Do you feel you've wasted your best years due to bad choices, addiction, or laziness? Like locusts ate them? God says: Return to Me, and I will 'restore' those years. He can accelerate your growth or use your past failures to bless others. In God's hands, no ruin is absolute."
                            }
                        }
                    ]
                },
                {
                    id: "spirit",
                    title: "圣灵的浇灌：凡有血气的 (2:28-32)",
                    title_en: "Outpouring of Spirit: All Flesh",
                    verses: [
                        {
                            ref: "2:28-29",
                            text_zh: "以后，我要将我的灵浇灌凡有血气的。你们的儿女要说预言，你们的老年人要做异梦，少年人要见异象... 在那些日子，我要将我的灵浇灌我的仆人和使女。",
                            text_en: "And it shall come to pass afterward, that I will pour out my Spirit on all flesh; your sons and your daughters shall prophesy, your old men shall dream dreams, and your young men shall see visions...",
                            exegesis: {
                                title: "属灵的民主化 (Democratization of the Spirit)",
                                content_zh: "这是旧约最重要的高峰之一。在旧约，圣灵通常只降临在特定的领袖（君王、先知）身上。但约珥预言了一个新时代：圣灵将浇灌**凡有血气的**——不分性别（儿女）、年龄（老少）或社会地位（仆人使女）。这是五旬节（使徒行传2章）的预言，标志着每个人都可以直接与神建立亲密关系。",
                                content_en: "A peak of the OT. Previously, the Spirit fell only on select leaders. Joel predicts a new era: the Spirit poured on **all flesh**—regardless of gender, age, or status. This prophesies Pentecost (Acts 2), marking direct intimacy with God for everyone."
                            },
                            devotional: {
                                title: "圣灵是给你的 (The Spirit is for You)",
                                content_zh: "不要以为圣灵的充满只属于牧师或“属灵伟人”。约珥的预言告诉你：无论你是默默无闻的“仆人”，还是觉得自己太年轻或太老，神的灵都渴望浇灌你。你不再是二等信徒。你是否有求告圣灵来充满你的日常生活、职场和家庭？",
                                content_en: "Don't think the fullness of the Spirit is only for pastors or 'spiritual giants'. Joel says: whether you are an unknown 'servant', or feel too young/old, God desires to pour His Spirit on YOU. You are not a second-class believer. Do you ask the Spirit to fill your daily life?"
                            }
                        }
                    ]
                }
            ]
        };

        // --- State ---
        let appState = {
            view: 'dashboard',
        };

        // --- Init ---
        document.addEventListener('DOMContentLoaded', () => {
            renderDashboard();
        });

        // --- Navigation Logic ---
        function navigate(view) {
            appState.view = view;
            
            // Update Tab UI
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active-tab');
                btn.classList.add('text-stone-500');
            });
            const activeBtn = document.getElementById(`nav-${view}`);
            activeBtn.classList.add('active-tab');
            activeBtn.classList.remove('text-stone-500');

            const container = document.getElementById('app-content');
            
            // Transition
            container.style.opacity = '0';
            container.style.transform = 'translateY(10px)';
            container.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
            
            setTimeout(() => {
                if (view === 'dashboard') renderDashboard();
                if (view === 'study') renderStudy();
                if (view === 'methodology') renderMethodology();
                
                // Fade in
                container.style.opacity = '1';
                container.style.transform = 'translateY(0)';
                window.scrollTo(0,0);
            }, 300);
        }

        // --- Render Functions ---

        function renderDashboard() {
            const container = document.getElementById('app-content');
            container.innerHTML = `
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 mb-8 fade-in">
                    <!-- Intro Section -->
                    <div class="lg:col-span-7 bg-white p-6 sm:p-8 rounded-2xl shadow-sm border border-stone-200 relative overflow-hidden">
                        <div class="relative z-10">
                            <div class="flex items-center mb-4">
                                <span class="bg-red-100 text-red-900 text-[10px] sm:text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide mr-3">Core Theme</span>
                                <h2 class="text-2xl sm:text-3xl font-bold serif text-stone-800">${chapterData.intro.title}</h2>
                            </div>
                            <h3 class="text-base sm:text-lg text-stone-500 font-serif italic mb-6 en-text">${chapterData.intro.title_en}</h3>
                            <p class="text-stone-700 leading-relaxed mb-6 text-sm sm:text-base text-justify">
                                ${chapterData.intro.summary_zh}
                            </p>
                            <p class="text-stone-500 leading-relaxed text-xs sm:text-sm italic en-text border-l-4 border-red-800 pl-4 text-justify">
                                ${chapterData.intro.summary_en}
                            </p>
                        </div>
                    </div>

                    <!-- Interactive Visual: Heart Rending -->
                    <div class="lg:col-span-5 bg-stone-900 text-white p-6 rounded-2xl shadow-lg flex flex-col relative overflow-hidden">
                        <div class="z-10 w-full mb-2 flex justify-between items-center">
                             <h3 class="text-lg font-bold text-purple-300">
                                心意回转 <span class="text-xs font-normal opacity-60 ml-2 en-text text-white">Heart Rending</span>
                             </h3>
                             <button onclick="runVisualizer()" id="rend-btn" class="px-3 py-1 bg-purple-700 hover:bg-purple-600 text-xs rounded shadow transition border border-purple-500">
                                <i class="fas fa-heart-broken mr-1"></i> 撕裂心肠 Rend Heart
                             </button>
                        </div>

                        <!-- Visualizer Canvas -->
                        <div class="visualizer-container mt-2" id="viz-canvas">
                             <!-- Heart -->
                             <div class="heart-container" id="heart-container">
                                <div class="heart-shape" id="heart"></div>
                                <div class="tear-line" id="tear"></div>
                             </div>
                             
                             <!-- Growth Layer (Hidden initially) -->
                             <div class="growth-layer" id="growth"></div>

                             <!-- Rain Layer -->
                             <div class="absolute inset-0 pointer-events-none" id="rain-layer"></div>
                             
                             <div id="viz-msg" class="absolute bottom-10 text-center z-30 opacity-0 transition-opacity duration-500 pointer-events-none w-full">
                                <h4 class="text-xl font-bold text-white drop-shadow-md">Stony Heart</h4>
                             </div>
                        </div>
                    </div>
                </div>

                <!-- Concept Cards -->
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 fade-in" style="animation-delay: 0.2s">
                    ${chapterData.intro.concepts.map((c, i) => `
                        <div class="${c.bg} p-5 rounded-xl border border-white/50 flex flex-col items-start transition hover:shadow-md group h-full">
                            <div class="w-10 h-10 rounded-full bg-white flex items-center justify-center shadow-sm mb-3 text-lg ${c.color}">
                                <i class="fas ${c.icon}"></i>
                            </div>
                            <h4 class="font-bold ${c.color} text-base mb-1 group-hover:translate-x-1 transition-transform">${c.title}</h4>
                            <p class="text-[10px] sm:text-xs text-stone-500 font-serif mb-2 en-text italic">${c.title_en}</p>
                            <div class="w-full h-px bg-current opacity-10 mb-2"></div>
                            <p class="text-xs text-stone-700 leading-snug mb-1">${c.desc_zh}</p>
                            <p class="text-[10px] text-stone-500 leading-snug opacity-80 en-text mt-auto pt-2">${c.desc_en}</p>
                        </div>
                    `).join('')}
                </div>
            `;
            
            // Set initial label
            setTimeout(() => {
                const msg = document.getElementById('viz-msg');
                if(msg) msg.style.opacity = '1';
            }, 500);
        }

        function renderStudy() {
            const container = document.getElementById('app-content');
            
            const headerHTML = `
                <div class="text-center mb-10 fade-in">
                    <span class="inline-block p-3 rounded-full bg-red-100 text-red-900 text-xl mb-3 shadow-sm"><i class="fas fa-book-open"></i></span>
                    <h2 class="text-2xl font-bold text-stone-800 serif">逐节研读与灵修</h2>
                    <p class="text-sm text-stone-500 en-text italic mt-1">Verse-by-Verse Exegesis & Devotion</p>
                </div>
            `;

            let sectionsHTML = '';
            chapterData.sections.forEach((section, index) => {
                sectionsHTML += `
                    <div class="max-w-4xl mx-auto mb-16 fade-in" style="animation-delay: ${index * 0.15}s">
                        <!-- Section Header -->
                        <div class="flex items-center mb-6 pl-2 border-l-4 border-red-800">
                            <div>
                                <h3 class="text-lg sm:text-xl font-bold text-stone-800">${section.title}</h3>
                                <p class="text-xs sm:text-sm text-stone-500 font-serif italic en-text">${section.title_en}</p>
                            </div>
                        </div>
                        
                        <!-- Cards Stack -->
                        <div class="space-y-6">
                            ${section.verses.map(verse => createVerseCard(verse)).join('')}
                        </div>
                    </div>
                `;
            });

            container.innerHTML = headerHTML + sectionsHTML;
        }

        function createVerseCard(verse) {
            return `
                <div class="verse-card group">
                    <!-- Scripture Area -->
                    <div class="bg-white p-5 sm:p-6 border-b border-stone-200 relative">
                        <div class="flex items-center justify-between mb-3">
                            <span class="px-2 py-1 bg-slate-800 text-slate-100 text-[10px] font-bold rounded font-mono">${verse.ref}</span>
                            <div class="h-px bg-slate-200 flex-grow mx-4"></div>
                            <i class="fas fa-scroll text-slate-300 text-xl"></i>
                        </div>
                        <p class="text-stone-900 font-serif text-lg leading-relaxed mb-3 font-medium">
                            ${verse.text_zh}
                        </p>
                        <p class="text-stone-500 font-serif text-sm italic en-text">
                            ${verse.text_en}
                        </p>
                    </div>

                    <!-- Interpretation Area -->
                    <div class="grid grid-cols-1 md:grid-cols-2">
                        <!-- Exegesis Block -->
                        <div class="exegesis-box p-5 sm:p-6 text-stone-800">
                            <div class="flex items-center mb-3 text-red-900 opacity-80">
                                <i class="fas fa-search mr-2 text-xs"></i>
                                <h4 class="text-xs font-bold uppercase tracking-widest">经文含义 Meaning</h4>
                            </div>
                            <h5 class="font-bold text-stone-900 mb-2 text-sm sm:text-base">${verse.exegesis.title}</h5>
                            <p class="text-sm text-stone-700 leading-relaxed text-justify mb-2">${verse.exegesis.content_zh}</p>
                            <p class="text-xs text-stone-500 font-serif italic en-text mt-3 pt-3 border-t border-red-900/10">${verse.exegesis.content_en}</p>
                        </div>

                        <!-- Devotional Block -->
                        <div class="devotional-box p-5 sm:p-6 text-stone-800">
                            <div class="flex items-center mb-3 text-blue-800 opacity-80">
                                <i class="fas fa-church mr-2 text-xs"></i>
                                <h4 class="text-xs font-bold uppercase tracking-widest">灵修应用 Devotional</h4>
                            </div>
                            <h5 class="font-bold text-blue-900 mb-2 text-sm sm:text-base">${verse.devotional.title}</h5>
                            <p class="text-sm text-stone-700 leading-relaxed text-justify mb-2">${verse.devotional.content_zh}</p>
                            <p class="text-xs text-stone-500 font-serif italic en-text mt-3 pt-3 border-t border-blue-800/10">${verse.devotional.content_en}</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderMethodology() {
            const container = document.getElementById('app-content');
            container.innerHTML = `
                <div class="max-w-4xl mx-auto fade-in">
                    <div class="text-center mb-10">
                        <h2 class="text-2xl sm:text-3xl font-bold mb-2 serif text-stone-800">解经原则总结</h2>
                        <p class="text-stone-500 en-text">Methodology Summary</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <!-- Method 1 -->
                        <div class="bg-white p-6 rounded-2xl shadow-sm border-t-4 border-red-800">
                            <div class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center text-red-900 text-xl mb-4">
                                <i class="fas fa-university"></i>
                            </div>
                            <h3 class="text-lg font-bold text-stone-800 mb-2">1. 经文原意 (Contextual Exegesis)</h3>
                            <p class="text-xs text-stone-400 mb-4 uppercase tracking-wider">Historical & Theological</p>
                            <p class="text-sm text-stone-600 mb-4 leading-relaxed">
                                侧重于理解“耶和华的日子”这一终末论概念，以及以色列历史中悔改与复兴的模式。
                            </p>
                            <ul class="space-y-3 text-sm text-stone-700">
                                <li class="flex items-start"><i class="fas fa-check text-red-700 mt-1 mr-2 text-xs"></i> <span><strong>反转意象：</strong> 蝗灾（Ch1）被解释为神的军队（Ch2），这种视角的转换是理解经文的关键。</span></li>
                                <li class="flex items-start"><i class="fas fa-check text-red-700 mt-1 mr-2 text-xs"></i> <span><strong>原文深度：</strong> 区分“撕裂衣服”与“撕裂心肠”的文化与词源意义。</span></li>
                                <li class="flex items-start"><i class="fas fa-check text-red-700 mt-1 mr-2 text-xs"></i> <span><strong>先知预言：</strong> 识别2:28作为五旬节圣灵浇灌的直接预言（彼得在使徒行传中引用）。</span></li>
                            </ul>
                        </div>

                        <!-- Method 2 -->
                        <div class="bg-white p-6 rounded-2xl shadow-sm border-t-4 border-blue-800">
                            <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-800 text-xl mb-4">
                                <i class="fas fa-seedling"></i>
                            </div>
                            <h3 class="text-lg font-bold text-stone-800 mb-2">2. 灵修应用 (Devotional Application)</h3>
                            <p class="text-xs text-stone-400 mb-4 uppercase tracking-wider">Heart & Spirit</p>
                            <p class="text-sm text-stone-600 mb-4 leading-relaxed">
                                将古老的审判与复兴原则应用到现代信徒的个人生命中。
                            </p>
                            <ul class="space-y-3 text-sm text-stone-700">
                                <li class="flex items-start"><i class="fas fa-check text-blue-700 mt-1 mr-2 text-xs"></i> <span><strong>真实悔改：</strong> 挑战表面的宗教行为，呼唤内心的深度破碎。</span></li>
                                <li class="flex items-start"><i class="fas fa-check text-blue-700 mt-1 mr-2 text-xs"></i> <span><strong>盼望重燃：</strong> 相信神能“补还”被浪费的岁月，带来生命的逆转。</span></li>
                                <li class="flex items-start"><i class="fas fa-check text-blue-700 mt-1 mr-2 text-xs"></i> <span><strong>圣灵充满：</strong> 鼓励每位信徒追求圣灵的内住与能力，不分阶层与年龄。</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            `;
        }

        // --- Animation Logic ---
        function runVisualizer() {
            const heart = document.getElementById('heart');
            const tear = document.getElementById('tear');
            const rainLayer = document.getElementById('rain-layer');
            const growth = document.getElementById('growth');
            const msg = document.getElementById('viz-msg');
            const btn = document.getElementById('rend-btn');

            if(!heart || !tear) return;

            // Disable button
            btn.disabled = true;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin mr-1"></i> Opening...';

            // 1. Rend Heart
            tear.style.height = '70px'; // Cut through
            
            setTimeout(() => {
                // Heart opens and turns flesh color
                heart.style.backgroundColor = '#f43f5e'; // Flesh/Rose color
                heart.style.transform = 'rotate(-45deg) scale(1.1)';
                heart.style.boxShadow = '0 0 20px #f43f5e';
                msg.innerHTML = '<h4 class="text-xl font-bold text-rose-400 drop-shadow-md">Heart of Flesh</h4>';
                
                // 2. Start Rain (The Spirit)
                setTimeout(() => {
                    msg.innerHTML = '<h4 class="text-xl font-bold text-blue-300 drop-shadow-md">Spirit Pouring Out</h4>';
                    for(let i=0; i<30; i++) {
                        const drop = document.createElement('div');
                        drop.className = 'rain-drop';
                        drop.style.left = Math.random() * 100 + '%';
                        drop.style.animationDelay = Math.random() * 2 + 's';
                        rainLayer.appendChild(drop);
                    }
                    
                    // 3. Restoration (Green Growth)
                    setTimeout(() => {
                        growth.style.height = '40%';
                        msg.innerHTML = '<h4 class="text-xl font-bold text-green-300 drop-shadow-md">Years Restored</h4>';
                        btn.innerHTML = '<i class="fas fa-check mr-1"></i> Restored';
                        btn.classList.remove('bg-purple-700', 'hover:bg-purple-600');
                        btn.classList.add('bg-green-700');
                    }, 2000);

                }, 1000);

            }, 800);
        }

    </script>
</body>
</html>