<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Habakkuk 1: The Burden | 哈巴谷书第1章</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <style>
        /* Typography */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Noto+Sans+SC:wght@300;400;500;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap');

        :root {
            /* Mystery Violet - The Prophet's Struggle */
            --theme-primary: #4c1d95; /* Violet 900 */
            /* Chaldean Fire - The Fierce Nation */
            --theme-secondary: #c2410c; /* Orange 700 */
            /* Scroll Parchment - The Vision */
            --theme-accent: #fef3c7; /* Amber 100 */
            /* Background */
            --theme-bg: #fafaf9; /* Stone 50 */
            /* Text */
            --theme-text: #2e1065; /* Violet 950 */
        }

        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: var(--theme-bg);
            color: var(--theme-text);
            overflow-x: hidden;
        }

        .en-text {
            font-family: 'Playfair Display', serif;
        }

        h1, h2, h3, .serif {
            font-family: 'Noto Serif SC', serif;
        }

        /* --- Navigation --- */
        .nav-btn {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .active-tab {
            color: var(--theme-primary);
            font-weight: 700;
        }
        .active-tab::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 3px;
            background-color: var(--theme-primary);
            border-radius: 2px;
        }

        /* --- Components --- */
        .verse-card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            border: 1px solid #e9d5ff;
            overflow: hidden;
            margin-bottom: 2rem;
        }
        .verse-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px -5px rgba(76, 29, 149, 0.15);
            border-color: var(--theme-primary);
        }

        .exegesis-box {
            background-color: #f3e8ff; /* Purple 50 */
            border-top: 3px solid #6b21a8; /* Purple 700 */
        }
        
        .devotional-box {
            background-color: #fff7ed; /* Orange 50 */
            border-top: 3px solid #c2410c; /* Orange 700 */
        }

        /* --- Animations --- */
        .fade-in {
            animation: fadeIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
            opacity: 0;
            transform: translateY(15px);
        }
        @keyframes fadeIn {
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- Invasion Visualizer CSS --- */
        .invasion-container {
            position: relative;
            width: 100%;
            height: 340px;
            background: linear-gradient(to right, #1e1b4b, #312e81);
            border-radius: 1rem;
            overflow: hidden;
            box-shadow: inset 0 0 40px rgba(0,0,0,0.8);
        }

        .map-grid {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
            background-size: 40px 40px;
            opacity: 0.3;
        }

        .rider {
            position: absolute;
            width: 60px; /* length of trail */
            height: 2px;
            background: linear-gradient(90deg, transparent, #fbbf24, #ef4444);
            opacity: 0;
            transform-origin: center;
            border-radius: 2px;
            box-shadow: 0 0 8px #ef4444;
        }

        .dust-cloud {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 100% 50%, rgba(194, 65, 12, 0.2), transparent 70%);
            opacity: 0;
            transition: opacity 2s;
            mix-blend-mode: overlay;
        }

        .eagle-shadow {
            position: absolute;
            width: 40px;
            height: 40px;
            background-color: black;
            opacity: 0.3;
            border-radius: 50%;
            filter: blur(10px);
            transform: scaleX(2);
        }

    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Navigation -->
    <nav class="bg-white/95 backdrop-blur-md shadow-sm sticky top-0 z-50 border-b border-purple-200">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 sm:h-20">
                <div class="flex items-center">
                    <span class="text-xl sm:text-2xl font-bold text-purple-900 serif flex flex-col leading-tight">
                        <span><i class="fas fa-scroll mr-2 text-orange-600"></i> 哈巴谷书 1章</span>
                        <span class="text-[10px] sm:text-xs text-purple-800/60 en-text font-normal ml-8">Habakkuk Chapter 1</span>
                    </span>
                </div>
                <div class="flex space-x-2 sm:space-x-8 items-center">
                    <button onclick="navigate('dashboard')" id="nav-dashboard" class="nav-btn active-tab px-3 py-2 text-xs sm:text-sm text-center">
                        全景 <br><span class="text-[9px] sm:text-[10px] uppercase opacity-70 en-text">Overview</span>
                    </button>
                    <button onclick="navigate('study')" id="nav-study" class="nav-btn px-3 py-2 text-xs sm:text-sm text-stone-500 hover:text-purple-800 text-center">
                        研读 <br><span class="text-[9px] sm:text-[10px] uppercase opacity-70 en-text">Study</span>
                    </button>
                    <button onclick="navigate('methodology')" id="nav-methodology" class="nav-btn px-3 py-2 text-xs sm:text-sm text-stone-500 hover:text-purple-800 text-center">
                        方法 <br><span class="text-[9px] sm:text-[10px] uppercase opacity-70 en-text">Methodology</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="app-content" class="flex-grow max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">
        <!-- Injected via JS -->
    </main>

    <!-- Footer -->
    <footer class="bg-[#2e1065] text-purple-200 mt-auto border-t-4 border-orange-600">
        <div class="max-w-6xl mx-auto py-10 px-4 text-center">
            <p class="text-base sm:text-lg font-serif italic text-orange-100 mb-1">"耶和华说：你们要向列国中观看... 因为在你们的时候，我行一件事..."</p>
            <p class="text-xs sm:text-sm italic text-purple-400 mb-4 en-text">"Look among the nations, and see; wonder and be astounded. For I am doing a work in your days..."</p>
            <p class="text-[10px] sm:text-xs opacity-60">哈巴谷书第1章中英对照研经报告 | The Problem of Evil</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- Data Store ---
        const chapterData = {
            intro: {
                title: "先知的困惑与神的惊人作为",
                title_en: "The Prophet's Dilemma & God's Astonishing Work",
                summary_zh: "《哈巴谷书》不同于其他先知书，它不是神对人的宣告，而是人对神的质问。第1章记录了先知与神的第一次对话。面对犹大内部的强暴，先知问“为何不理？”神回答要兴起残忍的迦勒底人来审判。这反而引发了先知更深的困惑：圣洁的神怎能用更恶的人来惩罚义人？这是信仰中最深刻的神义论难题。",
                summary_en: "Habakkuk is unique; it's not God speaking to people, but a man questioning God. Chapter 1 records the first dialogue. Facing violence in Judah, the prophet asks 'Why do you not save?' God answers by raising the ruthless Chaldeans. This triggers a deeper crisis: How can a holy God use the wicked to punish the righteous? This is the profound problem of theodicy.",
                concepts: [
                    { 
                        title: "强暴 (Hamas)", 
                        title_en: "Violence (Hamas)", 
                        icon: "fa-fist-raised",
                        color: "text-purple-800", 
                        bg: "bg-purple-100", 
                        desc_zh: "先知呼喊“强暴”，指犹大社会内部的律法失效和公义颠倒。这是他抱怨的起因。", 
                        desc_en: "The prophet cries 'Violence', referring to the breakdown of law and justice within Judah. The root of his complaint." 
                    },
                    { 
                        title: "迦勒底人", 
                        title_en: "The Chaldeans", 
                        icon: "fa-horse-head",
                        color: "text-orange-700", 
                        bg: "bg-orange-100", 
                        desc_zh: "神兴起的“残忍暴躁之民”，行动迅速如豹如鹰，是神手中令人畏惧的管教工具。", 
                        desc_en: "The 'bitter and hasty nation' raised by God. Swift as leopards and eagles, a terrifying instrument of discipline." 
                    },
                    { 
                        title: "眼目清洁", 
                        title_en: "Pure Eyes", 
                        icon: "fa-eye",
                        color: "text-stone-700", 
                        bg: "bg-stone-200", 
                        desc_zh: "先知基于神的属性（圣洁）提出质疑：祢既不看奸恶，为何看着恶人吞灭义人而不理？", 
                        desc_en: "Based on God's attribute (Holiness): You are of purer eyes than to behold evil; why then are You silent?" 
                    }
                ]
            },
            sections: [
                {
                    id: "complaint1",
                    title: "第一问：神为何沉默？ (1:1-4)",
                    title_en: "First Complaint: Why is God Silent?",
                    verses: [
                        {
                            ref: "1:2-3",
                            text_zh: "耶和华啊！我呼求你，你不应允，要到几时呢？我向你呼喊‘强暴’，你还是不拯救？你为何使我看见罪孽？",
                            text_en: "O LORD, how long shall I cry for help, and you will not hear? Or cry to you 'Violence!' and you will not save? Why do you make me see iniquity?",
                            exegesis: {
                                title: "神义论的呼喊 (The Cry of Theodicy)",
                                content_zh: "“要到几时呢？”（Ad-anah）是哀歌中常见的质问。先知并非不信，而是因为深信神的公义，才对眼前的现实（律法放松、公义从未显明）感到痛苦。这里的“强暴”（希伯来文Hamas）指社会性的不公和暴力。先知的痛苦在于神似乎是一个旁观者。",
                                content_en: "'How long?' is a standard lament cry. The prophet isn't faithless; his deep belief in God's justice makes the reality (paralyzed law, perverted justice) painful. 'Violence' (Hamas) implies social injustice. The pain is that God seems to be a spectator."
                            },
                            devotional: {
                                title: "当祷告看似无效时 (When Prayer Seems Futile)",
                                content_zh: "你是否也曾像哈巴谷一样呼喊“要到几时呢”？当你为某件不公义的事、或长期的痛苦祷告，却只听到沉默时，不要以为神不在。哈巴谷的榜样告诉我们：向神诚实地倾诉你的失望和困惑，也是一种信心的表达。抱怨（Lament）是通往更深信靠的桥梁。",
                                content_en: "Have you cried 'How long?' When you pray against injustice or pain and hear only silence, don't assume God is absent. Habakkuk teaches us: honestly pouring out disappointment to God is an act of faith. Lament is the bridge to deeper trust."
                            }
                        }
                    ]
                },
                {
                    id: "answer",
                    title: "神的回答：意想不到的工具 (1:5-11)",
                    title_en: "God's Answer: The Unexpected Instrument",
                    verses: [
                        {
                            ref: "1:5-6",
                            text_zh: "你们要向列国中观看... 我行一件事，虽有人告诉你们，你们总是不信。我必兴起迦勒底人，就是那残忍暴躁之民...",
                            text_en: "Look among the nations, and see; wonder and be astounded. For I am doing a work in your days that you would not believe if told. For behold, I am raising up the Chaldeans...",
                            exegesis: {
                                title: "令人震惊的护理 (Shocking Providence)",
                                content_zh: "神并非沉默，祂正在行动，只是祂的方案超乎想象。神没有直接在内部复兴犹大，而是从外部兴起一个新的超级大国（巴比伦/迦勒底）来作为手术刀。经文详细描述了迦勒底人的恐怖：马匹比豹更快，骑兵如鹰食尸。这就是神所说的“虽告诉你们，你们也不信”——神使用更恶的势力来管教祂的百姓。",
                                content_en: "God isn't silent; He is acting, but in a way beyond imagination. Instead of internal revival, He raises an external superpower (Babylon) as a scalpel. The text describes their terror: swifter than leopards, like eagles. This is the 'work you would not believe'—God using a wicked force to discipline His people."
                            },
                            devotional: {
                                title: "小心你所求的 (Be Careful What You Ask For)",
                                content_zh: "哈巴谷求神处理犹大的罪，神说：“好，我派巴比伦来处理。”这告诉我们，神的道路高过我们的道路。有时候神回应祷告的方式非常剧烈，甚至可怕。当我们求神“复兴”或“改变”时，我们要预备好心：神可能会通过震动、拆毁甚至引入外部压力来达成祂的目的。",
                                content_en: "Habakkuk asked God to fix Judah. God said, 'Okay, I'm sending Babylon.' God's ways are higher. Sometimes His answers are drastic, even scary. When we pray for 'revival' or 'change', be prepared: God might use shaking, tearing down, or external pressure to accomplish His purpose."
                            }
                        }
                    ]
                },
                {
                    id: "complaint2",
                    title: "第二问：神怎能容忍恶人？ (1:12-17)",
                    title_en: "Second Complaint: How Can God Tolerate the Wicked?",
                    verses: [
                        {
                            ref: "1:13",
                            text_zh: "你眼目清洁，不看邪僻，不看奸恶；行诡诈的，你为何看着不理呢？恶人吞灭比自己公义的，你为何静默不语呢？",
                            text_en: "You who are of purer eyes than to see evil and cannot look at wrong, why do you idly look at traitors? Why are you silent when the wicked swallows up the man more righteous than he?",
                            exegesis: {
                                title: "更深的道德危机 (Deeper Moral Crisis)",
                                content_zh: "神的回答并没有解决哈巴谷的问题，反而加剧了它。犹大虽然有罪，但相比那以自己的力量为神的迦勒底人，犹大还是“比较公义”的。先知用“网”和“拖网”的比喻，形容迦勒底人无差别地捕杀列国。他的质问触及了神性的核心：如果神是圣洁的，祂怎么能利用这种邪恶作为工具而不受玷污？",
                                content_en: "God's answer intensified the problem. Judah was sinful, but compared to the godless Chaldeans, Judah was 'more righteous'. The prophet uses the metaphor of 'net' and 'dragnet' for Babylon's indiscriminate killing. The question hits the core of God's nature: If God is holy, how can He use such evil as a tool without being tainted?"
                            },
                            devotional: {
                                title: "与神摔跤的权利 (The Right to Wrestle)",
                                content_zh: "哈巴谷没有掩饰他的神学困惑。他称神为“我的圣者”，并在困惑中紧紧抓住神的属性（眼目清洁）。这是一种成熟的信心：即便我不理解你的作为，我依然确认你的本性。在无法解释的苦难面前，我们可以带着问题走向神，而不是带着问题离开神。",
                                content_en: "Habakkuk didn't hide his theological confusion. He calls God 'My Holy One', clinging to God's nature even in confusion. This is mature faith: verifying God's character even when His actions don't make sense. In inexplicable suffering, run TO God with your questions, not away from Him."
                            }
                        }
                    ]
                }
            ]
        };

        // --- State ---
        let appState = {
            view: 'dashboard',
            invasionSpeed: 0
        };

        // --- Init ---
        document.addEventListener('DOMContentLoaded', () => {
            renderDashboard();
            initVisualizer();
        });

        // --- Navigation Logic ---
        function navigate(view) {
            appState.view = view;
            
            // Update Tab UI
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active-tab');
                btn.classList.add('text-stone-500');
            });
            const activeBtn = document.getElementById(`nav-${view}`);
            activeBtn.classList.add('active-tab');
            activeBtn.classList.remove('text-stone-500');

            const container = document.getElementById('app-content');
            
            // Transition
            container.style.opacity = '0';
            container.style.transform = 'translateY(10px)';
            
            setTimeout(() => {
                if (view === 'dashboard') {
                    renderDashboard();
                    setTimeout(initVisualizer, 100);
                }
                if (view === 'study') renderStudy();
                if (view === 'methodology') renderMethodology();
                
                // Fade in
                container.style.opacity = '1';
                container.style.transform = 'translateY(0)';
                window.scrollTo(0,0);
            }, 300);
        }

        // --- Render Functions ---

        function renderDashboard() {
            const container = document.getElementById('app-content');
            container.innerHTML = `
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 mb-8 fade-in">
                    <!-- Intro Section -->
                    <div class="lg:col-span-7 bg-white p-6 sm:p-8 rounded-2xl shadow-sm border border-purple-100 relative overflow-hidden">
                        <div class="relative z-10">
                            <div class="flex items-center mb-4">
                                <span class="bg-purple-100 text-purple-900 text-[10px] sm:text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide mr-3">Core Theme</span>
                                <h2 class="text-2xl sm:text-3xl font-bold serif text-purple-950">${chapterData.intro.title}</h2>
                            </div>
                            <h3 class="text-base sm:text-lg text-stone-500 font-serif italic mb-6 en-text">${chapterData.intro.title_en}</h3>
                            <p class="text-stone-700 leading-relaxed mb-6 text-sm sm:text-base text-justify">
                                ${chapterData.intro.summary_zh}
                            </p>
                            <p class="text-stone-500 leading-relaxed text-xs sm:text-sm italic en-text border-l-4 border-purple-800 pl-4 text-justify">
                                ${chapterData.intro.summary_en}
                            </p>
                        </div>
                    </div>

                    <!-- Interactive Visual: The Chaldean Invasion -->
                    <div class="lg:col-span-5 bg-indigo-950 text-white p-6 rounded-2xl shadow-lg flex flex-col relative overflow-hidden">
                        <div class="z-10 w-full mb-2 flex justify-between items-center">
                             <h3 class="text-lg font-bold text-orange-400">
                                入侵模拟 <span class="text-xs font-normal opacity-60 ml-2 en-text text-white">Invasion Sim</span>
                             </h3>
                             <button onclick="triggerInvasion()" id="invade-btn" class="px-3 py-1 bg-orange-700 hover:bg-orange-600 text-xs rounded shadow transition border border-orange-500">
                                <i class="fas fa-binoculars mr-1"></i> 惊奇观看 Wonder
                             </button>
                        </div>

                        <!-- Visualizer Canvas -->
                        <div class="invasion-container mt-2" id="inv-canvas">
                             <div class="map-grid"></div>
                             
                             <!-- Riders Layer -->
                             <div id="riders-layer" class="absolute inset-0"></div>

                             <!-- Dust Cloud -->
                             <div class="dust-cloud" id="dust"></div>

                             <div id="viz-msg" class="absolute bottom-4 left-0 text-center w-full text-xs italic text-orange-200 opacity-100 transition-opacity duration-500 pointer-events-none drop-shadow-md">
                                "Bitter and hasty nation..."
                             </div>
                        </div>
                    </div>
                </div>

                <!-- Concept Cards -->
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 fade-in" style="animation-delay: 0.2s">
                    ${chapterData.intro.concepts.map((c, i) => `
                        <div class="${c.bg} p-5 rounded-xl border border-white/50 flex flex-col items-start transition hover:shadow-md group h-full">
                            <div class="w-10 h-10 rounded-full bg-white flex items-center justify-center shadow-sm mb-3 text-lg ${c.color}">
                                <i class="fas ${c.icon}"></i>
                            </div>
                            <h4 class="font-bold ${c.color} text-base mb-1 group-hover:translate-x-1 transition-transform">${c.title}</h4>
                            <p class="text-[10px] sm:text-xs text-stone-500 font-serif mb-2 en-text italic">${c.title_en}</p>
                            <div class="w-full h-px bg-current opacity-10 mb-2"></div>
                            <p class="text-xs text-stone-700 leading-snug mb-1">${c.desc_zh}</p>
                            <p class="text-[10px] text-stone-500 leading-snug opacity-80 en-text mt-auto pt-2">${c.desc_en}</p>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function renderStudy() {
            const container = document.getElementById('app-content');
            
            const headerHTML = `
                <div class="text-center mb-10 fade-in">
                    <span class="inline-block p-3 rounded-full bg-purple-100 text-purple-900 text-xl mb-3 shadow-sm"><i class="fas fa-book-open"></i></span>
                    <h2 class="text-2xl font-bold text-stone-800 serif">逐节研读与灵修</h2>
                    <p class="text-sm text-stone-500 en-text italic mt-1">Verse-by-Verse Exegesis & Devotion</p>
                </div>
            `;

            let sectionsHTML = '';
            chapterData.sections.forEach((section, index) => {
                sectionsHTML += `
                    <div class="max-w-4xl mx-auto mb-16 fade-in" style="animation-delay: ${index * 0.15}s">
                        <!-- Section Header -->
                        <div class="flex items-center mb-6 pl-2 border-l-4 border-purple-800">
                            <div>
                                <h3 class="text-lg sm:text-xl font-bold text-stone-800">${section.title}</h3>
                                <p class="text-xs sm:text-sm text-stone-500 font-serif italic en-text">${section.title_en}</p>
                            </div>
                        </div>
                        
                        <!-- Cards Stack -->
                        <div class="space-y-6">
                            ${section.verses.map(verse => createVerseCard(verse)).join('')}
                        </div>
                    </div>
                `;
            });

            container.innerHTML = headerHTML + sectionsHTML;
        }

        function createVerseCard(verse) {
            return `
                <div class="verse-card group">
                    <!-- Scripture Area -->
                    <div class="bg-white p-5 sm:p-6 border-b border-purple-100 relative">
                        <div class="flex items-center justify-between mb-3">
                            <span class="px-2 py-1 bg-purple-900 text-purple-50 text-[10px] font-bold rounded font-mono">${verse.ref}</span>
                            <div class="h-px bg-purple-100 flex-grow mx-4"></div>
                            <i class="fas fa-scroll text-purple-200 text-xl"></i>
                        </div>
                        <p class="text-stone-900 font-serif text-lg leading-relaxed mb-3 font-medium">
                            ${verse.text_zh}
                        </p>
                        <p class="text-stone-500 font-serif text-sm italic en-text">
                            ${verse.text_en}
                        </p>
                    </div>

                    <!-- Interpretation Area -->
                    <div class="grid grid-cols-1 md:grid-cols-2">
                        <!-- Exegesis Block -->
                        <div class="exegesis-box p-5 sm:p-6 text-stone-800">
                            <div class="flex items-center mb-3 text-purple-900 opacity-80">
                                <i class="fas fa-search mr-2 text-xs"></i>
                                <h4 class="text-xs font-bold uppercase tracking-widest">经文含义 Meaning</h4>
                            </div>
                            <h5 class="font-bold text-purple-950 mb-2 text-sm sm:text-base">${verse.exegesis.title}</h5>
                            <p class="text-sm text-stone-700 leading-relaxed text-justify mb-2">${verse.exegesis.content_zh}</p>
                            <p class="text-xs text-stone-500 font-serif italic en-text mt-3 pt-3 border-t border-purple-900/10">${verse.exegesis.content_en}</p>
                        </div>

                        <!-- Devotional Block -->
                        <div class="devotional-box p-5 sm:p-6 text-stone-800">
                            <div class="flex items-center mb-3 text-orange-800 opacity-80">
                                <i class="fas fa-church mr-2 text-xs"></i>
                                <h4 class="text-xs font-bold uppercase tracking-widest">灵修应用 Devotional</h4>
                            </div>
                            <h5 class="font-bold text-orange-900 mb-2 text-sm sm:text-base">${verse.devotional.title}</h5>
                            <p class="text-sm text-stone-700 leading-relaxed text-justify mb-2">${verse.devotional.content_zh}</p>
                            <p class="text-xs text-stone-500 font-serif italic en-text mt-3 pt-3 border-t border-orange-800/10">${verse.devotional.content_en}</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderMethodology() {
            const container = document.getElementById('app-content');
            container.innerHTML = `
                <div class="max-w-4xl mx-auto fade-in">
                    <div class="text-center mb-10">
                        <h2 class="text-2xl sm:text-3xl font-bold mb-2 serif text-stone-800">解经原则总结</h2>
                        <p class="text-stone-500 en-text">Methodology Summary</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <!-- Method 1 -->
                        <div class="bg-white p-6 rounded-2xl shadow-sm border-t-4 border-purple-800">
                            <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-purple-900 text-xl mb-4">
                                <i class="fas fa-university"></i>
                            </div>
                            <h3 class="text-lg font-bold text-stone-800 mb-2">1. 经文原意 (Contextual Exegesis)</h3>
                            <p class="text-xs text-stone-400 mb-4 uppercase tracking-wider">Historical & Theological</p>
                            <p class="text-sm text-stone-600 mb-4 leading-relaxed">
                                侧重于理解“神义论”（Theodicy）的张力，即神的公义与历史现实的冲突。
                            </p>
                            <ul class="space-y-3 text-sm text-stone-700">
                                <li class="flex items-start"><i class="fas fa-check text-purple-700 mt-1 mr-2 text-xs"></i> <span><strong>体裁分析：</strong> 识别经文为“抱怨/哀歌”（Lament）体裁，是合法的祷告形式。</span></li>
                                <li class="flex items-start"><i class="fas fa-check text-purple-700 mt-1 mr-2 text-xs"></i> <span><strong>历史背景：</strong> 解释迦勒底（新巴比伦）崛起的历史时刻，及其军事特征。</span></li>
                                <li class="flex items-start"><i class="fas fa-check text-purple-700 mt-1 mr-2 text-xs"></i> <span><strong>神学难题：</strong> 深入探讨“圣洁的神为何使用恶人”这一核心矛盾。</span></li>
                            </ul>
                        </div>

                        <!-- Method 2 -->
                        <div class="bg-white p-6 rounded-2xl shadow-sm border-t-4 border-orange-600">
                            <div class="w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center text-orange-800 text-xl mb-4">
                                <i class="fas fa-hands-praying"></i>
                            </div>
                            <h3 class="text-lg font-bold text-stone-800 mb-2">2. 灵修应用 (Devotional Application)</h3>
                            <p class="text-xs text-stone-400 mb-4 uppercase tracking-wider">Faith & Struggle</p>
                            <p class="text-sm text-stone-600 mb-4 leading-relaxed">
                                将先知的困惑转化为现代信徒在苦难中寻求神的路径。
                            </p>
                            <ul class="space-y-3 text-sm text-stone-700">
                                <li class="flex items-start"><i class="fas fa-check text-orange-700 mt-1 mr-2 text-xs"></i> <span><strong>诚实的信心：</strong> 鼓励信徒不压抑疑惑，而是将问题带到神面前。</span></li>
                                <li class="flex items-start"><i class="fas fa-check text-orange-700 mt-1 mr-2 text-xs"></i> <span><strong>视角的转换：</strong> 学习接受神“意想不到”的做事方式（如通过逆境带来成长）。</span></li>
                                <li class="flex items-start"><i class="fas fa-check text-orange-700 mt-1 mr-2 text-xs"></i> <span><strong>等候的态度：</strong> 在理解之前，先选择信靠神的本性（眼目清洁）。</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            `;
        }

        // --- Visualizer Logic ---
        
        let animationId;
        const riders = [];

        function initVisualizer() {
            const container = document.getElementById('riders-layer');
            if(!container) return;
            
            container.innerHTML = '';
            riders.length = 0;
            
            // Create Riders
            for(let i=0; i<20; i++) {
                const r = document.createElement('div');
                r.className = 'rider';
                r.style.width = (Math.random() * 40 + 20) + 'px';
                r.style.top = (Math.random() * 100) + '%';
                container.appendChild(r);
                
                riders.push({
                    el: r,
                    x: Math.random() * 100, // percentage
                    speed: 0 // initial speed
                });
            }
            
            if(!animationId) animateInvasion();
        }

        function animateInvasion() {
            if(appState.view !== 'dashboard') return;

            riders.forEach(r => {
                // If speed > 0, move
                if(r.speed > 0) {
                    r.x += r.speed;
                    // Reset if off screen
                    if(r.x > 110) r.x = -10;
                    r.el.style.left = r.x + '%';
                    r.el.style.opacity = Math.min(1, r.speed * 0.5); // Fade in based on speed
                }
            });

            animationId = requestAnimationFrame(animateInvasion);
        }

        function triggerInvasion() {
            const dust = document.getElementById('dust');
            const msg = document.getElementById('viz-msg');
            const btn = document.getElementById('invade-btn');

            if(!dust) return;

            btn.disabled = true;
            btn.innerHTML = '<i class="fas fa-horse-head mr-1"></i> Invading...';

            // 1. Dust Cloud Rises
            dust.style.opacity = '1';
            dust.style.transform = 'translateX(-50%)'; // Move cloud across
            dust.style.transition = 'all 4s ease-out';

            // 2. Riders Accelerate
            let speedFactor = 0;
            const interval = setInterval(() => {
                speedFactor += 0.1;
                riders.forEach(r => {
                    r.speed = (Math.random() * 1 + 0.5) * speedFactor;
                });
                
                if(speedFactor > 3) clearInterval(interval);
            }, 100);

            // 3. Message
            msg.innerHTML = '<span class="text-red-400 font-bold text-lg">Swifter than Leopards!</span>';
            
            setTimeout(() => {
                btn.innerHTML = '<i class="fas fa-check mr-1"></i> Astounded';
                btn.classList.replace('bg-orange-700', 'bg-purple-900');
            }, 3000);
        }

    </script>
</body>
</html>